(function(){"use strict";function v(a,t){if(a===void 0)return;const{data:s,width:o,height:u}=a,d=[],x=[];for(let r=0;r<t;r++)for(let e=0;e<t;e++){const l=Math.floor(e*o/t),c=Math.min(Math.floor((e+1)*o/t),o),f=Math.floor(r*u/t),g=Math.min(Math.floor((r+1)*u/t),u);x.push({startX:l,endX:c,startY:f,endY:g})}for(const r of x){const{startX:e,endX:l,startY:c,endY:f}=r,g=l-e,X=f-c,h=g*X;if(h===0){const n=(c*o+e)*4;d.push([s[n],s[n+1],s[n+2]]);continue}let m=0,p=0,M=0;for(let n=c;n<f;n++){const y=(n*o+e)*4,z=(n*o+l)*4;for(let i=y;i<z;i+=4)m+=s[i],p+=s[i+1],M+=s[i+2]}const Y=m/h,I=p/h,R=M/h;d.push([Y,I,R])}return d}function w(a){const{imageData:t,size:s}=a;return v(t,s)}self.onmessage=a=>{const{inputData:t,hash:s}=a.data,o=w(t);self.postMessage({result:o,hash:s})}})();

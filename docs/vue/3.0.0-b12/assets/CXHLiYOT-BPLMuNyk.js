(function(){"use strict";(function(){function d(t){let a=0,n=0,e=0,s=0;for(let u=0;u<t.height;u++)for(let f=0;f<t.width;f++){let l=f*u*4,c=t.data[l],h=t.data[l+1],N=t.data[l+2];(c!==0||h!==0||N!==0)&&(a+=c,n+=h,e+=N,s++)}if(s===0)return;const i=a/s,o=n/s,r=e/s;if(!(isNaN(i)||isNaN(o)||isNaN(r)))return[i,o,r]}function g(t){const a=d(t);if(!a)return null;const[n,e,s]=a,i=.299*n+.587*e+.114*s,o=-.14713*n-.28886*e+.436*s,r=.615*n-.51499*e-.10001*s;return[i,o,r]}self.onmessage=t=>{const{inputData:a,hash:n}=t.data,e=g(a);self.postMessage({result:e,hash:n})}})()})();

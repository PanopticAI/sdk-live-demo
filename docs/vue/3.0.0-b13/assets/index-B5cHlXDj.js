const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DKch3HYB-CAN4enmq.js","assets/DXja69_O-CpyH5ASY.js","assets/CVMJQjtX-CYc4f2vt.js","assets/G_LwrtXm-C9YWpYRB.js","assets/CCQsm3Rx-Dz0UtxRp.js","assets/BhjoMu7V-Cz5RQiZL.js","assets/DNiMR7Uc-BCxaXHv6.js","assets/nrhZwBbR-aRSxZMYx.js","assets/CZ9DDwO9-BDQ7dftY.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ye={},Qt=[],pt=()=>{},$s=()=>!1,Xn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ei=t=>t.startsWith("onUpdate:"),je=Object.assign,ti=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},sl=Object.prototype.hasOwnProperty,me=(t,e)=>sl.call(t,e),J=Array.isArray,Xt=t=>_n(t)==="[object Map]",Jn=t=>_n(t)==="[object Set]",Di=t=>_n(t)==="[object Date]",te=t=>typeof t=="function",Ae=t=>typeof t=="string",lt=t=>typeof t=="symbol",Se=t=>t!==null&&typeof t=="object",Hs=t=>(Se(t)||te(t))&&te(t.then)&&te(t.catch),Ws=Object.prototype.toString,_n=t=>Ws.call(t),al=t=>_n(t).slice(8,-1),js=t=>_n(t)==="[object Object]",ni=t=>Ae(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hn=Zr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zn=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},ol=/-\w/g,It=Zn(t=>t.replace(ol,e=>e.slice(1).toUpperCase())),ll=/\B([A-Z])/g,Ht=Zn(t=>t.replace(ll,"-$1").toLowerCase()),zs=Zn(t=>t.charAt(0).toUpperCase()+t.slice(1)),hr=Zn(t=>t?`on${zs(t)}`:""),Mt=(t,e)=>!Object.is(t,e),Bn=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ks=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},qs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ei;const er=()=>Ei||(Ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ri(t){if(J(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ae(r)?hl(r):ri(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Ae(t)||Se(t))return t}const cl=/;(?![^(]*\))/g,dl=/:([^]+)/,ul=/\/\*[^]*?\*\//g;function hl(t){const e={};return t.replace(ul,"").split(cl).forEach(n=>{if(n){const r=n.split(dl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ii(t){let e="";if(Ae(t))e=t;else if(J(t))for(let n=0;n<t.length;n++){const r=ii(t[n]);r&&(e+=r+" ")}else if(Se(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const fl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gl=Zr(fl);function Ys(t){return!!t||t===""}function pl(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=sn(t[r],e[r]);return n}function sn(t,e){if(t===e)return!0;let n=Di(t),r=Di(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=lt(t),r=lt(e),n||r)return t===e;if(n=J(t),r=J(e),n||r)return n&&r?pl(t,e):!1;if(n=Se(t),r=Se(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const l in t){const o=t.hasOwnProperty(l),u=e.hasOwnProperty(l);if(o&&!u||!o&&u||!sn(t[l],e[l]))return!1}}return String(t)===String(e)}function ml(t,e){return t.findIndex(n=>sn(n,e))}const Gs=t=>!!(t&&t.__v_isRef===!0),rt=t=>Ae(t)?t:t==null?"":J(t)||Se(t)&&(t.toString===Ws||!te(t.toString))?Gs(t)?rt(t.value):JSON.stringify(t,Qs,2):String(t),Qs=(t,e)=>Gs(e)?Qs(t,e.value):Xt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[fr(r,s)+" =>"]=i,n),{})}:Jn(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>fr(n))}:lt(e)?fr(e):Se(e)&&!J(e)&&!js(e)?String(e):e,fr=(t,e="")=>{var n;return lt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ge;class bl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ge,!e&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ge;try{return Ge=this,e()}finally{Ge=n}}}on(){++this._on===1&&(this.prevScope=Ge,Ge=this)}off(){this._on>0&&--this._on===0&&(Ge=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function vl(){return Ge}let xe;const gr=new WeakSet;class Xs{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ge&&Ge.active&&Ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gr.has(this)&&(gr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zs(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ri(this),ea(this);const e=xe,n=ot;xe=this,ot=!0;try{return this.fn()}finally{ta(this),xe=e,ot=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)oi(e);this.deps=this.depsTail=void 0,Ri(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pr(this)&&this.run()}get dirty(){return Pr(this)}}let Js=0,fn,gn;function Zs(t,e=!1){if(t.flags|=8,e){t.next=gn,gn=t;return}t.next=fn,fn=t}function si(){Js++}function ai(){if(--Js>0)return;if(gn){let e=gn;for(gn=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;fn;){let e=fn;for(fn=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function ea(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ta(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),oi(r),wl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Pr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(na(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function na(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===vn)||(t.globalVersion=vn,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Pr(t))))return;t.flags|=2;const e=t.dep,n=xe,r=ot;xe=t,ot=!0;try{ea(t);const i=t.fn(t._value);(e.version===0||Mt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{xe=n,ot=r,ta(t),t.flags&=-3}}function oi(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)oi(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function wl(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ot=!0;const ra=[];function St(){ra.push(ot),ot=!1}function _t(){const t=ra.pop();ot=t===void 0?!0:t}function Ri(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=xe;xe=void 0;try{e()}finally{xe=n}}}let vn=0;class yl{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class li{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!xe||!ot||xe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xe)n=this.activeLink=new yl(xe,this),xe.deps?(n.prevDep=xe.depsTail,xe.depsTail.nextDep=n,xe.depsTail=n):xe.deps=xe.depsTail=n,ia(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=xe.depsTail,n.nextDep=void 0,xe.depsTail.nextDep=n,xe.depsTail=n,xe.deps===n&&(xe.deps=r)}return n}trigger(e){this.version++,vn++,this.notify(e)}notify(e){si();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ai()}}}function ia(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ia(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Fr=new WeakMap,Nt=Symbol(""),Or=Symbol(""),wn=Symbol("");function $e(t,e,n){if(ot&&xe){let r=Fr.get(t);r||Fr.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new li),i.map=r,i.key=n),i.track()}}function kt(t,e,n,r,i,s){const l=Fr.get(t);if(!l){vn++;return}const o=u=>{u&&u.trigger()};if(si(),e==="clear")l.forEach(o);else{const u=J(t),f=u&&ni(n);if(u&&n==="length"){const h=Number(r);l.forEach((b,m)=>{(m==="length"||m===wn||!lt(m)&&m>=h)&&o(b)})}else switch((n!==void 0||l.has(void 0))&&o(l.get(n)),f&&o(l.get(wn)),e){case"add":u?f&&o(l.get("length")):(o(l.get(Nt)),Xt(t)&&o(l.get(Or)));break;case"delete":u||(o(l.get(Nt)),Xt(t)&&o(l.get(Or)));break;case"set":Xt(t)&&o(l.get(Nt));break}}ai()}function jt(t){const e=pe(t);return e===t?e:($e(e,"iterate",wn),it(t)?e:e.map(Ve))}function tr(t){return $e(t=pe(t),"iterate",wn),t}const kl={__proto__:null,[Symbol.iterator](){return pr(this,Symbol.iterator,Ve)},concat(...t){return jt(this).concat(...t.map(e=>J(e)?jt(e):e))},entries(){return pr(this,"entries",t=>(t[1]=Ve(t[1]),t))},every(t,e){return bt(this,"every",t,e,void 0,arguments)},filter(t,e){return bt(this,"filter",t,e,n=>n.map(Ve),arguments)},find(t,e){return bt(this,"find",t,e,Ve,arguments)},findIndex(t,e){return bt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bt(this,"findLast",t,e,Ve,arguments)},findLastIndex(t,e){return bt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bt(this,"forEach",t,e,void 0,arguments)},includes(...t){return mr(this,"includes",t)},indexOf(...t){return mr(this,"indexOf",t)},join(t){return jt(this).join(t)},lastIndexOf(...t){return mr(this,"lastIndexOf",t)},map(t,e){return bt(this,"map",t,e,void 0,arguments)},pop(){return ln(this,"pop")},push(...t){return ln(this,"push",t)},reduce(t,...e){return Ci(this,"reduce",t,e)},reduceRight(t,...e){return Ci(this,"reduceRight",t,e)},shift(){return ln(this,"shift")},some(t,e){return bt(this,"some",t,e,void 0,arguments)},splice(...t){return ln(this,"splice",t)},toReversed(){return jt(this).toReversed()},toSorted(t){return jt(this).toSorted(t)},toSpliced(...t){return jt(this).toSpliced(...t)},unshift(...t){return ln(this,"unshift",t)},values(){return pr(this,"values",Ve)}};function pr(t,e,n){const r=tr(t),i=r[e]();return r!==t&&!it(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const xl=Array.prototype;function bt(t,e,n,r,i,s){const l=tr(t),o=l!==t&&!it(t),u=l[e];if(u!==xl[e]){const b=u.apply(t,s);return o?Ve(b):b}let f=n;l!==t&&(o?f=function(b,m){return n.call(this,Ve(b),m,t)}:n.length>2&&(f=function(b,m){return n.call(this,b,m,t)}));const h=u.call(l,f,r);return o&&i?i(h):h}function Ci(t,e,n,r){const i=tr(t);let s=n;return i!==t&&(it(t)?n.length>3&&(s=function(l,o,u){return n.call(this,l,o,u,t)}):s=function(l,o,u){return n.call(this,l,Ve(o),u,t)}),i[e](s,...r)}function mr(t,e,n){const r=pe(t);$e(r,"iterate",wn);const i=r[e](...n);return(i===-1||i===!1)&&ui(n[0])?(n[0]=pe(n[0]),r[e](...n)):i}function ln(t,e,n=[]){St(),si();const r=pe(t)[e].apply(t,n);return ai(),_t(),r}const Sl=Zr("__proto__,__v_isRef,__isVue"),sa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(lt));function _l(t){lt(t)||(t=String(t));const e=pe(this);return $e(e,"has",t),e.hasOwnProperty(t)}class aa{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?Fl:da:s?ca:la).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=J(e);if(!i){let u;if(l&&(u=kl[n]))return u;if(n==="hasOwnProperty")return _l}const o=Reflect.get(e,n,We(e)?e:r);if((lt(n)?sa.has(n):Sl(n))||(i||$e(e,"get",n),s))return o;if(We(o)){const u=l&&ni(n)?o:o.value;return i&&Se(u)?Lr(u):u}return Se(o)?i?Lr(o):nr(o):o}}class oa extends aa{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const u=Pt(s);if(!it(r)&&!Pt(r)&&(s=pe(s),r=pe(r)),!J(e)&&We(s)&&!We(r))return u||(s.value=r),!0}const l=J(e)&&ni(n)?Number(n)<e.length:me(e,n),o=Reflect.set(e,n,r,We(e)?e:i);return e===pe(i)&&(l?Mt(r,s)&&kt(e,"set",n,r):kt(e,"add",n,r)),o}deleteProperty(e,n){const r=me(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&kt(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!lt(n)||!sa.has(n))&&$e(e,"has",n),r}ownKeys(e){return $e(e,"iterate",J(e)?"length":Nt),Reflect.ownKeys(e)}}class Dl extends aa{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const El=new oa,Rl=new Dl,Cl=new oa(!0);const Br=t=>t,Tn=t=>Reflect.getPrototypeOf(t);function Tl(t,e,n){return function(...r){const i=this.__v_raw,s=pe(i),l=Xt(s),o=t==="entries"||t===Symbol.iterator&&l,u=t==="keys"&&l,f=i[t](...r),h=n?Br:e?Wn:Ve;return!e&&$e(s,"iterate",u?Or:Nt),{next(){const{value:b,done:m}=f.next();return m?{value:b,done:m}:{value:o?[h(b[0]),h(b[1])]:h(b),done:m}},[Symbol.iterator](){return this}}}}function An(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Al(t,e){const n={get(i){const s=this.__v_raw,l=pe(s),o=pe(i);t||(Mt(i,o)&&$e(l,"get",i),$e(l,"get",o));const{has:u}=Tn(l),f=e?Br:t?Wn:Ve;if(u.call(l,i))return f(s.get(i));if(u.call(l,o))return f(s.get(o));s!==l&&s.get(i)},get size(){const i=this.__v_raw;return!t&&$e(pe(i),"iterate",Nt),i.size},has(i){const s=this.__v_raw,l=pe(s),o=pe(i);return t||(Mt(i,o)&&$e(l,"has",i),$e(l,"has",o)),i===o?s.has(i):s.has(i)||s.has(o)},forEach(i,s){const l=this,o=l.__v_raw,u=pe(o),f=e?Br:t?Wn:Ve;return!t&&$e(u,"iterate",Nt),o.forEach((h,b)=>i.call(s,f(h),f(b),l))}};return je(n,t?{add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear")}:{add(i){!e&&!it(i)&&!Pt(i)&&(i=pe(i));const s=pe(this);return Tn(s).has.call(s,i)||(s.add(i),kt(s,"add",i,i)),this},set(i,s){!e&&!it(s)&&!Pt(s)&&(s=pe(s));const l=pe(this),{has:o,get:u}=Tn(l);let f=o.call(l,i);f||(i=pe(i),f=o.call(l,i));const h=u.call(l,i);return l.set(i,s),f?Mt(s,h)&&kt(l,"set",i,s):kt(l,"add",i,s),this},delete(i){const s=pe(this),{has:l,get:o}=Tn(s);let u=l.call(s,i);u||(i=pe(i),u=l.call(s,i)),o&&o.call(s,i);const f=s.delete(i);return u&&kt(s,"delete",i,void 0),f},clear(){const i=pe(this),s=i.size!==0,l=i.clear();return s&&kt(i,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Tl(i,t,e)}),n}function ci(t,e){const n=Al(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(me(n,i)&&i in r?n:r,i,s)}const Ml={get:ci(!1,!1)},Il={get:ci(!1,!0)},Pl={get:ci(!0,!1)};const la=new WeakMap,ca=new WeakMap,da=new WeakMap,Fl=new WeakMap;function Ol(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bl(t){return t.__v_skip||!Object.isExtensible(t)?0:Ol(al(t))}function nr(t){return Pt(t)?t:di(t,!1,El,Ml,la)}function Ll(t){return di(t,!1,Cl,Il,ca)}function Lr(t){return di(t,!0,Rl,Pl,da)}function di(t,e,n,r,i){if(!Se(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Bl(t);if(s===0)return t;const l=i.get(t);if(l)return l;const o=new Proxy(t,s===2?r:n);return i.set(t,o),o}function Jt(t){return Pt(t)?Jt(t.__v_raw):!!(t&&t.__v_isReactive)}function Pt(t){return!!(t&&t.__v_isReadonly)}function it(t){return!!(t&&t.__v_isShallow)}function ui(t){return t?!!t.__v_raw:!1}function pe(t){const e=t&&t.__v_raw;return e?pe(e):t}function ua(t){return!me(t,"__v_skip")&&Object.isExtensible(t)&&Ks(t,"__v_skip",!0),t}const Ve=t=>Se(t)?nr(t):t,Wn=t=>Se(t)?Lr(t):t;function We(t){return t?t.__v_isRef===!0:!1}function Je(t){return Ul(t,!1)}function Ul(t,e){return We(t)?t:new Vl(t,e)}class Vl{constructor(e,n){this.dep=new li,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pe(e),this._value=n?e:Ve(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||it(e)||Pt(e);e=r?e:pe(e),Mt(e,n)&&(this._rawValue=e,this._value=r?e:Ve(e),this.dep.trigger())}}function Yt(t){return We(t)?t.value:t}const Nl={get:(t,e,n)=>e==="__v_raw"?t:Yt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return We(i)&&!We(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ha(t){return Jt(t)?t:new Proxy(t,Nl)}class $l{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new li(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return Zs(this,!0),!0}get value(){const e=this.dep.track();return na(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Hl(t,e,n=!1){let r,i;return te(t)?r=t:(r=t.get,i=t.set),new $l(r,i,n)}const Mn={},jn=new WeakMap;let Vt;function Wl(t,e=!1,n=Vt){if(n){let r=jn.get(n);r||jn.set(n,r=[]),r.push(t)}}function jl(t,e,n=ye){const{immediate:r,deep:i,once:s,scheduler:l,augmentJob:o,call:u}=n,f=T=>i?T:it(T)||i===!1||i===0?xt(T,1):xt(T);let h,b,m,v,x=!1,g=!1;if(We(t)?(b=()=>t.value,x=it(t)):Jt(t)?(b=()=>f(t),x=!0):J(t)?(g=!0,x=t.some(T=>Jt(T)||it(T)),b=()=>t.map(T=>{if(We(T))return T.value;if(Jt(T))return f(T);if(te(T))return u?u(T,2):T()})):te(t)?e?b=u?()=>u(t,2):t:b=()=>{if(m){St();try{m()}finally{_t()}}const T=Vt;Vt=h;try{return u?u(t,3,[v]):t(v)}finally{Vt=T}}:b=pt,e&&i){const T=b,B=i===!0?1/0:i;b=()=>xt(T(),B)}const k=vl(),_=()=>{h.stop(),k&&k.active&&ti(k.effects,h)};if(s&&e){const T=e;e=(...B)=>{T(...B),_()}}let R=g?new Array(t.length).fill(Mn):Mn;const E=T=>{if(!(!(h.flags&1)||!h.dirty&&!T))if(e){const B=h.run();if(i||x||(g?B.some((H,L)=>Mt(H,R[L])):Mt(B,R))){m&&m();const H=Vt;Vt=h;try{const L=[B,R===Mn?void 0:g&&R[0]===Mn?[]:R,v];R=B,u?u(e,3,L):e(...L)}finally{Vt=H}}}else h.run()};return o&&o(E),h=new Xs(b),h.scheduler=l?()=>l(E,!1):E,v=T=>Wl(T,!1,h),m=h.onStop=()=>{const T=jn.get(h);if(T){if(u)u(T,4);else for(const B of T)B();jn.delete(h)}},e?r?E(!0):R=h.run():l?l(E.bind(null,!0),!0):h.run(),_.pause=h.pause.bind(h),_.resume=h.resume.bind(h),_.stop=_,_}function xt(t,e=1/0,n){if(e<=0||!Se(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,We(t))xt(t.value,e,n);else if(J(t))for(let r=0;r<t.length;r++)xt(t[r],e,n);else if(Jn(t)||Xt(t))t.forEach(r=>{xt(r,e,n)});else if(js(t)){for(const r in t)xt(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&xt(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Dn(t,e,n,r){try{return r?t(...r):t()}catch(i){rr(i,e,n)}}function mt(t,e,n,r){if(te(t)){const i=Dn(t,e,n,r);return i&&Hs(i)&&i.catch(s=>{rr(s,e,n)}),i}if(J(t)){const i=[];for(let s=0;s<t.length;s++)i.push(mt(t[s],e,n,r));return i}}function rr(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||ye;if(e){let o=e.parent;const u=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const h=o.ec;if(h){for(let b=0;b<h.length;b++)if(h[b](t,u,f)===!1)return}o=o.parent}if(s){St(),Dn(s,null,10,[t,u,f]),_t();return}}zl(t,n,i,r,l)}function zl(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const qe=[];let ut=-1;const Zt=[];let Ct=null,Gt=0;const fa=Promise.resolve();let zn=null;function ga(t){const e=zn||fa;return t?e.then(this?t.bind(this):t):e}function Kl(t){let e=ut+1,n=qe.length;for(;e<n;){const r=e+n>>>1,i=qe[r],s=yn(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function hi(t){if(!(t.flags&1)){const e=yn(t),n=qe[qe.length-1];!n||!(t.flags&2)&&e>=yn(n)?qe.push(t):qe.splice(Kl(e),0,t),t.flags|=1,pa()}}function pa(){zn||(zn=fa.then(ba))}function ql(t){J(t)?Zt.push(...t):Ct&&t.id===-1?Ct.splice(Gt+1,0,t):t.flags&1||(Zt.push(t),t.flags|=1),pa()}function Ti(t,e,n=ut+1){for(;n<qe.length;n++){const r=qe[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;qe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ma(t){if(Zt.length){const e=[...new Set(Zt)].sort((n,r)=>yn(n)-yn(r));if(Zt.length=0,Ct){Ct.push(...e);return}for(Ct=e,Gt=0;Gt<Ct.length;Gt++){const n=Ct[Gt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ct=null,Gt=0}}const yn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ba(t){try{for(ut=0;ut<qe.length;ut++){const e=qe[ut];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Dn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ut<qe.length;ut++){const e=qe[ut];e&&(e.flags&=-2)}ut=-1,qe.length=0,ma(),zn=null,(qe.length||Zt.length)&&ba()}}let He=null,va=null;function Kn(t){const e=He;return He=t,va=t&&t.type.__scopeId||null,e}function Yl(t,e=He,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Vi(-1);const s=Kn(e);let l;try{l=t(...i)}finally{Kn(s),r._d&&Vi(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function br(t,e){if(He===null)return t;const n=or(He),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,l,o,u=ye]=e[i];s&&(te(s)&&(s={mounted:s,updated:s}),s.deep&&xt(l),r.push({dir:s,instance:n,value:l,oldValue:void 0,arg:o,modifiers:u}))}return t}function Lt(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let l=0;l<i.length;l++){const o=i[l];s&&(o.oldValue=s[l].value);let u=o.dir[r];u&&(St(),mt(u,n,8,[t.el,o,t,e]),_t())}}const Gl=Symbol("_vte"),Ql=t=>t.__isTeleport,Xl=Symbol("_leaveCb");function fi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,fi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ft(t,e){return te(t)?je({name:t.name},e,{setup:t}):t}function wa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const qn=new WeakMap;function pn(t,e,n,r,i=!1){if(J(t)){t.forEach((x,g)=>pn(x,e&&(J(e)?e[g]:e),n,r,i));return}if(en(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&pn(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?or(r.component):r.el,l=i?null:s,{i:o,r:u}=t,f=e&&e.r,h=o.refs===ye?o.refs={}:o.refs,b=o.setupState,m=pe(b),v=b===ye?$s:x=>me(m,x);if(f!=null&&f!==u){if(Ai(e),Ae(f))h[f]=null,v(f)&&(b[f]=null);else if(We(f)){f.value=null;const x=e;x.k&&(h[x.k]=null)}}if(te(u))Dn(u,o,12,[l,h]);else{const x=Ae(u),g=We(u);if(x||g){const k=()=>{if(t.f){const _=x?v(u)?b[u]:h[u]:u.value;if(i)J(_)&&ti(_,s);else if(J(_))_.includes(s)||_.push(s);else if(x)h[u]=[s],v(u)&&(b[u]=h[u]);else{const R=[s];u.value=R,t.k&&(h[t.k]=R)}}else x?(h[u]=l,v(u)&&(b[u]=l)):g&&(u.value=l,t.k&&(h[t.k]=l))};if(l){const _=()=>{k(),qn.delete(t)};_.id=-1,qn.set(t,_),Ze(_,n)}else Ai(t),k()}}}function Ai(t){const e=qn.get(t);e&&(e.flags|=8,qn.delete(t))}er().requestIdleCallback;er().cancelIdleCallback;const en=t=>!!t.type.__asyncLoader,ya=t=>t.type.__isKeepAlive;function Jl(t,e){ka(t,"a",e)}function Zl(t,e){ka(t,"da",e)}function ka(t,e,n=Ye){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ir(e,r,n),n){let i=n.parent;for(;i&&i.parent;)ya(i.parent.vnode)&&ec(r,e,n,i),i=i.parent}}function ec(t,e,n,r){const i=ir(e,t,r,!0);xa(()=>{ti(r[e],i)},n)}function ir(t,e,n=Ye,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...l)=>{St();const o=En(n),u=mt(e,n,t,l);return o(),_t(),u});return r?i.unshift(s):i.push(s),s}}const Et=t=>(e,n=Ye)=>{(!xn||t==="sp")&&ir(t,(...r)=>e(...r),n)},tc=Et("bm"),nc=Et("m"),rc=Et("bu"),ic=Et("u"),sc=Et("bum"),xa=Et("um"),ac=Et("sp"),oc=Et("rtg"),lc=Et("rtc");function cc(t,e=Ye){ir("ec",t,e)}const dc=Symbol.for("v-ndc");function uc(t,e,n,r){let i;const s=n,l=J(t);if(l||Ae(t)){const o=l&&Jt(t);let u=!1,f=!1;o&&(u=!it(t),f=Pt(t),t=tr(t)),i=new Array(t.length);for(let h=0,b=t.length;h<b;h++)i[h]=e(u?f?Wn(Ve(t[h])):Ve(t[h]):t[h],h,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s)}else if(Se(t))if(t[Symbol.iterator])i=Array.from(t,(o,u)=>e(o,u,void 0,s));else{const o=Object.keys(t);i=new Array(o.length);for(let u=0,f=o.length;u<f;u++){const h=o[u];i[u]=e(t[h],h,u,s)}}else i=[];return i}function hc(t,e,n={},r,i){if(He.ce||He.parent&&en(He.parent)&&He.parent.ce){const f=Object.keys(n).length>0;return le(),Ie(tt,null,[ve("slot",n,r)],f?-2:64)}let s=t[e];s&&s._c&&(s._d=!1),le();const l=s&&Sa(s(n)),o=n.key||l&&l.key,u=Ie(tt,{key:(o&&!lt(o)?o:`_${e}`)+(!l&&r?"_fb":"")},l||[],l&&t._===1?64:-2);return s&&s._c&&(s._d=!0),u}function Sa(t){return t.some(e=>mi(e)?!(e.type===Dt||e.type===tt&&!Sa(e.children)):!0)?t:null}const Ur=t=>t?Wa(t)?or(t):Ur(t.parent):null,mn=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ur(t.parent),$root:t=>Ur(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Da(t),$forceUpdate:t=>t.f||(t.f=()=>{hi(t.update)}),$nextTick:t=>t.n||(t.n=ga.bind(t.proxy)),$watch:t=>Fc.bind(t)}),vr=(t,e)=>t!==ye&&!t.__isScriptSetup&&me(t,e),fc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:l,type:o,appContext:u}=t;let f;if(e[0]!=="$"){const v=l[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(vr(r,e))return l[e]=1,r[e];if(i!==ye&&me(i,e))return l[e]=2,i[e];if((f=t.propsOptions[0])&&me(f,e))return l[e]=3,s[e];if(n!==ye&&me(n,e))return l[e]=4,n[e];Vr&&(l[e]=0)}}const h=mn[e];let b,m;if(h)return e==="$attrs"&&$e(t.attrs,"get",""),h(t);if((b=o.__cssModules)&&(b=b[e]))return b;if(n!==ye&&me(n,e))return l[e]=4,n[e];if(m=u.config.globalProperties,me(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return vr(i,e)?(i[e]=n,!0):r!==ye&&me(r,e)?(r[e]=n,!0):me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s,type:l}},o){let u,f;return!!(n[o]||t!==ye&&o[0]!=="$"&&me(t,o)||vr(e,o)||(u=s[0])&&me(u,o)||me(r,o)||me(mn,o)||me(i.config.globalProperties,o)||(f=l.__cssModules)&&f[o])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Mi(t){return J(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Vr=!0;function gc(t){const e=Da(t),n=t.proxy,r=t.ctx;Vr=!1,e.beforeCreate&&Ii(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:l,watch:o,provide:u,inject:f,created:h,beforeMount:b,mounted:m,beforeUpdate:v,updated:x,activated:g,deactivated:k,beforeDestroy:_,beforeUnmount:R,destroyed:E,unmounted:T,render:B,renderTracked:H,renderTriggered:L,errorCaptured:X,serverPrefetch:be,expose:Z,inheritAttrs:Y,components:he,directives:ke,filters:Me}=e;if(f&&pc(f,r,null),l)for(const ae in l){const K=l[ae];te(K)&&(r[ae]=K.bind(n))}if(i){const ae=i.call(n,n);Se(ae)&&(t.data=nr(ae))}if(Vr=!0,s)for(const ae in s){const K=s[ae],ne=te(K)?K.bind(n,n):te(K.get)?K.get.bind(n,n):pt,ee=!te(K)&&te(K.set)?K.set.bind(n):pt,Q=ft({get:ne,set:ee});Object.defineProperty(r,ae,{enumerable:!0,configurable:!0,get:()=>Q.value,set:G=>Q.value=G})}if(o)for(const ae in o)_a(o[ae],r,n,ae);if(u){const ae=te(u)?u.call(n):u;Reflect.ownKeys(ae).forEach(K=>{kc(K,ae[K])})}h&&Ii(h,t,"c");function fe(ae,K){J(K)?K.forEach(ne=>ae(ne.bind(n))):K&&ae(K.bind(n))}if(fe(tc,b),fe(nc,m),fe(rc,v),fe(ic,x),fe(Jl,g),fe(Zl,k),fe(cc,X),fe(lc,H),fe(oc,L),fe(sc,R),fe(xa,T),fe(ac,be),J(Z))if(Z.length){const ae=t.exposed||(t.exposed={});Z.forEach(K=>{Object.defineProperty(ae,K,{get:()=>n[K],set:ne=>n[K]=ne,enumerable:!0})})}else t.exposed||(t.exposed={});B&&t.render===pt&&(t.render=B),Y!=null&&(t.inheritAttrs=Y),he&&(t.components=he),ke&&(t.directives=ke),be&&wa(t)}function pc(t,e,n=pt){J(t)&&(t=Nr(t));for(const r in t){const i=t[r];let s;Se(i)?"default"in i?s=Ln(i.from||r,i.default,!0):s=Ln(i.from||r):s=Ln(i),We(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[r]=s}}function Ii(t,e,n){mt(J(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function _a(t,e,n,r){let i=r.includes(".")?Ua(n,r):()=>n[r];if(Ae(t)){const s=e[t];te(s)&&yr(i,s)}else if(te(t))yr(i,t.bind(n));else if(Se(t))if(J(t))t.forEach(s=>_a(s,e,n,r));else{const s=te(t.handler)?t.handler.bind(n):e[t.handler];te(s)&&yr(i,s,t)}}function Da(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:l}}=t.appContext,o=s.get(e);let u;return o?u=o:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(f=>Yn(u,f,l,!0)),Yn(u,e,l)),Se(e)&&s.set(e,u),u}function Yn(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Yn(t,s,n,!0),i&&i.forEach(l=>Yn(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const o=mc[l]||n&&n[l];t[l]=o?o(t[l],e[l]):e[l]}return t}const mc={data:Pi,props:Fi,emits:Fi,methods:un,computed:un,beforeCreate:ze,created:ze,beforeMount:ze,mounted:ze,beforeUpdate:ze,updated:ze,beforeDestroy:ze,beforeUnmount:ze,destroyed:ze,unmounted:ze,activated:ze,deactivated:ze,errorCaptured:ze,serverPrefetch:ze,components:un,directives:un,watch:vc,provide:Pi,inject:bc};function Pi(t,e){return e?t?function(){return je(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function bc(t,e){return un(Nr(t),Nr(e))}function Nr(t){if(J(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ze(t,e){return t?[...new Set([].concat(t,e))]:e}function un(t,e){return t?je(Object.create(null),t,e):e}function Fi(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:je(Object.create(null),Mi(t),Mi(e??{})):e}function vc(t,e){if(!t)return e;if(!e)return t;const n=je(Object.create(null),t);for(const r in e)n[r]=ze(t[r],e[r]);return n}function Ea(){return{app:null,config:{isNativeTag:$s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wc=0;function yc(t,e){return function(r,i=null){te(r)||(r=je({},r)),i!=null&&!Se(i)&&(i=null);const s=Ea(),l=new WeakSet,o=[];let u=!1;const f=s.app={_uid:wc++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:nd,get config(){return s.config},set config(h){},use(h,...b){return l.has(h)||(h&&te(h.install)?(l.add(h),h.install(f,...b)):te(h)&&(l.add(h),h(f,...b))),f},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),f},component(h,b){return b?(s.components[h]=b,f):s.components[h]},directive(h,b){return b?(s.directives[h]=b,f):s.directives[h]},mount(h,b,m){if(!u){const v=f._ceVNode||ve(r,i);return v.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),t(v,h,m),u=!0,f._container=h,h.__vue_app__=f,or(v.component)}},onUnmount(h){o.push(h)},unmount(){u&&(mt(o,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(h,b){return s.provides[h]=b,f},runWithContext(h){const b=tn;tn=f;try{return h()}finally{tn=b}}};return f}}let tn=null;function kc(t,e){if(Ye){let n=Ye.provides;const r=Ye.parent&&Ye.parent.provides;r===n&&(n=Ye.provides=Object.create(r)),n[t]=e}}function Ln(t,e,n=!1){const r=Qc();if(r||tn){let i=tn?tn._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&te(e)?e.call(r&&r.proxy):e}}const Ra={},Ca=()=>Object.create(Ra),Ta=t=>Object.getPrototypeOf(t)===Ra;function xc(t,e,n,r=!1){const i={},s=Ca();t.propsDefaults=Object.create(null),Aa(t,e,i,s);for(const l in t.propsOptions[0])l in i||(i[l]=void 0);n?t.props=r?i:Ll(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Sc(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:l}}=t,o=pe(i),[u]=t.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=t.vnode.dynamicProps;for(let b=0;b<h.length;b++){let m=h[b];if(sr(t.emitsOptions,m))continue;const v=e[m];if(u)if(me(s,m))v!==s[m]&&(s[m]=v,f=!0);else{const x=It(m);i[x]=$r(u,o,x,v,t,!1)}else v!==s[m]&&(s[m]=v,f=!0)}}}else{Aa(t,e,i,s)&&(f=!0);let h;for(const b in o)(!e||!me(e,b)&&((h=Ht(b))===b||!me(e,h)))&&(u?n&&(n[b]!==void 0||n[h]!==void 0)&&(i[b]=$r(u,o,b,void 0,t,!0)):delete i[b]);if(s!==o)for(const b in s)(!e||!me(e,b))&&(delete s[b],f=!0)}f&&kt(t.attrs,"set","")}function Aa(t,e,n,r){const[i,s]=t.propsOptions;let l=!1,o;if(e)for(let u in e){if(hn(u))continue;const f=e[u];let h;i&&me(i,h=It(u))?!s||!s.includes(h)?n[h]=f:(o||(o={}))[h]=f:sr(t.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,l=!0)}if(s){const u=pe(n),f=o||ye;for(let h=0;h<s.length;h++){const b=s[h];n[b]=$r(i,u,b,f[b],t,!me(f,b))}}return l}function $r(t,e,n,r,i,s){const l=t[n];if(l!=null){const o=me(l,"default");if(o&&r===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&te(u)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const h=En(i);r=f[n]=u.call(null,e),h()}}else r=u;i.ce&&i.ce._setProp(n,r)}l[0]&&(s&&!o?r=!1:l[1]&&(r===""||r===Ht(n))&&(r=!0))}return r}const _c=new WeakMap;function Ma(t,e,n=!1){const r=n?_c:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,l={},o=[];let u=!1;if(!te(t)){const h=b=>{u=!0;const[m,v]=Ma(b,e,!0);je(l,m),v&&o.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!u)return Se(t)&&r.set(t,Qt),Qt;if(J(s))for(let h=0;h<s.length;h++){const b=It(s[h]);Oi(b)&&(l[b]=ye)}else if(s)for(const h in s){const b=It(h);if(Oi(b)){const m=s[h],v=l[b]=J(m)||te(m)?{type:m}:je({},m),x=v.type;let g=!1,k=!0;if(J(x))for(let _=0;_<x.length;++_){const R=x[_],E=te(R)&&R.name;if(E==="Boolean"){g=!0;break}else E==="String"&&(k=!1)}else g=te(x)&&x.name==="Boolean";v[0]=g,v[1]=k,(g||me(v,"default"))&&o.push(b)}}const f=[l,o];return Se(t)&&r.set(t,f),f}function Oi(t){return t[0]!=="$"&&!hn(t)}const gi=t=>t==="_"||t==="_ctx"||t==="$stable",pi=t=>J(t)?t.map(ht):[ht(t)],Dc=(t,e,n)=>{if(e._n)return e;const r=Yl((...i)=>pi(e(...i)),n);return r._c=!1,r},Ia=(t,e,n)=>{const r=t._ctx;for(const i in t){if(gi(i))continue;const s=t[i];if(te(s))e[i]=Dc(i,s,r);else if(s!=null){const l=pi(s);e[i]=()=>l}}},Pa=(t,e)=>{const n=pi(e);t.slots.default=()=>n},Fa=(t,e,n)=>{for(const r in e)(n||!gi(r))&&(t[r]=e[r])},Ec=(t,e,n)=>{const r=t.slots=Ca();if(t.vnode.shapeFlag&32){const i=e._;i?(Fa(r,e,n),n&&Ks(r,"_",i,!0)):Ia(e,r)}else e&&Pa(t,e)},Rc=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,l=ye;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:Fa(i,e,n):(s=!e.$stable,Ia(e,i)),l=e}else e&&(Pa(t,e),l={default:1});if(s)for(const o in i)!gi(o)&&l[o]==null&&delete i[o]},Ze=Hc;function Cc(t){return Tc(t)}function Tc(t,e){const n=er();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:l,createText:o,createComment:u,setText:f,setElementText:h,parentNode:b,nextSibling:m,setScopeId:v=pt,insertStaticContent:x}=t,g=(y,S,M,F=null,P=null,I=null,$=void 0,V=null,U=!!S.dynamicChildren)=>{if(y===S)return;y&&!cn(y,S)&&(F=Ne(y),G(y,P,I,!0),y=null),S.patchFlag===-2&&(U=!1,S.dynamicChildren=null);const{type:O,ref:j,shapeFlag:N}=S;switch(O){case ar:k(y,S,M,F);break;case Dt:_(y,S,M,F);break;case kr:y==null&&R(S,M,F,$);break;case tt:he(y,S,M,F,P,I,$,V,U);break;default:N&1?B(y,S,M,F,P,I,$,V,U):N&6?ke(y,S,M,F,P,I,$,V,U):(N&64||N&128)&&O.process(y,S,M,F,P,I,$,V,U,Xe)}j!=null&&P?pn(j,y&&y.ref,I,S||y,!S):j==null&&y&&y.ref!=null&&pn(y.ref,null,I,y,!0)},k=(y,S,M,F)=>{if(y==null)r(S.el=o(S.children),M,F);else{const P=S.el=y.el;S.children!==y.children&&f(P,S.children)}},_=(y,S,M,F)=>{y==null?r(S.el=u(S.children||""),M,F):S.el=y.el},R=(y,S,M,F)=>{[y.el,y.anchor]=x(y.children,S,M,F,y.el,y.anchor)},E=({el:y,anchor:S},M,F)=>{let P;for(;y&&y!==S;)P=m(y),r(y,M,F),y=P;r(S,M,F)},T=({el:y,anchor:S})=>{let M;for(;y&&y!==S;)M=m(y),i(y),y=M;i(S)},B=(y,S,M,F,P,I,$,V,U)=>{S.type==="svg"?$="svg":S.type==="math"&&($="mathml"),y==null?H(S,M,F,P,I,$,V,U):be(y,S,P,I,$,V,U)},H=(y,S,M,F,P,I,$,V)=>{let U,O;const{props:j,shapeFlag:N,transition:z,dirs:q}=y;if(U=y.el=l(y.type,I,j&&j.is,j),N&8?h(U,y.children):N&16&&X(y.children,U,null,F,P,wr(y,I),$,V),q&&Lt(y,null,F,"created"),L(U,y,y.scopeId,$,F),j){for(const a in j)a!=="value"&&!hn(a)&&s(U,a,null,j[a],I,F);"value"in j&&s(U,"value",null,j.value,I),(O=j.onVnodeBeforeMount)&&dt(O,F,y)}q&&Lt(y,null,F,"beforeMount");const W=Ac(P,z);W&&z.beforeEnter(U),r(U,S,M),((O=j&&j.onVnodeMounted)||W||q)&&Ze(()=>{O&&dt(O,F,y),W&&z.enter(U),q&&Lt(y,null,F,"mounted")},P)},L=(y,S,M,F,P)=>{if(M&&v(y,M),F)for(let I=0;I<F.length;I++)v(y,F[I]);if(P){let I=P.subTree;if(S===I||Na(I.type)&&(I.ssContent===S||I.ssFallback===S)){const $=P.vnode;L(y,$,$.scopeId,$.slotScopeIds,P.parent)}}},X=(y,S,M,F,P,I,$,V,U=0)=>{for(let O=U;O<y.length;O++){const j=y[O]=V?Tt(y[O]):ht(y[O]);g(null,j,S,M,F,P,I,$,V)}},be=(y,S,M,F,P,I,$)=>{const V=S.el=y.el;let{patchFlag:U,dynamicChildren:O,dirs:j}=S;U|=y.patchFlag&16;const N=y.props||ye,z=S.props||ye;let q;if(M&&Ut(M,!1),(q=z.onVnodeBeforeUpdate)&&dt(q,M,S,y),j&&Lt(S,y,M,"beforeUpdate"),M&&Ut(M,!0),(N.innerHTML&&z.innerHTML==null||N.textContent&&z.textContent==null)&&h(V,""),O?Z(y.dynamicChildren,O,V,M,F,wr(S,P),I):$||K(y,S,V,null,M,F,wr(S,P),I,!1),U>0){if(U&16)Y(V,N,z,M,P);else if(U&2&&N.class!==z.class&&s(V,"class",null,z.class,P),U&4&&s(V,"style",N.style,z.style,P),U&8){const W=S.dynamicProps;for(let a=0;a<W.length;a++){const c=W[a],d=N[c],w=z[c];(w!==d||c==="value")&&s(V,c,d,w,P,M)}}U&1&&y.children!==S.children&&h(V,S.children)}else!$&&O==null&&Y(V,N,z,M,P);((q=z.onVnodeUpdated)||j)&&Ze(()=>{q&&dt(q,M,S,y),j&&Lt(S,y,M,"updated")},F)},Z=(y,S,M,F,P,I,$)=>{for(let V=0;V<S.length;V++){const U=y[V],O=S[V],j=U.el&&(U.type===tt||!cn(U,O)||U.shapeFlag&198)?b(U.el):M;g(U,O,j,null,F,P,I,$,!0)}},Y=(y,S,M,F,P)=>{if(S!==M){if(S!==ye)for(const I in S)!hn(I)&&!(I in M)&&s(y,I,S[I],null,P,F);for(const I in M){if(hn(I))continue;const $=M[I],V=S[I];$!==V&&I!=="value"&&s(y,I,V,$,P,F)}"value"in M&&s(y,"value",S.value,M.value,P)}},he=(y,S,M,F,P,I,$,V,U)=>{const O=S.el=y?y.el:o(""),j=S.anchor=y?y.anchor:o("");let{patchFlag:N,dynamicChildren:z,slotScopeIds:q}=S;q&&(V=V?V.concat(q):q),y==null?(r(O,M,F),r(j,M,F),X(S.children||[],M,j,P,I,$,V,U)):N>0&&N&64&&z&&y.dynamicChildren?(Z(y.dynamicChildren,z,M,P,I,$,V),(S.key!=null||P&&S===P.subTree)&&Oa(y,S,!0)):K(y,S,M,j,P,I,$,V,U)},ke=(y,S,M,F,P,I,$,V,U)=>{S.slotScopeIds=V,y==null?S.shapeFlag&512?P.ctx.activate(S,M,F,$,U):Me(S,M,F,P,I,$,U):ce(y,S,U)},Me=(y,S,M,F,P,I,$)=>{const V=y.component=Gc(y,F,P);if(ya(y)&&(V.ctx.renderer=Xe),Xc(V,!1,$),V.asyncDep){if(P&&P.registerDep(V,fe,$),!y.el){const U=V.subTree=ve(Dt);_(null,U,S,M),y.placeholder=U.el}}else fe(V,y,S,M,P,I,$)},ce=(y,S,M)=>{const F=S.component=y.component;if(Nc(y,S,M))if(F.asyncDep&&!F.asyncResolved){ae(F,S,M);return}else F.next=S,F.update();else S.el=y.el,F.vnode=S},fe=(y,S,M,F,P,I,$)=>{const V=()=>{if(y.isMounted){let{next:N,bu:z,u:q,parent:W,vnode:a}=y;{const C=Ba(y);if(C){N&&(N.el=a.el,ae(y,N,$)),C.asyncDep.then(()=>{y.isUnmounted||V()});return}}let c=N,d;Ut(y,!1),N?(N.el=a.el,ae(y,N,$)):N=a,z&&Bn(z),(d=N.props&&N.props.onVnodeBeforeUpdate)&&dt(d,W,N,a),Ut(y,!0);const w=Li(y),D=y.subTree;y.subTree=w,g(D,w,b(D.el),Ne(D),y,P,I),N.el=w.el,c===null&&$c(y,w.el),q&&Ze(q,P),(d=N.props&&N.props.onVnodeUpdated)&&Ze(()=>dt(d,W,N,a),P)}else{let N;const{el:z,props:q}=S,{bm:W,m:a,parent:c,root:d,type:w}=y,D=en(S);Ut(y,!1),W&&Bn(W),!D&&(N=q&&q.onVnodeBeforeMount)&&dt(N,c,S),Ut(y,!0);{d.ce&&d.ce._def.shadowRoot!==!1&&d.ce._injectChildStyle(w);const C=y.subTree=Li(y);g(null,C,M,F,y,P,I),S.el=C.el}if(a&&Ze(a,P),!D&&(N=q&&q.onVnodeMounted)){const C=S;Ze(()=>dt(N,c,C),P)}(S.shapeFlag&256||c&&en(c.vnode)&&c.vnode.shapeFlag&256)&&y.a&&Ze(y.a,P),y.isMounted=!0,S=M=F=null}};y.scope.on();const U=y.effect=new Xs(V);y.scope.off();const O=y.update=U.run.bind(U),j=y.job=U.runIfDirty.bind(U);j.i=y,j.id=y.uid,U.scheduler=()=>hi(j),Ut(y,!0),O()},ae=(y,S,M)=>{S.component=y;const F=y.vnode.props;y.vnode=S,y.next=null,Sc(y,S.props,F,M),Rc(y,S.children,M),St(),Ti(y),_t()},K=(y,S,M,F,P,I,$,V,U=!1)=>{const O=y&&y.children,j=y?y.shapeFlag:0,N=S.children,{patchFlag:z,shapeFlag:q}=S;if(z>0){if(z&128){ee(O,N,M,F,P,I,$,V,U);return}else if(z&256){ne(O,N,M,F,P,I,$,V,U);return}}q&8?(j&16&&Ee(O,P,I),N!==O&&h(M,N)):j&16?q&16?ee(O,N,M,F,P,I,$,V,U):Ee(O,P,I,!0):(j&8&&h(M,""),q&16&&X(N,M,F,P,I,$,V,U))},ne=(y,S,M,F,P,I,$,V,U)=>{y=y||Qt,S=S||Qt;const O=y.length,j=S.length,N=Math.min(O,j);let z;for(z=0;z<N;z++){const q=S[z]=U?Tt(S[z]):ht(S[z]);g(y[z],q,M,null,P,I,$,V,U)}O>j?Ee(y,P,I,!0,!1,N):X(S,M,F,P,I,$,V,U,N)},ee=(y,S,M,F,P,I,$,V,U)=>{let O=0;const j=S.length;let N=y.length-1,z=j-1;for(;O<=N&&O<=z;){const q=y[O],W=S[O]=U?Tt(S[O]):ht(S[O]);if(cn(q,W))g(q,W,M,null,P,I,$,V,U);else break;O++}for(;O<=N&&O<=z;){const q=y[N],W=S[z]=U?Tt(S[z]):ht(S[z]);if(cn(q,W))g(q,W,M,null,P,I,$,V,U);else break;N--,z--}if(O>N){if(O<=z){const q=z+1,W=q<j?S[q].el:F;for(;O<=z;)g(null,S[O]=U?Tt(S[O]):ht(S[O]),M,W,P,I,$,V,U),O++}}else if(O>z)for(;O<=N;)G(y[O],P,I,!0),O++;else{const q=O,W=O,a=new Map;for(O=W;O<=z;O++){const oe=S[O]=U?Tt(S[O]):ht(S[O]);oe.key!=null&&a.set(oe.key,O)}let c,d=0;const w=z-W+1;let D=!1,C=0;const A=new Array(w);for(O=0;O<w;O++)A[O]=0;for(O=q;O<=N;O++){const oe=y[O];if(d>=w){G(oe,P,I,!0);continue}let ie;if(oe.key!=null)ie=a.get(oe.key);else for(c=W;c<=z;c++)if(A[c-W]===0&&cn(oe,S[c])){ie=c;break}ie===void 0?G(oe,P,I,!0):(A[ie-W]=O+1,ie>=C?C=ie:D=!0,g(oe,S[ie],M,null,P,I,$,V,U),d++)}const re=D?Mc(A):Qt;for(c=re.length-1,O=w-1;O>=0;O--){const oe=W+O,ie=S[oe],ue=S[oe+1],_e=oe+1<j?ue.el||ue.placeholder:F;A[O]===0?g(null,ie,M,_e,P,I,$,V,U):D&&(c<0||O!==re[c]?Q(ie,M,_e,2):c--)}}},Q=(y,S,M,F,P=null)=>{const{el:I,type:$,transition:V,children:U,shapeFlag:O}=y;if(O&6){Q(y.component.subTree,S,M,F);return}if(O&128){y.suspense.move(S,M,F);return}if(O&64){$.move(y,S,M,Xe);return}if($===tt){r(I,S,M);for(let N=0;N<U.length;N++)Q(U[N],S,M,F);r(y.anchor,S,M);return}if($===kr){E(y,S,M);return}if(F!==2&&O&1&&V)if(F===0)V.beforeEnter(I),r(I,S,M),Ze(()=>V.enter(I),P);else{const{leave:N,delayLeave:z,afterLeave:q}=V,W=()=>{y.ctx.isUnmounted?i(I):r(I,S,M)},a=()=>{I._isLeaving&&I[Xl](!0),N(I,()=>{W(),q&&q()})};z?z(I,W,a):a()}else r(I,S,M)},G=(y,S,M,F=!1,P=!1)=>{const{type:I,props:$,ref:V,children:U,dynamicChildren:O,shapeFlag:j,patchFlag:N,dirs:z,cacheIndex:q}=y;if(N===-2&&(P=!1),V!=null&&(St(),pn(V,null,M,y,!0),_t()),q!=null&&(S.renderCache[q]=void 0),j&256){S.ctx.deactivate(y);return}const W=j&1&&z,a=!en(y);let c;if(a&&(c=$&&$.onVnodeBeforeUnmount)&&dt(c,S,y),j&6)Le(y.component,M,F);else{if(j&128){y.suspense.unmount(M,F);return}W&&Lt(y,null,S,"beforeUnmount"),j&64?y.type.remove(y,S,M,Xe,F):O&&!O.hasOnce&&(I!==tt||N>0&&N&64)?Ee(O,S,M,!1,!0):(I===tt&&N&384||!P&&j&16)&&Ee(U,S,M),F&&Pe(y)}(a&&(c=$&&$.onVnodeUnmounted)||W)&&Ze(()=>{c&&dt(c,S,y),W&&Lt(y,null,S,"unmounted")},M)},Pe=y=>{const{type:S,el:M,anchor:F,transition:P}=y;if(S===tt){de(M,F);return}if(S===kr){T(y);return}const I=()=>{i(M),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(y.shapeFlag&1&&P&&!P.persisted){const{leave:$,delayLeave:V}=P,U=()=>$(M,I);V?V(y.el,I,U):U()}else I()},de=(y,S)=>{let M;for(;y!==S;)M=m(y),i(y),y=M;i(S)},Le=(y,S,M)=>{const{bum:F,scope:P,job:I,subTree:$,um:V,m:U,a:O}=y;Bi(U),Bi(O),F&&Bn(F),P.stop(),I&&(I.flags|=8,G($,y,S,M)),V&&Ze(V,S),Ze(()=>{y.isUnmounted=!0},S)},Ee=(y,S,M,F=!1,P=!1,I=0)=>{for(let $=I;$<y.length;$++)G(y[$],S,M,F,P)},Ne=y=>{if(y.shapeFlag&6)return Ne(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const S=m(y.anchor||y.el),M=S&&S[Gl];return M?m(M):S};let Fe=!1;const st=(y,S,M)=>{y==null?S._vnode&&G(S._vnode,null,null,!0):g(S._vnode||null,y,S,null,null,null,M),S._vnode=y,Fe||(Fe=!0,Ti(),ma(),Fe=!1)},Xe={p:g,um:G,m:Q,r:Pe,mt:Me,mc:X,pc:K,pbc:Z,n:Ne,o:t};return{render:st,hydrate:void 0,createApp:yc(st)}}function wr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ut({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ac(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Oa(t,e,n=!1){const r=t.children,i=e.children;if(J(r)&&J(i))for(let s=0;s<r.length;s++){const l=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Tt(i[s]),o.el=l.el),!n&&o.patchFlag!==-2&&Oa(l,o)),o.type===ar&&o.patchFlag!==-1&&(o.el=l.el),o.type===Dt&&!o.el&&(o.el=l.el)}}function Mc(t){const e=t.slice(),n=[0];let r,i,s,l,o;const u=t.length;for(r=0;r<u;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(s=0,l=n.length-1;s<l;)o=s+l>>1,t[n[o]]<f?s=o+1:l=o;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,l=n[s-1];s-- >0;)n[s]=l,l=e[l];return n}function Ba(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ba(e)}function Bi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ic=Symbol.for("v-scx"),Pc=()=>Ln(Ic);function yr(t,e,n){return La(t,e,n)}function La(t,e,n=ye){const{immediate:r,deep:i,flush:s,once:l}=n,o=je({},n),u=e&&r||!e&&s!=="post";let f;if(xn){if(s==="sync"){const v=Pc();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=pt,v.resume=pt,v.pause=pt,v}}const h=Ye;o.call=(v,x,g)=>mt(v,h,x,g);let b=!1;s==="post"?o.scheduler=v=>{Ze(v,h&&h.suspense)}:s!=="sync"&&(b=!0,o.scheduler=(v,x)=>{x?v():hi(v)}),o.augmentJob=v=>{e&&(v.flags|=4),b&&(v.flags|=2,h&&(v.id=h.uid,v.i=h))};const m=jl(t,e,o);return xn&&(f?f.push(m):u&&m()),m}function Fc(t,e,n){const r=this.proxy,i=Ae(t)?t.includes(".")?Ua(r,t):()=>r[t]:t.bind(r,r);let s;te(e)?s=e:(s=e.handler,n=e);const l=En(this),o=La(i,s.bind(r),n);return l(),o}function Ua(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Oc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${It(e)}Modifiers`]||t[`${Ht(e)}Modifiers`];function Bc(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ye;let i=n;const s=e.startsWith("update:"),l=s&&Oc(r,e.slice(7));l&&(l.trim&&(i=n.map(h=>Ae(h)?h.trim():h)),l.number&&(i=n.map(qs)));let o,u=r[o=hr(e)]||r[o=hr(It(e))];!u&&s&&(u=r[o=hr(Ht(e))]),u&&mt(u,t,6,i);const f=r[o+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,mt(f,t,6,i)}}const Lc=new WeakMap;function Va(t,e,n=!1){const r=n?Lc:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let l={},o=!1;if(!te(t)){const u=f=>{const h=Va(f,e,!0);h&&(o=!0,je(l,h))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!o?(Se(t)&&r.set(t,null),null):(J(s)?s.forEach(u=>l[u]=null):je(l,s),Se(t)&&r.set(t,l),l)}function sr(t,e){return!t||!Xn(e)?!1:(e=e.slice(2).replace(/Once$/,""),me(t,e[0].toLowerCase()+e.slice(1))||me(t,Ht(e))||me(t,e))}function Li(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:l,attrs:o,emit:u,render:f,renderCache:h,props:b,data:m,setupState:v,ctx:x,inheritAttrs:g}=t,k=Kn(t);let _,R;try{if(n.shapeFlag&4){const T=i||r,B=T;_=ht(f.call(B,T,h,b,v,m,x)),R=o}else{const T=e;_=ht(T.length>1?T(b,{attrs:o,slots:l,emit:u}):T(b,null)),R=e.props?o:Uc(o)}}catch(T){bn.length=0,rr(T,t,1),_=ve(Dt)}let E=_;if(R&&g!==!1){const T=Object.keys(R),{shapeFlag:B}=E;T.length&&B&7&&(s&&T.some(ei)&&(R=Vc(R,s)),E=an(E,R,!1,!0))}return n.dirs&&(E=an(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&fi(E,n.transition),_=E,Kn(k),_}const Uc=t=>{let e;for(const n in t)(n==="class"||n==="style"||Xn(n))&&((e||(e={}))[n]=t[n]);return e},Vc=(t,e)=>{const n={};for(const r in t)(!ei(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Nc(t,e,n){const{props:r,children:i,component:s}=t,{props:l,children:o,patchFlag:u}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Ui(r,l,f):!!l;if(u&8){const h=e.dynamicProps;for(let b=0;b<h.length;b++){const m=h[b];if(l[m]!==r[m]&&!sr(f,m))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===l?!1:r?l?Ui(r,l,f):!0:!!l;return!1}function Ui(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!sr(n,s))return!0}return!1}function $c({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Na=t=>t.__isSuspense;function Hc(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):ql(t)}const tt=Symbol.for("v-fgt"),ar=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),kr=Symbol.for("v-stc"),bn=[];let nt=null;function le(t=!1){bn.push(nt=t?null:[])}function Wc(){bn.pop(),nt=bn[bn.length-1]||null}let kn=1;function Vi(t,e=!1){kn+=t,t<0&&nt&&e&&(nt.hasOnce=!0)}function $a(t){return t.dynamicChildren=kn>0?nt||Qt:null,Wc(),kn>0&&nt&&nt.push(t),t}function Be(t,e,n,r,i,s){return $a(se(t,e,n,r,i,s,!0))}function Ie(t,e,n,r,i){return $a(ve(t,e,n,r,i,!0))}function mi(t){return t?t.__v_isVNode===!0:!1}function cn(t,e){return t.type===e.type&&t.key===e.key}const Ha=({key:t})=>t??null,Un=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ae(t)||We(t)||te(t)?{i:He,r:t,k:e,f:!!n}:t:null);function se(t,e=null,n=null,r=0,i=null,s=t===tt?0:1,l=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ha(e),ref:e&&Un(e),scopeId:va,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:He};return o?(bi(u,n),s&128&&t.normalize(u)):n&&(u.shapeFlag|=Ae(n)?8:16),kn>0&&!l&&nt&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&nt.push(u),u}const ve=jc;function jc(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===dc)&&(t=Dt),mi(t)){const o=an(t,e,!0);return n&&bi(o,n),kn>0&&!s&&nt&&(o.shapeFlag&6?nt[nt.indexOf(t)]=o:nt.push(o)),o.patchFlag=-2,o}if(td(t)&&(t=t.__vccOpts),e){e=zc(e);let{class:o,style:u}=e;o&&!Ae(o)&&(e.class=ii(o)),Se(u)&&(ui(u)&&!J(u)&&(u=je({},u)),e.style=ri(u))}const l=Ae(t)?1:Na(t)?128:Ql(t)?64:Se(t)?4:te(t)?2:0;return se(t,e,n,r,i,l,s,!0)}function zc(t){return t?ui(t)||Ta(t)?je({},t):t:null}function an(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:l,children:o,transition:u}=t,f=e?Kc(i||{},e):i,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Ha(f),ref:e&&e.ref?n&&s?J(s)?s.concat(Un(e)):[s,Un(e)]:Un(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&an(t.ssContent),ssFallback:t.ssFallback&&an(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&fi(h,u.clone(h)),h}function yt(t=" ",e=0){return ve(ar,null,t,e)}function De(t="",e=!1){return e?(le(),Ie(Dt,null,t)):ve(Dt,null,t)}function ht(t){return t==null||typeof t=="boolean"?ve(Dt):J(t)?ve(tt,null,t.slice()):mi(t)?Tt(t):ve(ar,null,String(t))}function Tt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:an(t)}function bi(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(J(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),bi(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Ta(e)?e._ctx=He:i===3&&He&&(He.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:He},n=32):(e=String(e),r&64?(n=16,e=[yt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Kc(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ii([e.class,r.class]));else if(i==="style")e.style=ri([e.style,r.style]);else if(Xn(i)){const s=e[i],l=r[i];l&&s!==l&&!(J(s)&&s.includes(l))&&(e[i]=s?[].concat(s,l):l)}else i!==""&&(e[i]=r[i])}return e}function dt(t,e,n,r=null){mt(t,e,7,[n,r])}const qc=Ea();let Yc=0;function Gc(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||qc,s={uid:Yc++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ma(r,i),emitsOptions:Va(r,i),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:r.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Bc.bind(null,s),t.ce&&t.ce(s),s}let Ye=null;const Qc=()=>Ye||He;let Gn,Hr;{const t=er(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(l=>l(s)):i[0](s)}};Gn=e("__VUE_INSTANCE_SETTERS__",n=>Ye=n),Hr=e("__VUE_SSR_SETTERS__",n=>xn=n)}const En=t=>{const e=Ye;return Gn(t),t.scope.on(),()=>{t.scope.off(),Gn(e)}},Ni=()=>{Ye&&Ye.scope.off(),Gn(null)};function Wa(t){return t.vnode.shapeFlag&4}let xn=!1;function Xc(t,e=!1,n=!1){e&&Hr(e);const{props:r,children:i}=t.vnode,s=Wa(t);xc(t,r,s,e),Ec(t,i,n||e);const l=s?Jc(t,e):void 0;return e&&Hr(!1),l}function Jc(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,fc);const{setup:r}=n;if(r){St();const i=t.setupContext=r.length>1?ed(t):null,s=En(t),l=Dn(r,t,0,[t.props,i]),o=Hs(l);if(_t(),s(),(o||t.sp)&&!en(t)&&wa(t),o){if(l.then(Ni,Ni),e)return l.then(u=>{$i(t,u)}).catch(u=>{rr(u,t,0)});t.asyncDep=l}else $i(t,l)}else ja(t)}function $i(t,e,n){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Se(e)&&(t.setupState=ha(e)),ja(t)}function ja(t,e,n){const r=t.type;t.render||(t.render=r.render||pt);{const i=En(t);St();try{gc(t)}finally{_t(),i()}}}const Zc={get(t,e){return $e(t,"get",""),t[e]}};function ed(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Zc),slots:t.slots,emit:t.emit,expose:e}}function or(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ha(ua(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in mn)return mn[n](t)},has(e,n){return n in e||n in mn}})):t.proxy}function td(t){return te(t)&&"__vccOpts"in t}const ft=(t,e)=>Hl(t,e,xn),nd="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wr;const Hi=typeof window<"u"&&window.trustedTypes;if(Hi)try{Wr=Hi.createPolicy("vue",{createHTML:t=>t})}catch{}const za=Wr?t=>Wr.createHTML(t):t=>t,rd="http://www.w3.org/2000/svg",id="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,Wi=vt&&vt.createElement("template"),sd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?vt.createElementNS(rd,t):e==="mathml"?vt.createElementNS(id,t):n?vt.createElement(t,{is:n}):vt.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>vt.createTextNode(t),createComment:t=>vt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const l=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Wi.innerHTML=za(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const o=Wi.content;if(r==="svg"||r==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ad=Symbol("_vtc");function od(t,e,n){const r=t[ad];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ji=Symbol("_vod"),ld=Symbol("_vsh"),cd=Symbol(""),dd=/(?:^|;)\s*display\s*:/;function ud(t,e,n){const r=t.style,i=Ae(n);let s=!1;if(n&&!i){if(e)if(Ae(e))for(const l of e.split(";")){const o=l.slice(0,l.indexOf(":")).trim();n[o]==null&&Vn(r,o,"")}else for(const l in e)n[l]==null&&Vn(r,l,"");for(const l in n)l==="display"&&(s=!0),Vn(r,l,n[l])}else if(i){if(e!==n){const l=r[cd];l&&(n+=";"+l),r.cssText=n,s=dd.test(n)}}else e&&t.removeAttribute("style");ji in t&&(t[ji]=s?r.display:"",t[ld]&&(r.display="none"))}const zi=/\s*!important$/;function Vn(t,e,n){if(J(n))n.forEach(r=>Vn(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=hd(t,e);zi.test(n)?t.setProperty(Ht(r),n.replace(zi,""),"important"):t[r]=n}}const Ki=["Webkit","Moz","ms"],xr={};function hd(t,e){const n=xr[e];if(n)return n;let r=It(e);if(r!=="filter"&&r in t)return xr[e]=r;r=zs(r);for(let i=0;i<Ki.length;i++){const s=Ki[i]+r;if(s in t)return xr[e]=s}return e}const qi="http://www.w3.org/1999/xlink";function Yi(t,e,n,r,i,s=gl(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(qi,e.slice(6,e.length)):t.setAttributeNS(qi,e,n):n==null||s&&!Ys(n)?t.removeAttribute(e):t.setAttribute(e,s?"":lt(n)?String(n):n)}function Gi(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?za(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(o!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Ys(n):n==null&&o==="string"?(n="",l=!0):o==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(i||e)}function vi(t,e,n,r){t.addEventListener(e,n,r)}function fd(t,e,n,r){t.removeEventListener(e,n,r)}const Qi=Symbol("_vei");function gd(t,e,n,r,i=null){const s=t[Qi]||(t[Qi]={}),l=s[e];if(r&&l)l.value=r;else{const[o,u]=pd(e);if(r){const f=s[e]=vd(r,i);vi(t,o,f,u)}else l&&(fd(t,o,l,u),s[e]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function pd(t){let e;if(Xi.test(t)){e={};let r;for(;r=t.match(Xi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ht(t.slice(2)),e]}let Sr=0;const md=Promise.resolve(),bd=()=>Sr||(md.then(()=>Sr=0),Sr=Date.now());function vd(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;mt(wd(r,n.value),e,5,[r])};return n.value=t,n.attached=bd(),n}function wd(t,e){if(J(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Ji=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yd=(t,e,n,r,i,s)=>{const l=i==="svg";e==="class"?od(t,r,l):e==="style"?ud(t,n,r):Xn(e)?ei(e)||gd(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):kd(t,e,r,l))?(Gi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Yi(t,e,r,l,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ae(r))?Gi(t,It(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Yi(t,e,r,l))};function kd(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ji(e)&&te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ji(e)&&Ae(n)?!1:e in t}const Qn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return J(e)?n=>Bn(e,n):e},nn=Symbol("_assign"),Zi={created(t,{value:e},n){t.checked=sn(e,n.props.value),t[nn]=Qn(n),vi(t,"change",()=>{t[nn](Sn(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[nn]=Qn(r),e!==n&&(t.checked=sn(e,r.props.value))}},xd={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Jn(e);vi(t,"change",()=>{const s=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?qs(Sn(l)):Sn(l));t[nn](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,ga(()=>{t._assigning=!1})}),t[nn]=Qn(r)},mounted(t,{value:e}){es(t,e)},beforeUpdate(t,e,n){t[nn]=Qn(n)},updated(t,{value:e}){t._assigning||es(t,e)}};function es(t,e){const n=t.multiple,r=J(e);if(!(n&&!r&&!Jn(e))){for(let i=0,s=t.options.length;i<s;i++){const l=t.options[i],o=Sn(l);if(n)if(r){const u=typeof o;u==="string"||u==="number"?l.selected=e.some(f=>String(f)===String(o)):l.selected=ml(e,o)>-1}else l.selected=e.has(o);else if(sn(Sn(l),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Sn(t){return"_value"in t?t._value:t.value}const Sd=["ctrl","shift","alt","meta"],_d={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Sd.some(n=>t[`${n}Key`]&&!e.includes(n))},Dd=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let l=0;l<e.length;l++){const o=_d[e[l]];if(o&&o(i,e))return}return t(i,...s)}))},Ed=je({patchProp:yd},sd);let ts;function Rd(){return ts||(ts=Cc(Ed))}const Cd=((...t)=>{const e=Rd().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Ad(r);if(!i)return;const s=e._component;!te(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const l=n(i,!1,Td(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},e});function Td(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ad(t){return Ae(t)?document.querySelector(t):t}const Md="modulepreload",Id=function(t){return"/sdk-live-demo/vue/3.0.0-b13/"+t},ns={},wt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=l(n.map(f=>{if(f=Id(f),f in ns)return;ns[f]=!0;const h=f.endsWith(".css"),b=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Md,h||(m.as="script"),m.crossOrigin="",m.href=f,u&&m.setAttribute("nonce",u),document.head.appendChild(m),h)return new Promise((v,x)=>{m.addEventListener("load",v),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var Pd=Object.defineProperty,Fd=(t,e,n)=>e in t?Pd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p=(t,e,n)=>Fd(t,typeof e!="symbol"?e+"":e,n),Ka=(t=>(t[t.Male=0]="Male",t[t.Female=1]="Female",t))(Ka||{}),Te=(t=>(t[t.Local=0]="Local",t[t.LocalV2=101]="LocalV2",t[t.RemoteDev=1]="RemoteDev",t[t.RemoteProd=2]="RemoteProd",t[t.AwsDev=3]="AwsDev",t[t.AwsProd=4]="AwsProd",t[t.RemoteProdEnterprise=5]="RemoteProdEnterprise",t[t.AwsFirebaseEnterpriseProd=5]="AwsFirebaseEnterpriseProd",t[t.AwsProdEnterprise=6]="AwsProdEnterprise",t[t.AwsEnterpriseProd=6]="AwsEnterpriseProd",t[t.AwsDevEnterprise=7]="AwsDevEnterprise",t[t.AwsEnterpriseDev=7]="AwsEnterpriseDev",t[t.FdaDev=8]="FdaDev",t[t.FdaProd=9]="FdaProd",t[t.Schema2Dev=10]="Schema2Dev",t[t.Schema2Prod=11]="Schema2Prod",t))(Te||{}),on=(t=>(t[t.default=0]="default",t[t.dummy=1]="dummy",t))(on||{}),ge=(t=>(t[t.WaitingData=0]="WaitingData",t[t.CollectingData=1]="CollectingData",t[t.AnalyzingData=2]="AnalyzingData",t[t.Idle=3]="Idle",t))(ge||{});async function Od(t,e){return new Promise(n=>{setTimeout(()=>{n(e)},t*1e3)})}function we(...t){console.log("[VSE Plugin]",...t)}function Bd(t){let e="";const n=(t.length-t.length*.8)/2;for(let r=0;r<t.length;r++)r>=n&&r<t.length-n?e+="#":e+=t[r];return e}let In;const Ld=new Uint8Array(16);function Ud(){if(!In&&(In=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!In))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return In(Ld)}const Ue=[];for(let t=0;t<256;++t)Ue.push((t+256).toString(16).slice(1));function Vd(t,e=0){return Ue[t[e+0]]+Ue[t[e+1]]+Ue[t[e+2]]+Ue[t[e+3]]+"-"+Ue[t[e+4]]+Ue[t[e+5]]+"-"+Ue[t[e+6]]+Ue[t[e+7]]+"-"+Ue[t[e+8]]+Ue[t[e+9]]+"-"+Ue[t[e+10]]+Ue[t[e+11]]+Ue[t[e+12]]+Ue[t[e+13]]+Ue[t[e+14]]+Ue[t[e+15]]}const Nd=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rs={randomUUID:Nd};function wi(t,e,n){if(rs.randomUUID&&!t)return rs.randomUUID();t=t||{};const r=t.random||(t.rng||Ud)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Vd(r)}function is(t,e){return(e.getTime()-t.getTime())/1e3}function $d(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].x!=e[n].x||t[n].y!=e[n].y)return!1;return!0}function jr(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function Hd(t,e,n=20){let r="|";for(let i=0;i<n;i++)i/n>e?r+=" ":r+="";return r+=`| ${e.toFixed(2)}`,`${t}: ${r}`}function Ke(...t){console.log("[Blink Detector]",...t)}let qa=class{constructor(t="",e=!1){p(this,"frameCount",0),p(this,"start",new Date),p(this,"name","noname"),p(this,"enableLog",!1),p(this,"lastLogTime",new Date),p(this,"logInterval",10),this.name=t,this.enableLog=e}get averageFps(){if(this.frameCount===0&&(this.start=new Date),!(this.elapsed<.5))return this.frameCount/this.elapsed}get elapsed(){return(new Date().getTime()-this.start.getTime())/1e3}tick(){this.frameCount=this.frameCount+1}reset(){this.frameCount=0,this.start=new Date,this.lastLogTime=new Date}log(){if(this.averageFps==null||(new Date().getTime()-this.lastLogTime.getTime())/1e3<this.logInterval)return;const t=this.averageFps.toFixed(2);this.enableLog&&(console.log(`[FPS ${this.name}] (${this.frameCount}/${this.elapsed})) ${t}fps`),this.lastLogTime=new Date)}};class lr{constructor(e,n){p(this,"duration"),p(this,"name"),p(this,"observers",[]),p(this,"startTime",new Date),p(this,"fps"),p(this,"signals",[]),this.name=e,this.fps=new qa(e),this.duration=n}get size(){return this.fps.averageFps===void 0?10:this.fps.averageFps*this.duration}clear(){this.signals=[],this.fps.reset(),this.startTime=new Date}add(e){if(this.fps.tick(),this.observers.forEach(n=>{var r;return(r=n.willAdd)==null?void 0:r.call(n,e)}),this.signals.length<this.size)this.signals.push({timestamp:new Date,value:e});else{for(;this.signals.length>this.size;)this.signals.shift();this.signals.push({timestamp:new Date,value:e})}this.observers.forEach(n=>{var r;return(r=n.onAdded)==null?void 0:r.call(n,e)})}get max(){return this.signals.length===0?0:Math.max(...this.signals.map(e=>e.value))}get lastEntry(){if(this.signals.length!==0)return this.signals[this.signals.length-1]}get last(){if(this.signals.length!=0)return this.signals[this.signals.length-1].value}visualize(e=0,n=1,r=20){const i=this.lastEntry||{timestamp:new Date,value:0};let s="|";for(let l=0;l<r;l++){const o=e+l/r*(n-e);o>=0?o>i.value?s+=" ":s+="":o<i.value?s+=" ":s+=""}return s+=`| ${i.value.toFixed(2)}`,`${((i.timestamp.getTime()-this.startTime.getTime())/1e3).toFixed(2)}s ${this.name}: ${s}`}derivative(){const e=new lr(`${this.name}'`,this.size),n=this;return this.observers.push({willAdd(r){n.last!==void 0&&e.add(r-n.last)}}),e}detectPeak(e,n){if(this.fps.averageFps===void 0)return!1;const r=Math.min(Math.floor(this.fps.averageFps*e),this.signals.length);if(r<2||this.signals.length<2)return!1;const i=this.signals[this.signals.length-1].value,s=this.signals.slice(this.signals.length-1-r,this.signals.length-2).map(o=>o.value),l=Wd(s);return i-l>l*n}}function Wd(t){return t.reduce((e,n)=>e+n,0)/t.length}const jd=.2,zd=1/20,Kd=.5,qd=2,Yd=2;class Gd{constructor(e="No name"){p(this,"name"),p(this,"movement",0),p(this,"debug",!1),p(this,"config",{movementThreshold:jd,startMovementDurationThreshold:zd,stopMovementDurationThreshold:Kd,freezedTheshold:qd,movementDurationThreshold:Yd,normalizeValue:.02}),p(this,"lastPosition"),p(this,"startMoveTime"),p(this,"startStayTime"),p(this,"lastZeroMovementTime"),p(this,"_isMoving",!1),p(this,"_lastStateChagneTime"),this.name=e}configure(e){e.stopMovementDurationThreshold!==void 0&&(Ke("Configure Movement Detector stopMovementDurationThreshold: ",e.stopMovementDurationThreshold),this.config.stopMovementDurationThreshold=e.stopMovementDurationThreshold),e.startMovementDurationThreshold!==void 0&&(Ke("Configure Movement Detector startMovementDurationThreshold: ",e.startMovementDurationThreshold),this.config.startMovementDurationThreshold=e.startMovementDurationThreshold),e.movementThreshold!==void 0&&(Ke("Configure Movement Detector movementThreshold: ",e.movementThreshold),this.config.movementThreshold=e.movementThreshold),e.freezedTheshold!==void 0&&(Ke("Configure Movement Detector freezedTheshold: ",e.freezedTheshold),this.config.freezedTheshold=e.freezedTheshold),e.unstableDurationThreshold!==void 0&&(Ke("Configure Movement Detector unstableDurationThreshold: ",e.unstableDurationThreshold),this.config.movementDurationThreshold=e.unstableDurationThreshold)}reset(){this.lastPosition=void 0,this.startMoveTime=void 0,this.startStayTime=void 0,this.lastZeroMovementTime=void 0,this._lastStateChagneTime=void 0,this._isMoving=!1}get movedLongEnough(){return this.startMoveTime===void 0?!1:is(this.startMoveTime,new Date)>this.config.startMovementDurationThreshold}get stayStillLongEnough(){return this.startStayTime===void 0?!1:is(this.startStayTime,new Date)>this.config.stopMovementDurationThreshold}update(e){if(this.lastPosition===void 0){this.lastPosition=e;return}this.movement=jr(e,this.lastPosition)/this.config.normalizeValue,this.lastPosition=e,this.movement>this.config.movementThreshold?(this.startStayTime=void 0,this.startMoveTime===void 0&&(this.startMoveTime=new Date),this.movedLongEnough&&(this.isMoving=!0)):(this.startMoveTime=void 0,this.startStayTime===void 0&&(this.startStayTime=new Date),this.stayStillLongEnough&&(this.isMoving=!1)),this.debugLog(Hd("Movement",this.movement)),this.movement===0?this.lastZeroMovementTime===void 0&&(this.lastZeroMovementTime=new Date):this.lastZeroMovementTime=void 0}get isDead(){return this.lastZeroMovementTime===void 0?!1:(new Date().getTime()-this.lastZeroMovementTime.getTime())/1e3>this.config.freezedTheshold}get unstable(){return this._lastStateChagneTime===void 0||!this.isMoving?!1:(new Date().getTime()-this._lastStateChagneTime.getTime())/1e3>this.config.movementDurationThreshold}get isMoving(){return this._isMoving}set isMoving(e){this._isMoving!==e&&(this._isMoving=e,this._lastStateChagneTime=new Date,this._isMoving?this.debugLog(`${this.name} is moving.`):this.debugLog(`${this.name} is not moving`))}debugLog(...e){this.debug&&Ke(...e)}}class Ya{constructor(e,n){p(this,"landmarks",[]),p(this,"ltrb"),p(this,"name"),p(this,"fps"),p(this,"ears"),p(this,"movementDetector"),this.ltrb=e,this.name=n,this.fps=new qa(n),this.movementDetector=new Gd(n),this.ears=new lr(`${n} EAR`,2)}reset(){this.movementDetector.reset(),this.fps.reset(),this.ears.clear()}update(e){$d(this.landmarks,e)||this.fps.tick(),this.fps.log(),this.landmarks=e,this.ears.add(this.aspectRatio),this.movementDetector.update(this.midPoint)}get maxEar(){return this.ears.max}get normalizedEar(){return this.aspectRatio/this.maxEar}get averageFps(){return this.fps.averageFps}get movement(){return this.movementDetector.movement}get isMoving(){return this.movementDetector.isMoving}get detectionLost(){return this.movementDetector.isDead}get unstable(){return this.movementDetector.unstable}get leftPoint(){return{x:this.landmarks[this.ltrb.left].x,y:this.landmarks[this.ltrb.left].y}}get rightPoint(){return{x:this.landmarks[this.ltrb.right].x,y:this.landmarks[this.ltrb.right].y}}get topPoint(){return{x:this.landmarks[this.ltrb.top].x,y:this.landmarks[this.ltrb.top].y}}get bottomPoint(){return{x:this.landmarks[this.ltrb.bottom].x,y:this.landmarks[this.ltrb.bottom].y}}get width(){return jr(this.leftPoint,this.rightPoint)}get height(){return jr(this.topPoint,this.bottomPoint)}get aspectRatio(){return this.height/this.width}get midPoint(){return{x:(this.leftPoint.x+this.rightPoint.x)/2,y:(this.leftPoint.y+this.rightPoint.y)/2}}}const Pn=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Fn=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Qd={left:Pn[0][0],top:Pn[11][1],right:Pn[15][1],bottom:Pn[4][0]},Xd={left:Fn[0][0],top:Fn[11][1],right:Fn[15][1],bottom:Fn[4][0]};class Jd extends Ya{constructor(){super(Qd,"Left Eye")}}class Zd extends Ya{constructor(){super(Xd,"Right Eye")}}class eu{constructor(){p(this,"fps",15),p(this,"blinkCount",5),p(this,"noEyes",!1),p(this,"unstable",!1)}configure(e){}reset(){}detect(e){return!0}}const tu=.15,nu=10;class ru{constructor(){p(this,"leftEye",new Jd),p(this,"rightEye",new Zd),p(this,"avgEars"),p(this,"dEars"),p(this,"debug",!1),p(this,"_blinkCount",0),p(this,"_isReset",!1),p(this,"config",{enableBlinkDetector:!0,minFps:nu,earDiffThreshold:tu,enableMovementDetection:!0}),Ke("Blink detector created"),this.avgEars=new lr("EAR",this.leftEye.ears.duration),this.dEars=this.avgEars.derivative()}configure(e){e.earDiffThreshold!==void 0&&(Ke("Configure Blink Detector earDiffThreshold: ",e.earDiffThreshold),this.config.earDiffThreshold=e.earDiffThreshold),e.minFps!==void 0&&(Ke("Configure Blink Detector minFps: ",e.minFps),this.config.minFps=e.minFps),e.enableMovementDetection&&(Ke("Configure Blink Detector enableMovementDetection: ",e.enableMovementDetection),this.config.enableMovementDetection=e.enableMovementDetection),this.leftEye.movementDetector.configure(e),this.rightEye.movementDetector.configure(e)}get noEyes(){return this.leftEye.detectionLost||this.rightEye.detectionLost}get unstable(){return this.leftEye.unstable||this.rightEye.unstable}get fps(){return((this.leftEye.averageFps||0)+(this.rightEye.averageFps||0))/2}reset(){this._isReset=!0,this._blinkCount=0,this.leftEye.reset(),this.rightEye.reset(),this.avgEars.clear(),this.dEars.clear()}get blinkCount(){return this.leftEye.averageFps!==void 0&&this.rightEye.averageFps!==void 0&&this.leftEye.averageFps<this.config.minFps&&this.rightEye.averageFps<this.config.minFps?(Ke(`FPS < ${this.config.minFps}, blink detection is unreliable. Always return blink count 1.`),1):this._blinkCount}detect(e){if(this._isReset||this.reset(),this.leftEye.update(e),this.rightEye.update(e),this.config.enableMovementDetection){if(this.unstable)return Ke("Error: unstable eyes"),!1;if(this.leftEye.isMoving||this.rightEye.isMoving)return!1;if(this.noEyes)return Ke("Error: no eyes"),!1}this.avgEars.add(1-(this.leftEye.normalizedEar+this.rightEye.normalizedEar)/2);const n=this.dEars.last||0,r=n>this.config.earDiffThreshold;if(this.debug&&Ke(this.dEars.visualize(-1,1,30)),r){this._blinkCount++;const i=((this.leftEye.averageFps||0)+(this.rightEye.averageFps||0))/2;Ke(`Blink Detected ${this._blinkCount}. EAR_DIFF=${n.toFixed(2)} FPS=${i.toFixed(1)}`)}return r}}function ss(t){switch(t){case on.default:return new ru;case on.dummy:return new eu}}const Ga=class Qa{constructor(){p(this,"endpoint","https://aws-backend.panoptic.ai/s3/"),p(this,"s3ApiKey","TJ3CJ2ebRs0YK3HIwopu529q92qAZ1waBI5mWIq5")}async getDataFromS3(e,n){try{const r={type:"get-json",params:{bucket:e,objectKey:n}},i={"Content-Type":"application/json","X-Api-Key":this.s3ApiKey},s=await fetch(this.endpoint,{method:"POST",headers:i,body:JSON.stringify(r)});if(s.status!=200)throw new Error(s.statusText);return await s.json()}catch(r){throw console.error(`${Qa.TAG}: Error fetching data from S3:`,r),r}}};p(Ga,"TAG","AWS S3 Client");let iu=Ga;var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var as={},dn={},os;function au(){if(os)return dn;os=1,dn.byteLength=o,dn.toByteArray=f,dn.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function l(v){var x=v.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=v.indexOf("=");g===-1&&(g=x);var k=g===x?0:4-g%4;return[g,k]}function o(v){var x=l(v),g=x[0],k=x[1];return(g+k)*3/4-k}function u(v,x,g){return(x+g)*3/4-g}function f(v){var x,g=l(v),k=g[0],_=g[1],R=new n(u(v,k,_)),E=0,T=_>0?k-4:k,B;for(B=0;B<T;B+=4)x=e[v.charCodeAt(B)]<<18|e[v.charCodeAt(B+1)]<<12|e[v.charCodeAt(B+2)]<<6|e[v.charCodeAt(B+3)],R[E++]=x>>16&255,R[E++]=x>>8&255,R[E++]=x&255;return _===2&&(x=e[v.charCodeAt(B)]<<2|e[v.charCodeAt(B+1)]>>4,R[E++]=x&255),_===1&&(x=e[v.charCodeAt(B)]<<10|e[v.charCodeAt(B+1)]<<4|e[v.charCodeAt(B+2)]>>2,R[E++]=x>>8&255,R[E++]=x&255),R}function h(v){return t[v>>18&63]+t[v>>12&63]+t[v>>6&63]+t[v&63]}function b(v,x,g){for(var k,_=[],R=x;R<g;R+=3)k=(v[R]<<16&16711680)+(v[R+1]<<8&65280)+(v[R+2]&255),_.push(h(k));return _.join("")}function m(v){for(var x,g=v.length,k=g%3,_=[],R=16383,E=0,T=g-k;E<T;E+=R)_.push(b(v,E,E+R>T?T:E+R));return k===1?(x=v[g-1],_.push(t[x>>2]+t[x<<4&63]+"==")):k===2&&(x=(v[g-2]<<8)+v[g-1],_.push(t[x>>10]+t[x>>4&63]+t[x<<2&63]+"=")),_.join("")}return dn}var _r={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ls;function ou(){return ls||(ls=1,_r.read=function(t,e,n,r,i){var s,l,o=i*8-r-1,u=(1<<o)-1,f=u>>1,h=-7,b=n?i-1:0,m=n?-1:1,v=t[e+b];for(b+=m,s=v&(1<<-h)-1,v>>=-h,h+=o;h>0;s=s*256+t[e+b],b+=m,h-=8);for(l=s&(1<<-h)-1,s>>=-h,h+=r;h>0;l=l*256+t[e+b],b+=m,h-=8);if(s===0)s=1-f;else{if(s===u)return l?NaN:(v?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-f}return(v?-1:1)*l*Math.pow(2,s-r)},_r.write=function(t,e,n,r,i,s){var l,o,u,f=s*8-i-1,h=(1<<f)-1,b=h>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=r?0:s-1,x=r?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,l=h):(l=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-l))<1&&(l--,u*=2),l+b>=1?e+=m/u:e+=m*Math.pow(2,1-b),e*u>=2&&(l++,u/=2),l+b>=h?(o=0,l=h):l+b>=1?(o=(e*u-1)*Math.pow(2,i),l=l+b):(o=e*Math.pow(2,b-1)*Math.pow(2,i),l=0));i>=8;t[n+v]=o&255,v+=x,o/=256,i-=8);for(l=l<<i|o,f+=i;f>0;t[n+v]=l&255,v+=x,l/=256,f-=8);t[n+v-x]|=g*128}),_r}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var cs;function lu(){return cs||(cs=1,(function(t){const e=au(),n=ou(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const a=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(a,c),a.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function l(a){if(a>i)throw new RangeError('The value "'+a+'" is invalid for option "size"');const c=new Uint8Array(a);return Object.setPrototypeOf(c,o.prototype),c}function o(a,c,d){if(typeof a=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(a)}return u(a,c,d)}o.poolSize=8192;function u(a,c,d){if(typeof a=="string")return m(a,c);if(ArrayBuffer.isView(a))return x(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(j(a,ArrayBuffer)||a&&j(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(j(a,SharedArrayBuffer)||a&&j(a.buffer,SharedArrayBuffer)))return g(a,c,d);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const w=a.valueOf&&a.valueOf();if(w!=null&&w!==a)return o.from(w,c,d);const D=k(a);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return o.from(a[Symbol.toPrimitive]("string"),c,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}o.from=function(a,c,d){return u(a,c,d)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function h(a,c,d){return f(a),a<=0?l(a):c!==void 0?typeof d=="string"?l(a).fill(c,d):l(a).fill(c):l(a)}o.alloc=function(a,c,d){return h(a,c,d)};function b(a){return f(a),l(a<0?0:_(a)|0)}o.allocUnsafe=function(a){return b(a)},o.allocUnsafeSlow=function(a){return b(a)};function m(a,c){if((typeof c!="string"||c==="")&&(c="utf8"),!o.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const d=E(a,c)|0;let w=l(d);const D=w.write(a,c);return D!==d&&(w=w.slice(0,D)),w}function v(a){const c=a.length<0?0:_(a.length)|0,d=l(c);for(let w=0;w<c;w+=1)d[w]=a[w]&255;return d}function x(a){if(j(a,Uint8Array)){const c=new Uint8Array(a);return g(c.buffer,c.byteOffset,c.byteLength)}return v(a)}function g(a,c,d){if(c<0||a.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<c+(d||0))throw new RangeError('"length" is outside of buffer bounds');let w;return c===void 0&&d===void 0?w=new Uint8Array(a):d===void 0?w=new Uint8Array(a,c):w=new Uint8Array(a,c,d),Object.setPrototypeOf(w,o.prototype),w}function k(a){if(o.isBuffer(a)){const c=_(a.length)|0,d=l(c);return d.length===0||a.copy(d,0,0,c),d}if(a.length!==void 0)return typeof a.length!="number"||N(a.length)?l(0):v(a);if(a.type==="Buffer"&&Array.isArray(a.data))return v(a.data)}function _(a){if(a>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return a|0}function R(a){return+a!=a&&(a=0),o.alloc(+a)}o.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==o.prototype},o.compare=function(a,c){if(j(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),j(c,Uint8Array)&&(c=o.from(c,c.offset,c.byteLength)),!o.isBuffer(a)||!o.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===c)return 0;let d=a.length,w=c.length;for(let D=0,C=Math.min(d,w);D<C;++D)if(a[D]!==c[D]){d=a[D],w=c[D];break}return d<w?-1:w<d?1:0},o.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(a,c){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return o.alloc(0);let d;if(c===void 0)for(c=0,d=0;d<a.length;++d)c+=a[d].length;const w=o.allocUnsafe(c);let D=0;for(d=0;d<a.length;++d){let C=a[d];if(j(C,Uint8Array))D+C.length>w.length?(o.isBuffer(C)||(C=o.from(C)),C.copy(w,D)):Uint8Array.prototype.set.call(w,C,D);else if(o.isBuffer(C))C.copy(w,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=C.length}return w};function E(a,c){if(o.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||j(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);const d=a.length,w=arguments.length>2&&arguments[2]===!0;if(!w&&d===0)return 0;let D=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return I(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return U(a).length;default:if(D)return w?-1:I(a).length;c=(""+c).toLowerCase(),D=!0}}o.byteLength=E;function T(a,c,d){let w=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,c>>>=0,d<=c))return"";for(a||(a="utf8");;)switch(a){case"hex":return ne(this,c,d);case"utf8":case"utf-8":return Me(this,c,d);case"ascii":return ae(this,c,d);case"latin1":case"binary":return K(this,c,d);case"base64":return ke(this,c,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,c,d);default:if(w)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),w=!0}}o.prototype._isBuffer=!0;function B(a,c,d){const w=a[c];a[c]=a[d],a[d]=w}o.prototype.swap16=function(){const a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let c=0;c<a;c+=2)B(this,c,c+1);return this},o.prototype.swap32=function(){const a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let c=0;c<a;c+=4)B(this,c,c+3),B(this,c+1,c+2);return this},o.prototype.swap64=function(){const a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let c=0;c<a;c+=8)B(this,c,c+7),B(this,c+1,c+6),B(this,c+2,c+5),B(this,c+3,c+4);return this},o.prototype.toString=function(){const a=this.length;return a===0?"":arguments.length===0?Me(this,0,a):T.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(a){if(!o.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:o.compare(this,a)===0},o.prototype.inspect=function(){let a="";const c=t.INSPECT_MAX_BYTES;return a=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(a+=" ... "),"<Buffer "+a+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(a,c,d,w,D){if(j(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),!o.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(c===void 0&&(c=0),d===void 0&&(d=a?a.length:0),w===void 0&&(w=0),D===void 0&&(D=this.length),c<0||d>a.length||w<0||D>this.length)throw new RangeError("out of range index");if(w>=D&&c>=d)return 0;if(w>=D)return-1;if(c>=d)return 1;if(c>>>=0,d>>>=0,w>>>=0,D>>>=0,this===a)return 0;let C=D-w,A=d-c;const re=Math.min(C,A),oe=this.slice(w,D),ie=a.slice(c,d);for(let ue=0;ue<re;++ue)if(oe[ue]!==ie[ue]){C=oe[ue],A=ie[ue];break}return C<A?-1:A<C?1:0};function H(a,c,d,w,D){if(a.length===0)return-1;if(typeof d=="string"?(w=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,N(d)&&(d=D?0:a.length-1),d<0&&(d=a.length+d),d>=a.length){if(D)return-1;d=a.length-1}else if(d<0)if(D)d=0;else return-1;if(typeof c=="string"&&(c=o.from(c,w)),o.isBuffer(c))return c.length===0?-1:L(a,c,d,w,D);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(a,c,d):Uint8Array.prototype.lastIndexOf.call(a,c,d):L(a,[c],d,w,D);throw new TypeError("val must be string, number or Buffer")}function L(a,c,d,w,D){let C=1,A=a.length,re=c.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(a.length<2||c.length<2)return-1;C=2,A/=2,re/=2,d/=2}function oe(ue,_e){return C===1?ue[_e]:ue.readUInt16BE(_e*C)}let ie;if(D){let ue=-1;for(ie=d;ie<A;ie++)if(oe(a,ie)===oe(c,ue===-1?0:ie-ue)){if(ue===-1&&(ue=ie),ie-ue+1===re)return ue*C}else ue!==-1&&(ie-=ie-ue),ue=-1}else for(d+re>A&&(d=A-re),ie=d;ie>=0;ie--){let ue=!0;for(let _e=0;_e<re;_e++)if(oe(a,ie+_e)!==oe(c,_e)){ue=!1;break}if(ue)return ie}return-1}o.prototype.includes=function(a,c,d){return this.indexOf(a,c,d)!==-1},o.prototype.indexOf=function(a,c,d){return H(this,a,c,d,!0)},o.prototype.lastIndexOf=function(a,c,d){return H(this,a,c,d,!1)};function X(a,c,d,w){d=Number(d)||0;const D=a.length-d;w?(w=Number(w),w>D&&(w=D)):w=D;const C=c.length;w>C/2&&(w=C/2);let A;for(A=0;A<w;++A){const re=parseInt(c.substr(A*2,2),16);if(N(re))return A;a[d+A]=re}return A}function be(a,c,d,w){return O(I(c,a.length-d),a,d,w)}function Z(a,c,d,w){return O($(c),a,d,w)}function Y(a,c,d,w){return O(U(c),a,d,w)}function he(a,c,d,w){return O(V(c,a.length-d),a,d,w)}o.prototype.write=function(a,c,d,w){if(c===void 0)w="utf8",d=this.length,c=0;else if(d===void 0&&typeof c=="string")w=c,d=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(d)?(d=d>>>0,w===void 0&&(w="utf8")):(w=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-c;if((d===void 0||d>D)&&(d=D),a.length>0&&(d<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");let C=!1;for(;;)switch(w){case"hex":return X(this,a,c,d);case"utf8":case"utf-8":return be(this,a,c,d);case"ascii":case"latin1":case"binary":return Z(this,a,c,d);case"base64":return Y(this,a,c,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,a,c,d);default:if(C)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),C=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ke(a,c,d){return c===0&&d===a.length?e.fromByteArray(a):e.fromByteArray(a.slice(c,d))}function Me(a,c,d){d=Math.min(a.length,d);const w=[];let D=c;for(;D<d;){const C=a[D];let A=null,re=C>239?4:C>223?3:C>191?2:1;if(D+re<=d){let oe,ie,ue,_e;switch(re){case 1:C<128&&(A=C);break;case 2:oe=a[D+1],(oe&192)===128&&(_e=(C&31)<<6|oe&63,_e>127&&(A=_e));break;case 3:oe=a[D+1],ie=a[D+2],(oe&192)===128&&(ie&192)===128&&(_e=(C&15)<<12|(oe&63)<<6|ie&63,_e>2047&&(_e<55296||_e>57343)&&(A=_e));break;case 4:oe=a[D+1],ie=a[D+2],ue=a[D+3],(oe&192)===128&&(ie&192)===128&&(ue&192)===128&&(_e=(C&15)<<18|(oe&63)<<12|(ie&63)<<6|ue&63,_e>65535&&_e<1114112&&(A=_e))}}A===null?(A=65533,re=1):A>65535&&(A-=65536,w.push(A>>>10&1023|55296),A=56320|A&1023),w.push(A),D+=re}return fe(w)}const ce=4096;function fe(a){const c=a.length;if(c<=ce)return String.fromCharCode.apply(String,a);let d="",w=0;for(;w<c;)d+=String.fromCharCode.apply(String,a.slice(w,w+=ce));return d}function ae(a,c,d){let w="";d=Math.min(a.length,d);for(let D=c;D<d;++D)w+=String.fromCharCode(a[D]&127);return w}function K(a,c,d){let w="";d=Math.min(a.length,d);for(let D=c;D<d;++D)w+=String.fromCharCode(a[D]);return w}function ne(a,c,d){const w=a.length;(!c||c<0)&&(c=0),(!d||d<0||d>w)&&(d=w);let D="";for(let C=c;C<d;++C)D+=z[a[C]];return D}function ee(a,c,d){const w=a.slice(c,d);let D="";for(let C=0;C<w.length-1;C+=2)D+=String.fromCharCode(w[C]+w[C+1]*256);return D}o.prototype.slice=function(a,c){const d=this.length;a=~~a,c=c===void 0?d:~~c,a<0?(a+=d,a<0&&(a=0)):a>d&&(a=d),c<0?(c+=d,c<0&&(c=0)):c>d&&(c=d),c<a&&(c=a);const w=this.subarray(a,c);return Object.setPrototypeOf(w,o.prototype),w};function Q(a,c,d){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+c>d)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(a,c,d){a=a>>>0,c=c>>>0,d||Q(a,c,this.length);let w=this[a],D=1,C=0;for(;++C<c&&(D*=256);)w+=this[a+C]*D;return w},o.prototype.readUintBE=o.prototype.readUIntBE=function(a,c,d){a=a>>>0,c=c>>>0,d||Q(a,c,this.length);let w=this[a+--c],D=1;for(;c>0&&(D*=256);)w+=this[a+--c]*D;return w},o.prototype.readUint8=o.prototype.readUInt8=function(a,c){return a=a>>>0,c||Q(a,1,this.length),this[a]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(a,c){return a=a>>>0,c||Q(a,2,this.length),this[a]|this[a+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(a,c){return a=a>>>0,c||Q(a,2,this.length),this[a]<<8|this[a+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},o.prototype.readBigUInt64LE=q(function(a){a=a>>>0,S(a,"offset");const c=this[a],d=this[a+7];(c===void 0||d===void 0)&&M(a,this.length-8);const w=c+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24,D=this[++a]+this[++a]*2**8+this[++a]*2**16+d*2**24;return BigInt(w)+(BigInt(D)<<BigInt(32))}),o.prototype.readBigUInt64BE=q(function(a){a=a>>>0,S(a,"offset");const c=this[a],d=this[a+7];(c===void 0||d===void 0)&&M(a,this.length-8);const w=c*2**24+this[++a]*2**16+this[++a]*2**8+this[++a],D=this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+d;return(BigInt(w)<<BigInt(32))+BigInt(D)}),o.prototype.readIntLE=function(a,c,d){a=a>>>0,c=c>>>0,d||Q(a,c,this.length);let w=this[a],D=1,C=0;for(;++C<c&&(D*=256);)w+=this[a+C]*D;return D*=128,w>=D&&(w-=Math.pow(2,8*c)),w},o.prototype.readIntBE=function(a,c,d){a=a>>>0,c=c>>>0,d||Q(a,c,this.length);let w=c,D=1,C=this[a+--w];for(;w>0&&(D*=256);)C+=this[a+--w]*D;return D*=128,C>=D&&(C-=Math.pow(2,8*c)),C},o.prototype.readInt8=function(a,c){return a=a>>>0,c||Q(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},o.prototype.readInt16LE=function(a,c){a=a>>>0,c||Q(a,2,this.length);const d=this[a]|this[a+1]<<8;return d&32768?d|4294901760:d},o.prototype.readInt16BE=function(a,c){a=a>>>0,c||Q(a,2,this.length);const d=this[a+1]|this[a]<<8;return d&32768?d|4294901760:d},o.prototype.readInt32LE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},o.prototype.readInt32BE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},o.prototype.readBigInt64LE=q(function(a){a=a>>>0,S(a,"offset");const c=this[a],d=this[a+7];(c===void 0||d===void 0)&&M(a,this.length-8);const w=this[a+4]+this[a+5]*2**8+this[a+6]*2**16+(d<<24);return(BigInt(w)<<BigInt(32))+BigInt(c+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24)}),o.prototype.readBigInt64BE=q(function(a){a=a>>>0,S(a,"offset");const c=this[a],d=this[a+7];(c===void 0||d===void 0)&&M(a,this.length-8);const w=(c<<24)+this[++a]*2**16+this[++a]*2**8+this[++a];return(BigInt(w)<<BigInt(32))+BigInt(this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+d)}),o.prototype.readFloatLE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),n.read(this,a,!0,23,4)},o.prototype.readFloatBE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),n.read(this,a,!1,23,4)},o.prototype.readDoubleLE=function(a,c){return a=a>>>0,c||Q(a,8,this.length),n.read(this,a,!0,52,8)},o.prototype.readDoubleBE=function(a,c){return a=a>>>0,c||Q(a,8,this.length),n.read(this,a,!1,52,8)};function G(a,c,d,w,D,C){if(!o.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>D||c<C)throw new RangeError('"value" argument is out of bounds');if(d+w>a.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(a,c,d,w){if(a=+a,c=c>>>0,d=d>>>0,!w){const A=Math.pow(2,8*d)-1;G(this,a,c,d,A,0)}let D=1,C=0;for(this[c]=a&255;++C<d&&(D*=256);)this[c+C]=a/D&255;return c+d},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(a,c,d,w){if(a=+a,c=c>>>0,d=d>>>0,!w){const A=Math.pow(2,8*d)-1;G(this,a,c,d,A,0)}let D=d-1,C=1;for(this[c+D]=a&255;--D>=0&&(C*=256);)this[c+D]=a/C&255;return c+d},o.prototype.writeUint8=o.prototype.writeUInt8=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,1,255,0),this[c]=a&255,c+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,2,65535,0),this[c]=a&255,this[c+1]=a>>>8,c+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,2,65535,0),this[c]=a>>>8,this[c+1]=a&255,c+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,4,4294967295,0),this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255,c+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,4,4294967295,0),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4};function Pe(a,c,d,w,D){y(c,w,D,a,d,7);let C=Number(c&BigInt(4294967295));a[d++]=C,C=C>>8,a[d++]=C,C=C>>8,a[d++]=C,C=C>>8,a[d++]=C;let A=Number(c>>BigInt(32)&BigInt(4294967295));return a[d++]=A,A=A>>8,a[d++]=A,A=A>>8,a[d++]=A,A=A>>8,a[d++]=A,d}function de(a,c,d,w,D){y(c,w,D,a,d,7);let C=Number(c&BigInt(4294967295));a[d+7]=C,C=C>>8,a[d+6]=C,C=C>>8,a[d+5]=C,C=C>>8,a[d+4]=C;let A=Number(c>>BigInt(32)&BigInt(4294967295));return a[d+3]=A,A=A>>8,a[d+2]=A,A=A>>8,a[d+1]=A,A=A>>8,a[d]=A,d+8}o.prototype.writeBigUInt64LE=q(function(a,c=0){return Pe(this,a,c,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=q(function(a,c=0){return de(this,a,c,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(a,c,d,w){if(a=+a,c=c>>>0,!w){const re=Math.pow(2,8*d-1);G(this,a,c,d,re-1,-re)}let D=0,C=1,A=0;for(this[c]=a&255;++D<d&&(C*=256);)a<0&&A===0&&this[c+D-1]!==0&&(A=1),this[c+D]=(a/C>>0)-A&255;return c+d},o.prototype.writeIntBE=function(a,c,d,w){if(a=+a,c=c>>>0,!w){const re=Math.pow(2,8*d-1);G(this,a,c,d,re-1,-re)}let D=d-1,C=1,A=0;for(this[c+D]=a&255;--D>=0&&(C*=256);)a<0&&A===0&&this[c+D+1]!==0&&(A=1),this[c+D]=(a/C>>0)-A&255;return c+d},o.prototype.writeInt8=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,1,127,-128),a<0&&(a=255+a+1),this[c]=a&255,c+1},o.prototype.writeInt16LE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,2,32767,-32768),this[c]=a&255,this[c+1]=a>>>8,c+2},o.prototype.writeInt16BE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,2,32767,-32768),this[c]=a>>>8,this[c+1]=a&255,c+2},o.prototype.writeInt32LE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,4,2147483647,-2147483648),this[c]=a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24,c+4},o.prototype.writeInt32BE=function(a,c,d){return a=+a,c=c>>>0,d||G(this,a,c,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4},o.prototype.writeBigInt64LE=q(function(a,c=0){return Pe(this,a,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=q(function(a,c=0){return de(this,a,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(a,c,d,w,D,C){if(d+w>a.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Ee(a,c,d,w,D){return c=+c,d=d>>>0,D||Le(a,c,d,4),n.write(a,c,d,w,23,4),d+4}o.prototype.writeFloatLE=function(a,c,d){return Ee(this,a,c,!0,d)},o.prototype.writeFloatBE=function(a,c,d){return Ee(this,a,c,!1,d)};function Ne(a,c,d,w,D){return c=+c,d=d>>>0,D||Le(a,c,d,8),n.write(a,c,d,w,52,8),d+8}o.prototype.writeDoubleLE=function(a,c,d){return Ne(this,a,c,!0,d)},o.prototype.writeDoubleBE=function(a,c,d){return Ne(this,a,c,!1,d)},o.prototype.copy=function(a,c,d,w){if(!o.isBuffer(a))throw new TypeError("argument should be a Buffer");if(d||(d=0),!w&&w!==0&&(w=this.length),c>=a.length&&(c=a.length),c||(c=0),w>0&&w<d&&(w=d),w===d||a.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),a.length-c<w-d&&(w=a.length-c+d);const D=w-d;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(c,d,w):Uint8Array.prototype.set.call(a,this.subarray(d,w),c),D},o.prototype.fill=function(a,c,d,w){if(typeof a=="string"){if(typeof c=="string"?(w=c,c=0,d=this.length):typeof d=="string"&&(w=d,d=this.length),w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!o.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(a.length===1){const C=a.charCodeAt(0);(w==="utf8"&&C<128||w==="latin1")&&(a=C)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(c<0||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;c=c>>>0,d=d===void 0?this.length:d>>>0,a||(a=0);let D;if(typeof a=="number")for(D=c;D<d;++D)this[D]=a;else{const C=o.isBuffer(a)?a:o.from(a,w),A=C.length;if(A===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(D=0;D<d-c;++D)this[D+c]=C[D%A]}return this};const Fe={};function st(a,c,d){Fe[a]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}st("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),st("ERR_INVALID_ARG_TYPE",function(a,c){return`The "${a}" argument must be of type number. Received type ${typeof c}`},TypeError),st("ERR_OUT_OF_RANGE",function(a,c,d){let w=`The value of "${a}" is out of range.`,D=d;return Number.isInteger(d)&&Math.abs(d)>2**32?D=Xe(String(d)):typeof d=="bigint"&&(D=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(D=Xe(D)),D+="n"),w+=` It must be ${c}. Received ${D}`,w},RangeError);function Xe(a){let c="",d=a.length;const w=a[0]==="-"?1:0;for(;d>=w+4;d-=3)c=`_${a.slice(d-3,d)}${c}`;return`${a.slice(0,d)}${c}`}function Ot(a,c,d){S(c,"offset"),(a[c]===void 0||a[c+d]===void 0)&&M(c,a.length-(d+1))}function y(a,c,d,w,D,C){if(a>d||a<c){const A=typeof c=="bigint"?"n":"";let re;throw c===0||c===BigInt(0)?re=`>= 0${A} and < 2${A} ** ${(C+1)*8}${A}`:re=`>= -(2${A} ** ${(C+1)*8-1}${A}) and < 2 ** ${(C+1)*8-1}${A}`,new Fe.ERR_OUT_OF_RANGE("value",re,a)}Ot(w,D,C)}function S(a,c){if(typeof a!="number")throw new Fe.ERR_INVALID_ARG_TYPE(c,"number",a)}function M(a,c,d){throw Math.floor(a)!==a?(S(a,d),new Fe.ERR_OUT_OF_RANGE("offset","an integer",a)):c<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${c}`,a)}const F=/[^+/0-9A-Za-z-_]/g;function P(a){if(a=a.split("=")[0],a=a.trim().replace(F,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function I(a,c){c=c||1/0;let d;const w=a.length;let D=null;const C=[];for(let A=0;A<w;++A){if(d=a.charCodeAt(A),d>55295&&d<57344){if(!D){if(d>56319){(c-=3)>-1&&C.push(239,191,189);continue}else if(A+1===w){(c-=3)>-1&&C.push(239,191,189);continue}D=d;continue}if(d<56320){(c-=3)>-1&&C.push(239,191,189),D=d;continue}d=(D-55296<<10|d-56320)+65536}else D&&(c-=3)>-1&&C.push(239,191,189);if(D=null,d<128){if((c-=1)<0)break;C.push(d)}else if(d<2048){if((c-=2)<0)break;C.push(d>>6|192,d&63|128)}else if(d<65536){if((c-=3)<0)break;C.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((c-=4)<0)break;C.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return C}function $(a){const c=[];for(let d=0;d<a.length;++d)c.push(a.charCodeAt(d)&255);return c}function V(a,c){let d,w,D;const C=[];for(let A=0;A<a.length&&!((c-=2)<0);++A)d=a.charCodeAt(A),w=d>>8,D=d%256,C.push(D),C.push(w);return C}function U(a){return e.toByteArray(P(a))}function O(a,c,d,w){let D;for(D=0;D<w&&!(D+d>=c.length||D>=a.length);++D)c[D+d]=a[D];return D}function j(a,c){return a instanceof c||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===c.name}function N(a){return a!==a}const z=(function(){const a="0123456789abcdef",c=new Array(256);for(let d=0;d<16;++d){const w=d*16;for(let D=0;D<16;++D)c[w+D]=a[d]+a[D]}return c})();function q(a){return typeof BigInt>"u"?W:a}function W(){throw new Error("BigInt not supported")}})(as)),as}var Dr=lu();const Xa=class Nn{constructor(){p(this,"key",null),p(this,"awsS3Service",new iu)}async encrypt(e){const n=JSON.stringify(e),r=await this.getKey(),i=window.crypto.getRandomValues(new Uint8Array(Nn.GCM_IV_LENGTH)),s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},r,new TextEncoder().encode(n)),l=new Uint8Array([...i,...new Uint8Array(s)]);return Dr.Buffer.from(l).toString("base64")}async decrypt(e){try{const n=await this.getKey(),r=new Uint8Array(Dr.Buffer.from(e,"base64")),i=r.slice(0,Nn.GCM_IV_LENGTH),s=r.slice(Nn.GCM_IV_LENGTH),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},n,s);return new TextDecoder().decode(l)}catch(n){return console.error("Decryption error:",n),null}}async getKey(){if(!this.key)try{const e=await this.awsS3Service.getDataFromS3("fda-app-secure-store","aesKey.json"),n=Dr.Buffer.from(e.key,"base64");this.key=await window.crypto.subtle.importKey("raw",n,{name:"AES-GCM"},!1,["encrypt","decrypt"])}catch(e){throw new Error(`Key retrieval failed: ${e}`)}return this.key}};p(Xa,"GCM_IV_LENGTH",12);let zr=Xa;const cu=15,du={development:!0,serverHost:"http://localhost:5000",endPoints:{getHealth:"/api/v2/get_health",sendHealthReport:void 0},coldStartDuration:0,schemaVersion:"1.4",encrypted:!1},uu={development:!0,serverHost:"http://localhost:5000",endPoints:{getHealth:"/vitals-v2/get-health",sendHealthReport:void 0},coldStartDuration:0,schemaVersion:"2.1",encrypted:!0},hu={development:!0,serverHost:"https://backend.panoptic.ai",endPoints:{getHealth:"/v2/dev/get-health",sendHealthReport:"/email/dev"},coldStartDuration:25,schemaVersion:"1.2",encrypted:!1},fu={development:!1,serverHost:"https://backend.panoptic.ai",endPoints:{getHealth:"/v2/get-health",sendHealthReport:"/email"},coldStartDuration:25,schemaVersion:"1.2",encrypted:!1},gu={development:!0,serverHost:"https://aws-backend.panoptic.ai",endPoints:{getHealth:"/v2/dev/get-health",sendHealthReport:"/email/dev"},coldStartDuration:25,schemaVersion:"1.4",encrypted:!1},Ja={development:!1,serverHost:"https://aws-backend.panoptic.ai",endPoints:{getHealth:"/v2/get-health",sendHealthReport:"/email"},coldStartDuration:25,schemaVersion:"1.4",encrypted:!1},pu={development:!1,serverHost:"https://aws-backend.panoptic.ai",endPoints:{getHealth:"/v2/get-health-company",sendHealthReport:"/email"},coldStartDuration:25,schemaVersion:"1.2",encrypted:!1},mu={development:!0,serverHost:"https://aws-backend.panoptic.ai",endPoints:{getHealth:"/v2/dev/get-health-company",sendHealthReport:"/email/dev"},coldStartDuration:25,schemaVersion:"1.5",encrypted:!1},bu={development:!1,serverHost:"https://aws-backend.panoptic.ai",endPoints:{getHealth:"/v2/get-health-company",sendHealthReport:"/email"},coldStartDuration:25,schemaVersion:"1.5",encrypted:!1},vu={development:!0,serverHost:"https://aws-backend.panoptic.ai",endPoints:{getHealth:"/vitals-v2-dev/get-health",sendHealthReport:void 0},coldStartDuration:25,schemaVersion:"2.2",encrypted:!0},wu={development:!1,serverHost:"https://aws-backend.panoptic.ai",endPoints:{getHealth:"/vitals-v2/get-health",sendHealthReport:void 0},coldStartDuration:25,schemaVersion:"2.2",encrypted:!0};class ds{constructor(e){p(this,"windowDuration",cu),p(this,"deviceId",wi()),p(this,"config",Ja),p(this,"apiKey"),p(this,"aesCryptor"),p(this,"httpCall",(...n)=>fetch(...n)),this.config=e}setServerUrl(e){this.config.serverHost=e}getUrl(){return this.config.serverHost+this.config.endPoints.getHealth}get httpHeaders(){const e={"Content-Type":"application/json"};return this.apiKey&&(e["X-Api-Key"]=this.apiKey),e}async wakeUpServer(){const e=this.getUrl();this.aesCryptor=new zr;let n={isAlive:!0};this.config.encrypted&&(n={data:await this.aesCryptor.encrypt(n)}),await this.httpCall(e,{method:"POST",headers:this.httpHeaders,body:JSON.stringify(n)})}async callAPI(e,n){this.aesCryptor=new zr;let r=n;this.config.encrypted&&(r={data:await this.aesCryptor.encrypt(n)});const i=await this.httpCall(e,{method:"POST",headers:this.httpHeaders,body:JSON.stringify(r)});if(i.status!=200){const l=await i.text();throw new Error(`Error: ${i.status} ${l}`)}let s=await i.json();if(this.config.encrypted){const l=await this.aesCryptor.decrypt(s.data);l&&(s=JSON.parse(l))}return s}getUrlSES(){return this.config.serverHost+this.config.endPoints.sendHealthReport}async sendHealthReport(e,n,r,i){const s=this.getUrlSES(),l={type:"attachment",params:{Recipients:e,EmailContent:r.emailContent,EmailSubject:r.emailSubject,FileName:r.fileName,Attachments:n,Source:i}},o=await this.httpCall(s,{method:"POST",headers:this.httpHeaders,body:JSON.stringify(l)});if(o.status!=200)throw new Error(o.statusText);return o.json()}}var $n={exports:{}},yu=$n.exports,us;function ku(){return us||(us=1,(function(t,e){(function(n,r){var i="1.0.39",s="",l="?",o="function",u="undefined",f="object",h="string",b="major",m="model",v="name",x="type",g="vendor",k="version",_="architecture",R="console",E="mobile",T="tablet",B="smarttv",H="wearable",L="embedded",X=500,be="Amazon",Z="Apple",Y="ASUS",he="BlackBerry",ke="Browser",Me="Chrome",ce="Edge",fe="Firefox",ae="Google",K="Huawei",ne="LG",ee="Microsoft",Q="Motorola",G="Opera",Pe="Samsung",de="Sharp",Le="Sony",Ee="Xiaomi",Ne="Zebra",Fe="Facebook",st="Chromium OS",Xe="Mac OS",Ot=" Browser",y=function(W,a){var c={};for(var d in W)a[d]&&a[d].length%2===0?c[d]=a[d].concat(W[d]):c[d]=W[d];return c},S=function(W){for(var a={},c=0;c<W.length;c++)a[W[c].toUpperCase()]=W[c];return a},M=function(W,a){return typeof W===h?F(a).indexOf(F(W))!==-1:!1},F=function(W){return W.toLowerCase()},P=function(W){return typeof W===h?W.replace(/[^\d\.]/g,s).split(".")[0]:r},I=function(W,a){if(typeof W===h)return W=W.replace(/^\s\s*/,s),typeof a===u?W:W.substring(0,X)},$=function(W,a){for(var c=0,d,w,D,C,A,re;c<a.length&&!A;){var oe=a[c],ie=a[c+1];for(d=w=0;d<oe.length&&!A&&oe[d];)if(A=oe[d++].exec(W),A)for(D=0;D<ie.length;D++)re=A[++w],C=ie[D],typeof C===f&&C.length>0?C.length===2?typeof C[1]==o?this[C[0]]=C[1].call(this,re):this[C[0]]=C[1]:C.length===3?typeof C[1]===o&&!(C[1].exec&&C[1].test)?this[C[0]]=re?C[1].call(this,re,C[2]):r:this[C[0]]=re?re.replace(C[1],C[2]):r:C.length===4&&(this[C[0]]=re?C[3].call(this,re.replace(C[1],C[2])):r):this[C]=re||r;c+=2}},V=function(W,a){for(var c in a)if(typeof a[c]===f&&a[c].length>0){for(var d=0;d<a[c].length;d++)if(M(a[c][d],W))return c===l?r:c}else if(M(a[c],W))return c===l?r:c;return a.hasOwnProperty("*")?a["*"]:W},U={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},O={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},j={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,k],[/opios[\/ ]+([\w\.]+)/i],[k,[v,G+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[k,[v,G+" GX"]],[/\bopr\/([\w\.]+)/i],[k,[v,G]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[k,[v,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[v,k],[/quark(?:pc)?\/([-\w\.]+)/i],[k,[v,"Quark"]],[/\bddg\/([\w\.]+)/i],[k,[v,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[v,"UC"+ke]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[k,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[v,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[k,[v,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[k,[v,"Smart Lenovo "+ke]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+ke],k],[/\bfocus\/([\w\.]+)/i],[k,[v,fe+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[v,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[v,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[v,"MIUI "+ke]],[/fxios\/([-\w\.]+)/i],[k,[v,fe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360"+Ot]],[/\b(qq)\/([\w\.]+)/i],[[v,/(.+)/,"$1Browser"],k],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1"+Ot],k],[/samsungbrowser\/([\w\.]+)/i],[k,[v,Pe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],k],[/metasr[\/ ]?([\d\.]+)/i],[k,[v,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[v,"Sogou Mobile"],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[v,k],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,Fe],k],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[v,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[v,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[k,[v,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[v,Me+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,Me+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[v,"Android "+ke]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[v,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[k,V,U]],[/(webkit|khtml)\/([\w\.]+)/i],[v,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],k],[/(wolvic)\/([\w\.]+)/i],[v,k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[v,fe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[v,[k,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[v,[k,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,F]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,s,F]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[g,Pe],[x,T]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[m,[g,Pe],[x,E]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[g,Z],[x,E]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[g,Z],[x,T]],[/(macintosh);/i],[m,[g,Z]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[g,de],[x,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[g,K],[x,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[g,K],[x,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[m,/_/g," "],[g,Ee],[x,E]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[g,Ee],[x,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[g,"OPPO"],[x,E]],[/\b(opd2\d{3}a?) bui/i],[m,[g,"OPPO"],[x,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[g,"Vivo"],[x,E]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[g,"Realme"],[x,E]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[g,Q],[x,E]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[g,Q],[x,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[g,ne],[x,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[g,ne],[x,E]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[g,"Lenovo"],[x,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[g,"Nokia"],[x,E]],[/(pixel c)\b/i],[m,[g,ae],[x,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[g,ae],[x,E]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[g,Le],[x,E]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[g,Le],[x,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[g,"OnePlus"],[x,E]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[g,be],[x,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[g,be],[x,E]],[/(playbook);[-\w\),; ]+(rim)/i],[m,g,[x,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[g,he],[x,E]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[g,Y],[x,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[g,Y],[x,E]],[/(nexus 9)/i],[m,[g,"HTC"],[x,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[m,/_/g," "],[x,E]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[m,[g,"TCL"],[x,T]],[/(itel) ((\w+))/i],[[g,F],m,[x,V,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[g,"Acer"],[x,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[g,"Meizu"],[x,E]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[g,"Ulefone"],[x,E]],[/droid.+; (a(?:015|06[35]|142p?))/i],[m,[g,"Nothing"],[x,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,m,[x,E]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,m,[x,T]],[/(surface duo)/i],[m,[g,ee],[x,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[g,"Fairphone"],[x,E]],[/(u304aa)/i],[m,[g,"AT&T"],[x,E]],[/\bsie-(\w*)/i],[m,[g,"Siemens"],[x,E]],[/\b(rct\w+) b/i],[m,[g,"RCA"],[x,T]],[/\b(venue[\d ]{2,7}) b/i],[m,[g,"Dell"],[x,T]],[/\b(q(?:mv|ta)\w+) b/i],[m,[g,"Verizon"],[x,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[g,"Barnes & Noble"],[x,T]],[/\b(tm\d{3}\w+) b/i],[m,[g,"NuVision"],[x,T]],[/\b(k88) b/i],[m,[g,"ZTE"],[x,T]],[/\b(nx\d{3}j) b/i],[m,[g,"ZTE"],[x,E]],[/\b(gen\d{3}) b.+49h/i],[m,[g,"Swiss"],[x,E]],[/\b(zur\d{3}) b/i],[m,[g,"Swiss"],[x,T]],[/\b((zeki)?tb.*\b) b/i],[m,[g,"Zeki"],[x,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],m,[x,T]],[/\b(ns-?\w{0,9}) b/i],[m,[g,"Insignia"],[x,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[g,"NextBook"],[x,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],m,[x,E]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],m,[x,E]],[/\b(ph-1) /i],[m,[g,"Essential"],[x,E]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[g,"Envizen"],[x,T]],[/\b(trio[-\w\. ]+) b/i],[m,[g,"MachSpeed"],[x,T]],[/\btu_(1491) b/i],[m,[g,"Rotor"],[x,T]],[/(shield[\w ]+) b/i],[m,[g,"Nvidia"],[x,T]],[/(sprint) (\w+)/i],[g,m,[x,E]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[g,ee],[x,E]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[g,Ne],[x,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[g,Ne],[x,E]],[/smart-tv.+(samsung)/i],[g,[x,B]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[g,Pe],[x,B]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,ne],[x,B]],[/(apple) ?tv/i],[g,[m,Z+" TV"],[x,B]],[/crkey/i],[[m,Me+"cast"],[g,ae],[x,B]],[/droid.+aft(\w+)( bui|\))/i],[m,[g,be],[x,B]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[g,de],[x,B]],[/(bravia[\w ]+)( bui|\))/i],[m,[g,Le],[x,B]],[/(mitv-\w{5}) bui/i],[m,[g,Ee],[x,B]],[/Hbbtv.*(technisat) (.*);/i],[g,m,[x,B]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,I],[m,I],[x,B]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[x,B]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,m,[x,R]],[/droid.+; (shield) bui/i],[m,[g,"Nvidia"],[x,R]],[/(playstation [345portablevi]+)/i],[m,[g,Le],[x,R]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[g,ee],[x,R]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[m,[g,Pe],[x,H]],[/((pebble))app/i],[g,m,[x,H]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[g,Z],[x,H]],[/droid.+; (glass) \d/i],[m,[g,ae],[x,H]],[/droid.+; (wt63?0{2,3})\)/i],[m,[g,Ne],[x,H]],[/(quest( \d| pro)?)/i],[m,[g,Fe],[x,H]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[x,L]],[/(aeobc)\b/i],[m,[g,be],[x,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[x,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[x,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[x,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[x,E]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[v,ce+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[v,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,k],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[v,[k,V,O]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[k,V,O],[v,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,Xe],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,k],[/\(bb(10);/i],[k,[v,he]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[v,fe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[v,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[k,[v,"watchOS"]],[/crkey\/([\d\.]+)/i],[k,[v,Me+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[v,st],k],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,k],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[v,k]]},N=function(W,a){if(typeof W===f&&(a=W,W=r),!(this instanceof N))return new N(W,a).getResult();var c=typeof n!==u&&n.navigator?n.navigator:r,d=W||(c&&c.userAgent?c.userAgent:s),w=c&&c.userAgentData?c.userAgentData:r,D=a?y(j,a):j,C=c&&c.userAgent==d;return this.getBrowser=function(){var A={};return A[v]=r,A[k]=r,$.call(A,d,D.browser),A[b]=P(A[k]),C&&c&&c.brave&&typeof c.brave.isBrave==o&&(A[v]="Brave"),A},this.getCPU=function(){var A={};return A[_]=r,$.call(A,d,D.cpu),A},this.getDevice=function(){var A={};return A[g]=r,A[m]=r,A[x]=r,$.call(A,d,D.device),C&&!A[x]&&w&&w.mobile&&(A[x]=E),C&&A[m]=="Macintosh"&&c&&typeof c.standalone!==u&&c.maxTouchPoints&&c.maxTouchPoints>2&&(A[m]="iPad",A[x]=T),A},this.getEngine=function(){var A={};return A[v]=r,A[k]=r,$.call(A,d,D.engine),A},this.getOS=function(){var A={};return A[v]=r,A[k]=r,$.call(A,d,D.os),C&&!A[v]&&w&&w.platform&&w.platform!="Unknown"&&(A[v]=w.platform.replace(/chrome os/i,st).replace(/macos/i,Xe)),A},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(A){return d=typeof A===h&&A.length>X?I(A,X):A,this},this.setUA(d),this};N.VERSION=i,N.BROWSER=S([v,k,b]),N.CPU=S([_]),N.DEVICE=S([m,g,x,R,E,B,T,H,L]),N.ENGINE=N.OS=S([v,k]),t.exports&&(e=t.exports=N),e.UAParser=N;var z=typeof n!==u&&(n.jQuery||n.Zepto);if(z&&!z.ua){var q=new N;z.ua=q.getResult(),z.ua.get=function(){return q.getUA()},z.ua.set=function(W){q.setUA(W);var a=q.getResult();for(var c in a)z.ua[c]=a[c]}}})(typeof window=="object"?window:yu)})($n,$n.exports)),$n.exports}var xu=ku();const Kr=(t,e)=>e.some(n=>t instanceof n);let hs,fs;function Su(){return hs||(hs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _u(){return fs||(fs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qr=new WeakMap,Er=new WeakMap,cr=new WeakMap;function Du(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n($t(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return cr.set(e,t),e}function Eu(t){if(qr.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});qr.set(t,e)}let Yr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qr.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $t(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Za(t){Yr=t(Yr)}function Ru(t){return _u().includes(t)?function(...e){return t.apply(Gr(this),e),$t(this.request)}:function(...e){return $t(t.apply(Gr(this),e))}}function Cu(t){return typeof t=="function"?Ru(t):(t instanceof IDBTransaction&&Eu(t),Kr(t,Su())?new Proxy(t,Yr):t)}function $t(t){if(t instanceof IDBRequest)return Du(t);if(Er.has(t))return Er.get(t);const e=Cu(t);return e!==t&&(Er.set(t,e),cr.set(e,t)),e}const Gr=t=>cr.get(t);function Tu(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),o=$t(l);return r&&l.addEventListener("upgradeneeded",u=>{r($t(l.result),u.oldVersion,u.newVersion,$t(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const Au=["get","getKey","getAll","getAllKeys","count"],Mu=["put","add","delete","clear"],Rr=new Map;function gs(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rr.get(e))return Rr.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Mu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Au.includes(n)))return;const s=async function(l,...o){const u=this.transaction(l,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(o.shift())),(await Promise.all([f[n](...o),i&&u.done]))[0]};return Rr.set(e,s),s}Za(t=>({...t,get:(e,n,r)=>gs(e,n)||t.get(e,n,r),has:(e,n)=>!!gs(e,n)||t.has(e,n)}));const Iu=["continue","continuePrimaryKey","advance"],ps={},Qr=new WeakMap,eo=new WeakMap,Pu={get(t,e){if(!Iu.includes(e))return t[e];let n=ps[e];return n||(n=ps[e]=function(...r){Qr.set(this,eo.get(this)[e](...r))}),n}};async function*Fu(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,Pu);for(eo.set(n,e),cr.set(n,Gr(e));e;)yield n,e=await(Qr.get(n)||e.continue()),Qr.delete(n)}function ms(t,e){return e===Symbol.asyncIterator&&Kr(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Kr(t,[IDBIndex,IDBObjectStore])}Za(t=>({...t,get(e,n,r){return ms(e,n)?Fu:t.get(e,n,r)},has(e,n){return ms(e,n)||t.has(e,n)}}));async function Ou(t){const e=JSON.parse(t);if(!e)return;if(e.userInfo)return e;if(!e.data)return;const n=await new zr().decrypt(e.data);if(!n)return;const r=JSON.parse(n);if(!(!r||!r.userInfo))return r}async function Bu(t,e){const n=e==null?void 0:e.body;if(typeof n!="string")return!1;const r=await Ou(n);return r?(console.log("[Request Saver] Saving request",r),(await Tu("ai.panoptic.request")).transaction("requests","readwrite").objectStore("requests").put({id:1,url:t,request:e}),!0):!1}function Lu(t=fetch){return async(e,n)=>{try{await Bu(e,n)}catch(r){console.error("[Request Saver] ",r)}return t(e,n)}}function to(t){let e=0,n=0,r=0,i=0;for(let u=0;u<t.height;u++)for(let f=0;f<t.width;f++){let h=f*u*4,b=t.data[h],m=t.data[h+1],v=t.data[h+2];(b!==0||m!==0||v!==0)&&(e+=b,n+=m,r+=v,i++)}if(i===0)return;const s=e/i,l=n/i,o=r/i;if(!(isNaN(s)||isNaN(l)||isNaN(o)))return[s,l,o]}function Uu(t,e){if(t===void 0)return;const{data:n,width:r,height:i}=t,s=[],l=[];for(let o=0;o<e;o++)for(let u=0;u<e;u++){const f=Math.floor(u*r/e),h=Math.min(Math.floor((u+1)*r/e),r),b=Math.floor(o*i/e),m=Math.min(Math.floor((o+1)*i/e),i);l.push({startX:f,endX:h,startY:b,endY:m})}for(const o of l){const{startX:u,endX:f,startY:h,endY:b}=o,m=f-u,v=b-h,x=m*v;if(x===0){const B=(h*r+u)*4;s.push([n[B],n[B+1],n[B+2]]);continue}let g=0,k=0,_=0;for(let B=h;B<b;B++){const H=(B*r+u)*4,L=(B*r+f)*4;for(let X=H;X<L;X+=4)g+=n[X],k+=n[X+1],_+=n[X+2]}const R=g/x,E=k/x,T=_/x;s.push([R,E,T])}return s}function Vu(t,e){if(t===void 0)return;const{data:n,width:r,height:i}=t,s=[],l=[];for(let o=0;o<e;o++)for(let u=0;u<e;u++){const f=Math.floor(u*r/e),h=Math.min(Math.floor((u+1)*r/e),r),b=Math.floor(o*i/e),m=Math.min(Math.floor((o+1)*i/e),i);l.push({startX:f,endX:h,startY:b,endY:m})}for(const o of l){const{startX:u,endX:f,startY:h,endY:b}=o,m=f-u,v=b-h,x=m*v;if(x===0){const B=(h*r+u)*4,H=n[B],L=n[B+1],X=n[B+2],[be,Z,Y]=bs(H,L,X);s.push([be,Z,Y]);continue}let g=0,k=0,_=0;for(let B=h;B<b;B++)for(let H=u;H<f;H++){const L=(B*r+H)*4,X=n[L],be=n[L+1],Z=n[L+2],[Y,he,ke]=bs(X,be,Z);g+=Y,k+=he,_+=ke}const R=g/x,E=k/x,T=_/x;s.push([R,E,T])}return s}function bs(t,e,n){const r=.299*t+.587*e+.114*n,i=-.14713*t-.28886*e+.436*n,s=.615*t-.51499*e-.10001*n;return[r,i,s]}async function vs(t){return Promise.all(t.map(Nu))}async function Nu(t){const e={};for(const n in t.pixels)e[n]={type:t.pixels[n].type,pixels:await t.pixels[n].pixels};return{...t,pixels:e}}const $u=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,ws=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const e=t.match($u);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},ys=t=>t==="*"||t==="x"||t==="X",ks=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},Hu=(t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e],Wu=(t,e)=>{if(ys(t)||ys(e))return 0;const[n,r]=Hu(ks(t),ks(e));return n>r?1:n<r?-1:0},xs=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const r=Wu(t[n]||"0",e[n]||"0");if(r!==0)return r}return 0},rn=(t,e)=>{const n=ws(t),r=ws(e),i=n.pop(),s=r.pop(),l=xs(n,r);return l!==0?l:i&&s?xs(i.split("."),s.split(".")):i||s?i?-1:1:0},no=15,Xr=new Map([[Te.Local,du],[Te.LocalV2,uu],[Te.RemoteDev,hu],[Te.RemoteProd,fu],[Te.AwsDev,gu],[Te.AwsProd,Ja],[Te.RemoteProdEnterprise,pu],[Te.AwsDevEnterprise,mu],[Te.AwsProdEnterprise,bu],[Te.Schema2Dev,vu],[Te.Schema2Prod,wu]]);class Ss{constructor(e){p(this,"wakeUpRequestTime"),p(this,"serverAwaken",!1),p(this,"scanId"),p(this,"client"),p(this,"cfg",{serverId:Te.RemoteProd,dataWindowDuration:no}),this.client=new ds(Xr.get(Te.AwsProd)),e.dataWindowDuration&&(we("Configure dataWindowDuration: "+e.dataWindowDuration),this.client.windowDuration=e.dataWindowDuration),e.serverId!==void 0&&(we("Configure serverId: "+e.serverId),this.client=new ds(Xr.get(e.serverId)),this.client.apiKey=this.cfg.apiKey),e.serverUrl&&(we("Configure serverUrl: "+e.serverUrl),this.client.setServerUrl(e.serverUrl)),e.apiKey&&(we("Configure apiKey: "+Bd(e.apiKey)),this.cfg.apiKey=e.apiKey,this.client.apiKey=this.cfg.apiKey),e.httpCall&&(we("Configure httpCall"),this.client.httpCall=e.httpCall),e.enableSavingRequest&&(we("Configure enableSavingRequest"),this.client.httpCall=Lu(this.client.httpCall)),e.landmarksSampleRate!==void 0&&(we("Configure landmarksSampleRate: "+e.landmarksSampleRate),this.cfg.landmarksSampleRate=e.landmarksSampleRate)}get readyTime(){return this.client.config.coldStartDuration-this.client.windowDuration}get _isReady(){return this.wakeUpRequestTime===void 0?!1:this.serverAwaken?!0:(new Date().getTime()-this.wakeUpRequestTime)/1e3>this.readyTime}userInfo(e){const n={},r=e;return Object.keys(r).forEach(i=>{r[i]!==void 0&&(n[i]=r[i])}),n}async _wakeUpServer(){let e=new Date().getTime();return this.serverAwaken=!1,this.wakeUpRequestTime=new Date().getTime(),we("Wake up server now..."),new Promise((n,r)=>{this.client.wakeUpServer().then(()=>{this.serverAwaken=!0,n()}).catch(i=>{this.serverAwaken=!1,r(i)}).finally(()=>{let i=new Date().getTime()-e;we("Wake up time: ",i)})})}async wakeUpServer(){return this.wakeUpRequestTime!==void 0?this._waitUntilReady():this._wakeUpServer()}isReadySync(){return this._isReady}async isReady(){if(this._isReady)return!0;let e=Od(.5,"timeout");return Promise.race([e,this.waitUntilReady()]).then(n=>n!=="timeout")}async _waitUntilReady(){return new Promise(e=>{let n=setInterval(()=>{this._isReady&&(clearInterval(n),e())},200)})}async waitUntilReady(){return this.wakeUpRequestTime==null&&this.wakeUpServer(),this._waitUntilReady()}begin(){return this.scanId=wi(),this._wakeUpServer().catch(e=>console.log(e)),Promise.resolve()}async analyze(e,n,r){var i;const s=(i=e[0].pixels.face)==null?void 0:i.type;if(rn(this.client.config.schemaVersion,"2")>0)var l=await this.getHealthV2(e,n,r);else if(s=="rgb1x1")l=await this.getHealthRgb1x1(await vs(e),n);else throw new Error("Unsupported pixel Size");return this.parseHealthFromJson(l)}async getHealthRgb1x1(e,n){const r=this.client.getUrl(),i=e.filter(h=>{var b;return(b=h.pixels.face)==null?void 0:b.pixels}).map(h=>{var b;return(b=h.pixels.face)==null?void 0:b.pixels[0][0]}),s=e.filter(h=>{var b;return(b=h.pixels.face)==null?void 0:b.pixels}).map(h=>{var b;return(b=h.pixels.face)==null?void 0:b.pixels[0][1]}),l=e.filter(h=>{var b;return(b=h.pixels.face)==null?void 0:b.pixels}).map(h=>{var b;return(b=h.pixels.face)==null?void 0:b.pixels[0][2]}),o=e.map(h=>h.timestamp),u=e.filter(h=>{var b;return(b=h.pixels.chest)==null?void 0:b.pixels}).map(h=>{var b;return(b=h.pixels.chest)==null?void 0:b.pixels[0][0]}),f={r:i,g:s,b:l,timestamp:o,userInfo:this.userInfo(n),deviceId:this.client.deviceId,windowDuration:this.client.windowDuration,deviceType:"web"};return u!==void 0&&u.length>0?u.length>=s.length?(f.respPixels=u,f.version="1.3"):console.warn("[HttpEndpointsClient] Too few respiratory pixels. Falling back to schema 1.2."):console.warn("[HttpEndpointsClient] No respiratory pixels. Falling back to schema 1.2."),this.scanId!==void 0&&(f.scanId=this.scanId),await this.client.callAPI(r,f)}async getHealthV2(e,n,r){var i;const s=this.client.getUrl(),l=this.prepareDataV2(await vs(e)),o=this.prepareDeviceInfo(),u={...l,pixelsFormat:(i=e[0].pixels.face)==null?void 0:i.type,userInfo:this.userInfo(n),deviceInfo:o,measurementMode:"Resting",faceDetectorOption:"mp-face-mesh",metadata:{requestTime:Date.now(),dev:this.client.config.development},videoFrameInfo:r};return this.scanId!==void 0&&(u.deviceInfo.scanId=this.scanId),await this.client.callAPI(s,u)}prepareDataV2(e){const n=[],r=[],i=[];let s="2.1";if(e.map(l=>{var o,u,f,h,b,m,v,x,g,k;const _=(o=l.pixels.face)==null?void 0:o.pixels;if(_){const T={values:_,timestamp:l.timestamp};(u=l.pixels.chin)!=null&&u.pixels&&(s="2.2",T.chin=(f=l.pixels.chin)==null?void 0:f.pixels),(h=l.pixels.leftCheek)!=null&&h.pixels&&(s="2.2",T.leftCheek=(b=l.pixels.leftCheek)==null?void 0:b.pixels),(m=l.pixels.rightCheek)!=null&&m.pixels&&(s="2.2",T.rightCheek=(v=l.pixels.rightCheek)==null?void 0:v.pixels),(x=l.pixels.glabella)!=null&&x.pixels&&(s="2.2",T.glabella=(g=l.pixels.glabella)==null?void 0:g.pixels),n.push(T)}const R=(k=l.pixels.chest)==null?void 0:k.pixels;R&&(R[0].length===1?r.push(this.mean(R)[0]):(s="2.3",R.length==1?r.push(R[0]):r.push(R)));const E=this.getLandmarksV2(l.landmarks);if(E){const T=l.facebox,B={bbox:[T.xCenter-T.width/2,T.yCenter-T.height/2,T.xCenter+T.width/2,T.yCenter+T.height/2],landmarks:E,timestamp:l.timestamp};i.push(B)}}),i.length>1&&this.cfg.landmarksSampleRate!==void 0){const l=this.cfg.landmarksSampleRate,o=i[i.length-1].timestamp-i[0].timestamp;if(i.length/o>l){const u=1/l,f=[];let h=i[0].timestamp;f.push(i[0]);for(let b=1;b<i.length;b++)i[b].timestamp-h>=u&&(f.push(i[b]),h=i[b].timestamp);i.length=0,i.push(...f)}}return{version:s,pixels:n,respPixels:r,facialMarkers:i.length==0?null:i}}getLandmarksV2(e){if(!e||e.length==0)return null;const n={};return[4,10,11,14,34,136,152,168,205,264,365,425].map(r=>{n[r]=[e[r].x,e[r].y],e[r].z!==void 0&&n[r].push(e[r].z)}),n}prepareDeviceInfo(){const{device:e}=xu.UAParser(navigator.userAgent);return{deviceId:this.client.deviceId,deviceBrand:e!=null&&e.vendor?e.vendor:"unknown",deviceModel:e!=null&&e.model?e.model:"unknown",deviceType:"web"}}mean(e){if(e.length===0)return[0,0,0];const n=e[0].length;return e.reduce((r,i)=>{for(let s=0;s<n;s++)r[s]+=i[s];return r},Array(n).fill(0)).map(r=>r/e.length)}end(){throw new Error("Method not implemented.")}reset(){this.serverAwaken=!1,this.wakeUpRequestTime=void 0,this.scanId=void 0}parseHealthFromJson(e){return we(e),rn(this.client.config.schemaVersion,"2")>0?this.parseHealthV2(e):this.parseHealthV1(e)}parseHealthV1(e){let n=e.vital_signs,r=e.health_risks,i=e.holistic_health,s={datetime:new Date};if(i&&(s.holisticHealth={},i.general_wellness!==void 0&&(s.holisticHealth.generalWellness=i.general_wellness),i.bmi!==void 0&&(s.holisticHealth.bmi=i.bmi),i.hhe_version!==void 0&&(s.holisticHealth.version=i.hhe_version),i.absi!==void 0&&(s.holisticHealth.absi=i.absi),i.cardiac_workload!==void 0&&(s.holisticHealth.cardiacWorkload=i.cardiac_workload),i.pulse_respiratory_quotient!==void 0&&(s.holisticHealth.pulseRespiratoryQuotient=i.pulse_respiratory_quotient),i.waist_to_height_ratio!==void 0&&(s.holisticHealth.waistToHeightRatio=i.waist_to_height_ratio)),n["0_server"].scan_parameters!==void 0){let l=n["0_server"].scan_parameters,o={conditions:l.conditions!==void 0?l.conditions:void 0,invalidPixelPercentage:l.invalid_pixel_percentage!==void 0?l.invalid_pixel_percentage:void 0,signalDuration:l.signal_duration!==void 0?l.signal_duration:void 0,signalQuality:l.signal_quality!==void 0?l.signal_quality:void 0,snr:l.snr!==void 0?l.snr:void 0};s.scanParameters=o}return n&&(s.vitalSigns={heartRate:n.heart_rate,spo2:n.spo2,ibi:n.hrv_ibi},n.respiratory_rate!==void 0&&(s.vitalSigns.respiratoryRate=n.respiratory_rate),n.stress!==void 0&&(s.vitalSigns.stress=n.stress),n.stress_score!==void 0&&(s.vitalSigns.stressScore=n.stress_score),n.hrv_sdnn!==void 0&&(s.vitalSigns.hrvSdnn=n.hrv_sdnn),n.hrv_rmssd!==void 0&&(s.vitalSigns.hrvRmssd=n.hrv_rmssd),n.temperature!==void 0&&(s.vitalSigns.temperature=n.temperature),n.blood_pressure!==void 0&&(s.vitalSigns.bloodPressure=n.blood_pressure),n.blood_pressure_systolic!==void 0&&(s.vitalSigns.bloodPressureSystolic=n.blood_pressure_systolic),n.blood_pressure_diastolic!==void 0&&(s.vitalSigns.bloodPressureDiastolic=n.blood_pressure_diastolic),n.facial_skin_age!==void 0&&(s.vitalSigns.facialSkinAge=n.facial_skin_age),n.blood_alcohol!==void 0&&(s.vitalSigns.bloodAlcohol=n.blood_alcohol),n.blood_sugar!==void 0&&(s.vitalSigns.bloodSugar=n.blood_sugar),n["0_server"].version!==void 0&&(s.vitalSigns.version=n["0_server"].version)),r.cvd_risk_general!==void 0&&(s.risks==null&&(s.risks={}),s.risks.cardiovascularRisks={generalRisk:r.cvd_risk_general,coronaryHeartDisease:r.cvd_risk_CHD,congestiveHeartFailure:r.cvd_risk_CHF,intermittentClaudication:r.cvd_risk_IC,stroke:r.cvd_risk_Stroke}),r.covid_risk!==void 0&&(s.risks==null&&(s.risks={}),s.risks.covidRisk={covidRisk:r.covid_risk}),r.diabetesRisk!==void 0&&(s.risks==null&&(s.risks={}),s.risks.diabetesRisk=r.diabetesRisk),r.hypertensionRisk!==void 0&&(s.risks==null&&(s.risks={}),s.risks.hypertensionRisk=r.hypertensionRisk),r.cholesterolRisk!==void 0&&(s.risks==null&&(s.risks={}),s.risks.cholesterolRisk=r.cholesterolRisk),r.hre_version!==void 0&&s.risks&&(s.risks.version=r.hre_version),s}parseHealthV2(e){let n=e.vitalSigns,r=e.healthRisks,i=e.wellness,s=e.signalAnalysis,l=e.serverInfo,o={datetime:new Date};if(i&&(o.holisticHealth={},i.generalWellness!==void 0&&(o.holisticHealth.generalWellness=i.generalWellness),i.bmi!==void 0&&(o.holisticHealth.bmi=i.bmi),i.absi!==void 0&&(o.holisticHealth.absi=i.absi),i.absiz!==void 0&&(o.holisticHealth.absiz=i.absiz),i.cardiacWorkload!==void 0&&(o.holisticHealth.cardiacWorkload=i.cardiacWorkload),i.pulseRespiratoryQuotient!==void 0&&(o.holisticHealth.pulseRespiratoryQuotient=i.pulseRespiratoryQuotient),i.waistToHeightRatio!==void 0&&(o.holisticHealth.waistToHeightRatio=i.waistToHeightRatio),i.cardiovascularSystemWellness!==void 0&&(o.holisticHealth.cardiovascularSystemWellness=i.cardiovascularSystemWellness),i.mentalWellness!==void 0&&(o.holisticHealth.mentalWellness=i.mentalWellness),i.physicalWellness!==void 0&&(o.holisticHealth.physicalWellness=i.physicalWellness),i.respiratorySystemWellness!==void 0&&(o.holisticHealth.respiratorySystemWellness=i.respiratorySystemWellness)),n&&(o.vitalSigns={},n.heartRate!==void 0&&(o.vitalSigns.heartRate=n.heartRate),n.spo2!==void 0&&(o.vitalSigns.spo2=n.spo2),n.hrvIbi!==void 0&&(o.vitalSigns.ibi=n.hrvIbi),n.respiratoryRate!==void 0&&(o.vitalSigns.respiratoryRate=n.respiratoryRate),n.stress!==void 0&&(o.vitalSigns.stress=n.stress),n.stressScore!==void 0&&(o.vitalSigns.stressScore=n.stressScore),n.hrvSdnn!==void 0&&(o.vitalSigns.hrvSdnn=n.hrvSdnn),n.hrvRmssd!==void 0&&(o.vitalSigns.hrvRmssd=n.hrvRmssd),n.bloodPressure!==void 0&&(o.vitalSigns.bloodPressure=n.bloodPressure),n.bloodPressureSystolic!==void 0&&(o.vitalSigns.bloodPressureSystolic=n.bloodPressureSystolic),n.bloodPressureDiastolic!==void 0&&(o.vitalSigns.bloodPressureDiastolic=n.bloodPressureDiastolic),n.facialSkinAge!==void 0&&(o.vitalSigns.facialSkinAge=n.facialSkinAge)),r&&(o.risks={},r.cvdRiskGeneral!==void 0&&(o.risks.cardiovascularRisks={generalRisk:r.cvdRiskGeneral,coronaryHeartDisease:r.cvdRiskCHD,congestiveHeartFailure:r.cvdRiskCHF,intermittentClaudication:r.cvdRiskIC,stroke:r.cvdRiskStroke}),r.covidRisk!==void 0&&(o.risks.covidRisk={covidRisk:r.covidRisk}),r.diabetesRisk!==void 0&&(o.risks.diabetesRisk=r.diabetesRisk),r.hypertensionRisk!==void 0&&(o.risks.hypertensionRisk=r.hypertensionRisk),r.cholesterolRisk!==void 0&&(o.risks.cholesterolRisk=r.cholesterolRisk)),s){if(o.scanParameters={},s.signalConditions!==void 0){const u=s.signalConditions;o.scanParameters.signalConditions={noSpeedJitter:u.noSpeedJitter,goodAverageSpeed:u.goodAverageSpeed,fixedHeadPosition:u.fixedHeadPosition,noHeadTurning:u.noHeadTurning,adequateBrightness:u.adequateBrightness,evenLightingOnFace:u.evenLightingOnFace,goodSnr:u.goodSnr,signalSteadiness:u.signalSteadiness,goodSignalPercentage:u.goodSignalPercentage,hrSteadiness:u.hrSteadiness,hrSignalQuality:u.hrSignalQuality,rrSignalQuality:u.rrSignalQuality,bpSignalQuality:u.bpSignalQuality}}s.signalDuration!==void 0&&(o.scanParameters.signalDuration=s.signalDuration),s.signalQuality!==void 0&&(o.scanParameters.signalQuality=s.signalQuality),s.snr!==void 0&&(o.scanParameters.snr=s.snr),s.warning!==void 0&&(o.scanParameters.warning=s.warning)}return l&&(o.serverInfo={userPlan:l.userPlan,userId:l.userId},l.datetime!==void 0&&(o.serverInfo.datetime=l.datetime),l.datetimeStr!==void 0&&(o.serverInfo.datetimeStr=l.datetimeStr),l.elapse!==void 0&&(o.serverInfo.elapse=l.elapse),l.version!==void 0&&(o.serverInfo.version=l.version),l.errorCode!==void 0&&(o.serverInfo.errorCode=l.datetime)),o}}class ju{constructor(e,n,r,i,s=navigator.hardwareConcurrency*2,l){p(this,"workerManagers",[]),p(this,"createWorker"),p(this,"workerName"),p(this,"timeout"),p(this,"workerCount"),p(this,"onCreated"),p(this,"workerFunction"),p(this,"isEnabled",!0),this.onCreated=l,this.createWorker=e,this.workerName=r,this.timeout=i,this.workerCount=s,this.workerFunction=n,this.onCreated=l,this.isEnabled&&this.newWorker()}async newWorker(){const e=this.createWorker(),n=new zu(e,this.workerName,this.timeout);return this.onCreated&&await this.onCreated(n),this.workerManagers.push(n),n}async callWorker(e,n){if(!this.isEnabled&&this.workerFunction)return this.workerFunction(e);const r=this.workerManagers.find(i=>!i.isBusy);return r?r.callWorker(e,n):this.workerManagers.length<this.workerCount?(await this.newWorker()).callWorker(e,n):Promise.reject(new Error(`${this.workerName}: All ${this.workerCount} workers are busy`))}get hasAvailableWorker(){return this.workerManagers.some(e=>!e.isBusy)||this.workerManagers.length<this.workerCount}terminateAll(){this.workerManagers.forEach(e=>e.terminate()),this.workerManagers=[]}}class zu{constructor(e,n,r){p(this,"timeout"),p(this,"worker"),p(this,"workerName"),p(this,"pendingPromises",{}),this.timeout=r||1e3,this.worker=e,this.workerName=n||"Worker",this.worker.onmessage=i=>{const{result:s,hash:l,error:o}=i.data,u=this.pendingPromises[l];u&&(clearTimeout(u.timer),o?u.reject(new Error(`Worker ${this.workerName} Error: ${o}`)):u.resolve(s),delete this.pendingPromises[l])},this.worker.onerror=i=>{for(const s in this.pendingPromises)clearTimeout(this.pendingPromises[s].timer),this.pendingPromises[s].reject(new Error(`Worker ${this.workerName} Error: ${i.message}`)),delete this.pendingPromises[s];console.error(`Worker ${n} error: ${i.message}`)}}get isBusy(){return Object.keys(this.pendingPromises).length>2}callWorker(e,n){const r=crypto.randomUUID();return new Promise((i,s)=>{const l=setTimeout(()=>{if(this.pendingPromises[r]){const f=Object.keys(this.pendingPromises).length;this.pendingPromises[r].reject(new Error(`Worker ${this.workerName} Timeout. ${f>1?`${f} pending promises.`:""}`))}delete this.pendingPromises[r]},this.timeout);this.pendingPromises[r]&&(clearTimeout(this.pendingPromises[r].timer),this.pendingPromises[r].reject(new Error(`Worker ${this.workerName} Duplicate hash: ${r}`)),delete this.pendingPromises[r]),this.pendingPromises[r]={resolve:i,reject:s,timer:l};const o=performance.now();this.worker.postMessage({inputData:e,hash:r},n);const u=performance.now()-o;u>5&&console.warn(`Worker ${this.workerName} postMessage took ${u} ms, which may cause frame drops.`)})}terminate(){this.worker.terminate();for(const e in this.pendingPromises)clearTimeout(this.pendingPromises[e].timer),this.pendingPromises[e].reject(new Error(`Worker ${this.workerName} terminated.`)),delete this.pendingPromises[e]}}const Cr={};function Qe(t,e,n,r,i,s){return Cr[n]||(Cr[n]=new ju(t,e,n,r,i,s)),Cr[n]}function dr(t){return to(t)}self.onmessage=t=>{const{inputData:e,hash:n}=t.data,r=dr(e);self.postMessage({result:r,hash:n})};class Tr{constructor(){p(this,"dataType","ggg1x1"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/B5lsALhE-ppZ36LXi.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,dr,"Ggg1x1WorkerPool"))}async extract(e){const n=await e;if(!n)return;const r=await this.workerPool.callWorker(n);if(!(!r||r[1]===void 0))return[[r[1]]]}}function ro(t){const e=to(t);if(!e)return null;const[n,r,i]=e,s=.299*n+.587*r+.114*i,l=-.14713*n-.28886*r+.436*i,o=.615*n-.51499*r-.10001*i;return[s,l,o]}self.onmessage=t=>{const{inputData:e,hash:n}=t.data,r=ro(e);self.postMessage({result:r,hash:n})};class Ku{constructor(){p(this,"dataType","yyy1x1"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/CXHLiYOT-BPLMuNyk.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,ro,"Yuv1x1WorkerPool"))}async extract(e){const n=await e;if(!n)return;const r=await this.workerPool.callWorker(n);if(r)return[[r[0]]]}}class Ar{constructor(){p(this,"dataType","rgb1x1"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/B5lsALhE-ppZ36LXi.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,dr,"Rgb1x1WorkerPool"))}async extract(e){const n=await e;if(!n)return;const r=await this.workerPool.callWorker(n);if(r)return[r]}}function yi(t){const{imageData:e,size:n}=t;return Uu(e,n)}self.onmessage=t=>{const{inputData:e,hash:n}=t.data,r=yi(e);self.postMessage({result:r,hash:n})};class qu{constructor(){p(this,"dataType","rgb8x8"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BJ8tLFkU-CydYnlpG.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,yi,"Rgb8x8WorkerPool"))}async extract(e){const n=await e;if(n)return await this.workerPool.callWorker({imageData:n,size:8})}}class Yu{constructor(){p(this,"dataType","rgb32x32"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BJ8tLFkU-CydYnlpG.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,yi,"Rgb32x32WorkerPool"))}async extract(e){const n=await e;if(n)return await this.workerPool.callWorker({imageData:n,size:32})}}function Rn(t){const{imageData:e,size:n}=t;return Vu(e,n)}self.onmessage=t=>{const{inputData:e,hash:n}=t.data,r=Rn(e);self.postMessage({result:r,hash:n})};class Gu{constructor(){p(this,"dataType","yuv8x8"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BQisuE9N-gDDR2tiQ.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,Rn,"Yuv8x8WorkerPool"))}async extract(e){const n=await e;if(n)return await this.workerPool.callWorker({imageData:n,size:8})}}class Qu{constructor(){p(this,"dataType","yuv32x32"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BQisuE9N-gDDR2tiQ.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,Rn,"Yuv32x32WorkerPool"))}async extract(e){const n=await e;if(n)return await this.workerPool.callWorker({imageData:n,size:32})}}class Xu{constructor(){p(this,"dataType","yuv64x64"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BQisuE9N-gDDR2tiQ.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,Rn,"Yuv64x64WorkerPool"))}async extract(e){const n=await e;if(n)return await this.workerPool.callWorker({imageData:n,size:64})}}class Ju{constructor(){p(this,"dataType","yuv1x1"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BQisuE9N-gDDR2tiQ.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,Rn,"Yuv1x1WorkerPool"))}async extract(e){const n=await e;if(n)return await this.workerPool.callWorker({imageData:n,size:1})}}class Zu{constructor(){p(this,"dataType","meanRgb1x1"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/B5lsALhE-ppZ36LXi.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,dr,"ChestMeanRgb1x1WorkerPool"))}async extract(e){const n=await e;if(!n)return;const r=await this.workerPool.callWorker(n);if(r)return[r]}}function Mr(t,e="rgb1x1"){if(t==="face")switch(e){case"rgb1x1":return new Ar;case"rgb8x8":return new qu;case"rgb32x32":return new Yu;case"yuv1x1":return new Ju;case"yuv8x8":return new Gu;case"yuv32x32":return new Qu;case"yuv64x64":return new Xu;case"ggg1x1":return new Tr;default:return new Ar}else if(t==="chest")switch(e){case"ggg1x1":return new Tr;case"yyy1x1":return new Ku;case"meanRgb1x1":return new Zu;default:return new Tr}else return new Ar}function Ir(t){const e=(t==null?void 0:t.pixelDataType)??"rgb1x1",n=(t==null?void 0:t.chestPixelDataType)??"ggg1x1";return((t==null?void 0:t.enabledROIs)??["face","chest"]).reduce((r,i)=>(i==="face"?r.face=Mr(i,e):i==="chest"?r.chest=Mr(i,n):r[i]=Mr(i,e),r),{})}const Jr="2.0.0-b46";class eh{constructor(){p(this,"threshold",1),p(this,"lastOKTime",0),p(this,"lastPixels"),p(this,"detected",!1)}reset(){this.lastOKTime=0,this.lastPixels=void 0,this.detected=!1}diff(e,n){let r=0;for(let i=0;i<e.length;i++){const s=e[i],l=n[i];for(let o=0;o<s.length;o++)r+=l[o]-s[o]}return r}detect(e,n){if(e){if(this.lastPixels!==void 0){if(this.diff(e,this.lastPixels)!==0)this.lastOKTime=n;else if(n-this.lastOKTime>this.threshold)return this.detected=!0,!0}return this.lastPixels=e,!1}}}const _s=25,Ds=5,Es=1/6,Rs=1;class th{constructor(){p(this,"instanceId"),p(this,"stage",ge.Idle),p(this,"startTime",new Date),p(this,"health"),p(this,"firstDataTime"),p(this,"frameData",[]),p(this,"lastSendTime"),p(this,"sendingData",!1),p(this,"error"),p(this,"cfg",{serverId:Te.RemoteProd,dataCollectionDuration:_s,dataSendingRate:Es,dataSendingDuration:Ds,dataWindowDuration:no,faceLostTimeout:Rs}),p(this,"blinkDetector",ss(on.dummy)),p(this,"healthAnalyzer"),p(this,"pixelsExtractors"),p(this,"duplicatedPixelDetector",new eh),window.__vital_sign_engine_plugin__=this,this.instanceId=wi(),we(`VitalSignEngine Plugin InstanceId: ${this.instanceId}`),we(`VitalSignEngine Plugin (TSVitalSignCamera-${Jr})`),this.healthAnalyzer=new Ss({serverId:Te.AwsProd}),this.pixelsExtractors=Ir(),this.configure({serverId:Te.AwsEnterpriseProd})}configure(e){we("Configuring. Instance Id = ",this.instanceId),this.healthAnalyzer=new Ss(e),e.pixelDataType&&(we("Configure pixelDataType: "+e.pixelDataType),this.cfg.pixelDataType=e.pixelDataType,this.pixelsExtractors=Ir(e)),e.chestPixelDataType&&(we("Configure chestPixelDataType: "+e.chestPixelDataType),this.cfg.chestPixelDataType=e.chestPixelDataType,this.pixelsExtractors=Ir(e)),e.dataCollectionDuration&&(we("Configure dataCollectionDuration: "+e.dataCollectionDuration),this.cfg.dataCollectionDuration=e.dataCollectionDuration),e.dataSendingDuration&&(we("Configure dataSendingDuration: "+e.dataSendingDuration),this.cfg.dataSendingDuration=e.dataSendingDuration),e.dataSendingRate&&(we("Configure dataSendingRate: "+e.dataSendingRate),this.cfg.dataSendingRate=e.dataSendingRate),e.blinkDetectorType!==void 0&&(we("Configure blink detecor type"),this.blinkDetector=ss(e.blinkDetectorType),e.blinkDetectorConfig!==void 0&&this.blinkDetector.configure(e.blinkDetectorConfig)),e.blinkDetectorConfig!==void 0&&(we("Configure blink detector"),this.blinkDetector.configure(e.blinkDetectorConfig)),e.faceLostTimeout!==void 0&&(we("Configure faceLostTimeout"),this.cfg.faceLostTimeout=e.faceLostTimeout)}get stageTime(){switch(this.stage){case ge.WaitingData:return-1;case ge.CollectingData:return this.cfg.dataCollectionDuration||_s;case ge.AnalyzingData:return this.cfg.dataSendingDuration||Ds;case ge.Idle:return-1}}get elapsedTime(){return(new Date().getTime()-this.startTime.getTime())/1e3}get remainingTime(){return Math.max(this.stageTime-this.elapsedTime,0)}get nextStage(){return this.elapsedTime<=this.stageTime?!1:this.stage!==ge.AnalyzingData?!0:!this.sendingData}frameDataTimestamp(e){return this.firstDataTime===void 0?0:(e-this.firstDataTime)/1e3}get healthResult(){return{stage:this.stage,remainingTime:this.remainingTime,health:this.health,error:this.error}}async isReady(){return this.healthAnalyzer.isReady()}async waitUntilReady(){return this.healthAnalyzer.waitUntilReady()}reset(){this.blinkDetector.reset(),this.frameData=[],this.firstDataTime=void 0,this.lastSendTime=void 0,this.sendingData=!1,this.healthAnalyzer.reset(),this.duplicatedPixelDetector.reset()}async start(){if(this.stage!==ge.Idle)return Promise.reject(new Error("already started"));this.health=void 0,this.error=void 0,this.reset(),this.healthAnalyzer.begin(),this.setStage(ge.WaitingData)}get stageName(){switch(this.stage){case ge.Idle:return"Idle";case ge.AnalyzingData:return"Analyzing";case ge.CollectingData:return"Collecting";case ge.WaitingData:return"Waiting"}}setStage(e){this.stage=e,this.startTime=new Date,we(this.stageName)}async stop(){this.stage!==ge.Idle&&(this.setStage(ge.Idle),this.reset(),this.healthAnalyzer.reset())}toIdleStage(){this.setStage(ge.Idle),this.reset(),this.healthAnalyzer.reset()}faceLostError(){we("Error: face lost"),this.toIdleStage(),this.error=new Error("face lost")}duplicatedRGBError(){we("Error: duplicated RGB values"),this.toIdleStage(),this.error=new Error("duplicated rgb")}faceLost(e){if(this.frameData.length==0)return!1;const n=this.frameData[this.frameData.length-1],r=this.cfg.faceLostTimeout===void 0?Rs:this.cfg.faceLostTimeout;return!(this.frameDataTimestamp(e)-n.timestamp<r)}getHealth(e){var n,r;const i=e.videoFrameInfo.timestamp;if(this.stage===ge.Idle)return(n=e.images)!=null&&n.face&&e.faceBox&&this.extractPixels(e.images),this.healthResult;if(this.stage==ge.WaitingData)return this.faceLost(i)||this.blinkDetector.noEyes||this.blinkDetector.unstable?(this.faceLostError(),this.healthResult):(this.blinkDetector.detect(e.landmarks),this.healthAnalyzer.isReadySync()?(this.setStage(ge.CollectingData),this.healthResult):(we("Waiting server to awake..."),this.healthResult));if(this.stage==ge.CollectingData)return this.faceLost(i)||this.blinkDetector.noEyes||this.blinkDetector.unstable?(this.faceLostError(),this.healthResult):(this.blinkDetector.detect(e.landmarks),(r=e.images)!=null&&r.face&&e.faceBox&&(this.addData(e.images,e.faceBox,e.landmarks,i),this.duplicatedPixelDetector.detected)?(this.duplicatedRGBError(),this.healthResult):(this.nextStage&&this.setStage(ge.AnalyzingData),this.healthResult));if(this.stage==ge.AnalyzingData){if(this.blinkDetector.blinkCount==0)return we("Error: no blink"),this.toIdleStage(),this.error=new Error("no blink"),this.healthResult;let s=this.cfg.dataSendingRate||Es;return e.images&&e.faceBox&&this.addData(e.images,e.faceBox,e.landmarks,i),this.sendData(1/s,e.userInfo,e.videoFrameInfo),this.nextStage&&this.toIdleStage(),this.healthResult}else return this.nextStage&&this.setStage(ge.Idle),this.healthResult}addData(e,n,r,i){if(e.face===void 0)return;this.firstDataTime===void 0&&(this.firstDataTime=i);let s={pixels:this.extractPixels(e),timestamp:this.frameDataTimestamp(i),facebox:n,landmarks:r};this.frameData.push(s)}extractPixels(e){var n;let r={};for(const i in this.pixelsExtractors){const s=i,l=this.pixelsExtractors[s];if(!l)continue;const o=e[s];if(!o)continue;const u=(n=this.pixelsExtractors[s])==null?void 0:n.extract(o.imageData);u&&(r[s]={type:l.dataType,pixels:u})}return r}handleError(e){we(`Error: ${e}`),this.toIdleStage(),this.error=e}sendData(e,n,r){if(this.sendingData||this.elapsedTime>=this.stageTime)return;if(this.lastSendTime===void 0){this.lastSendTime=new Date,this._sendData(n,r).catch(l=>this.handleError(l));return}let i=new Date,s=this.lastSendTime;(i.getTime()-s.getTime())/1e3<e||this._sendData(n,r).catch(l=>this.handleError(l))}async _sendData(e,n){if(this.sendingData=!0,this.frameData.length===0)throw this.sendingData=!1,new Error("no pixel data");const r=this.frameData,i=await this.healthAnalyzer.analyze(r,e,n);this.stage===ge.AnalyzingData&&(this.health=i),this.lastSendTime=new Date,this.sendingData=!1}async sendHealthReport(e,n,r,i){return this.healthAnalyzer.client.sendHealthReport(e,n,r,i)}}function nh(){return new th}var Oe=(t=>(t[t.MediaPipe=0]="MediaPipe",t[t.OpenCV=1]="OpenCV",t[t.Dummy=2]="Dummy",t[t.TFMediaPipe=3]="TFMediaPipe",t[t.FaceApi=4]="FaceApi",t[t.MPFaceMesh=5]="MPFaceMesh",t[t.MPFaceDetector=6]="MPFaceDetector",t[t.MPFaceMeshThreaded=7]="MPFaceMeshThreaded",t))(Oe||{}),rh=(t=>(t.SelfHosted="self-hosted",t.CDN="cdn",t))(rh||{}),gt=(t=>(t[t.cif352x288=0]="cif352x288",t[t.sd480x360=1]="sd480x360",t[t.hd1280x720=2]="hd1280x720",t[t.hd1920x1080=3]="hd1920x1080",t))(gt||{});function ih(t){switch(t){case 0:return{width:352,height:288};case 1:return{width:480,height:360};case 2:return{width:1280,height:720};case 3:return{width:1920,height:1080}}}class sh{constructor(e){p(this,"video"),p(this,"canvas"),this.video=e,this.canvas=document.createElement("canvas")}start(){if(!this.video.srcObject)throw new Error("Video element has no srcObject");return Promise.resolve()}stop(){return Promise.resolve()}captureFrame(e,n){const r=this.cropFrame(this.video,e),i=Promise.resolve(r.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,r.width,r.height));return{timestamp:n??performance.now(),width:r.width,height:r.height,getImageData:()=>i,getCanvas:()=>Promise.resolve(r)}}cropFrame(e,n){const r=this.canvas;return r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(e,n.x,n.y,n.width,n.height,0,0,r.width,r.height),r.getContext("2d").canvas}}var Cs={exports:{}},Ts;function ah(){return Ts||(Ts=1,(function(t){t.exports=(function(e){var n={};function r(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=n,r.d=function(i,s,l){r.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:l})},r.n=function(i){var s=i&&i.__esModule?(function(){return i.default}):(function(){return i});return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s=1)})([(function(e,n,r){var i={MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0},s={CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},l={IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},o={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1};e.exports={BROWSER_TYPES:s,DEVICE_TYPES:i,OS_TYPES:l,defaultData:o}}),(function(e,n,r){var i=r(2),s=r(0),l=s.BROWSER_TYPES,o=s.OS_TYPES,u=s.DEVICE_TYPES,f=r(4),h=f.checkType,b=f.broPayload,m=f.mobilePayload,v=f.wearPayload,x=f.consolePayload,g=f.stvPayload,k=f.getNavigatorInstance,_=f.isIOS13Check,R=new i,E=R.getBrowser(),T=R.getDevice(),B=R.getEngine(),H=R.getOS(),L=R.getUA(),X=l.CHROME,be=l.CHROMIUM,Z=l.IE,Y=l.INTERNET_EXPLORER,he=l.OPERA,ke=l.FIREFOX,Me=l.SAFARI,ce=l.EDGE,fe=l.YANDEX,ae=l.MOBILE_SAFARI,K=u.MOBILE,ne=u.TABLET,ee=u.SMART_TV,Q=u.BROWSER,G=u.WEARABLE,Pe=u.CONSOLE,de=o.ANDROID,Le=o.WINDOWS_PHONE,Ee=o.IOS,Ne=o.WINDOWS,Fe=o.MAC_OS,st=function(){return T.type===K},Xe=function(){return T.type===ne},Ot=function(){switch(T.type){case K:case ne:return!0;default:return!1}},y=function(){return H.name===o.WINDOWS&&H.version==="10"?typeof L=="string"&&L.indexOf("Edg/")!==-1:!1},S=function(){return T.type===ee},M=function(){return T.type===Q},F=function(){return T.type===G},P=function(){return T.type===Pe},I=function(){return H.name===de},$=function(){return H.name===Ne},V=function(){return H.name===Fe},U=function(){return H.name===Le},O=function(){return H.name===Ee},j=function(){return E.name===X},N=function(){return E.name===ke},z=function(){return E.name===be},q=function(){return E.name===ce},W=function(){return E.name===fe},a=function(){return E.name===Me||E.name===ae},c=function(){return E.name===ae},d=function(){return E.name===he},w=function(){return E.name===Y||E.name===Z},D=function(){var ct=k(),Cn=ct&&ct.userAgent.toLowerCase();return typeof Cn=="string"?/electron/.test(Cn):!1},C=function(){var ct=k();return ct&&(/iPad|iPhone|iPod/.test(ct.platform)||ct.platform==="MacIntel"&&ct.maxTouchPoints>1)&&!window.MSStream},A=function(){return _("iPad")},re=function(){return _("iPhone")},oe=function(){return _("iPod")},ie=function(){return E.major},ue=function(){return E.version},_e=function(){return H.version?H.version:"none"},co=function(){return H.name?H.name:"none"},uo=function(){return E.name},ho=function(){return T.vendor?T.vendor:"none"},fo=function(){return T.model?T.model:"none"},go=function(){return B.name},po=function(){return B.version},mo=function(){return L},bo=function(){return T.type},vo=S(),wo=P(),yo=F(),ko=c()||A(),xo=z(),So=Ot()||A(),_o=st(),Do=Xe()||A(),Eo=M(),Ro=I(),Co=U(),To=O()||A(),Ao=j(),Mo=N(),Io=a(),Po=d(),Fo=w(),Oo=_e(),Bo=co(),Lo=ie(),Uo=ue(),Vo=uo(),No=ho(),$o=fo(),Ho=go(),Wo=po(),jo=mo(),zo=q()||y(),Ko=W(),qo=bo(),Yo=C(),Go=A(),Qo=re(),Xo=oe(),Jo=D(),Zo=y(),el=q(),tl=$(),nl=V(),Bt=h(T.type);function rl(){var ct=Bt.isBrowser,Cn=Bt.isMobile,il=Bt.isTablet,xi=Bt.isSmartTV,Si=Bt.isConsole,_i=Bt.isWearable;if(ct)return b(ct,E,B,H,L);if(xi)return g(xi,B,H,L);if(Si)return x(Si,B,H,L);if(Cn||il)return m(Bt,T,H,L);if(_i)return v(_i,B,H,L)}e.exports={deviceDetect:rl,isSmartTV:vo,isConsole:wo,isWearable:yo,isMobileSafari:ko,isChromium:xo,isMobile:So,isMobileOnly:_o,isTablet:Do,isBrowser:Eo,isAndroid:Ro,isWinPhone:Co,isIOS:To,isChrome:Ao,isFirefox:Mo,isSafari:Io,isOpera:Po,isIE:Fo,osVersion:Oo,osName:Bo,fullBrowserVersion:Lo,browserVersion:Uo,browserName:Vo,mobileVendor:No,mobileModel:$o,engineName:Ho,engineVersion:Wo,getUA:jo,isEdge:zo,isYandex:Ko,deviceType:qo,isIOS13:Yo,isIPad13:Go,isIPhone13:Qo,isIPod13:Xo,isElectron:Jo,isEdgeChromium:Zo,isLegacyEdge:el,isWindows:tl,isMacOs:nl}}),(function(e,n,r){var i;/*!
* UAParser.js v0.7.18
* Lightweight JavaScript-based User-Agent string parser
* https://github.com/faisalman/ua-parser-js
*
* Copyright  2012-2016 Faisal Salman <fyzlman@gmail.com>
* Dual licensed under GPLv2 or MIT
*/(function(s,l){var o="0.7.18",u="",f="?",h="function",b="undefined",m="object",v="string",x="major",g="model",k="name",_="type",R="vendor",E="version",T="architecture",B="console",H="mobile",L="tablet",X="smarttv",be="wearable",Z="embedded",Y={extend:function(K,ne){var ee={};for(var Q in K)ne[Q]&&ne[Q].length%2===0?ee[Q]=ne[Q].concat(K[Q]):ee[Q]=K[Q];return ee},has:function(K,ne){return typeof K=="string"?ne.toLowerCase().indexOf(K.toLowerCase())!==-1:!1},lowerize:function(K){return K.toLowerCase()},major:function(K){return typeof K===v?K.replace(/[^\d\.]/g,"").split(".")[0]:l},trim:function(K){return K.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},he={rgx:function(K,ne){for(var ee=0,Q,G,Pe,de,Le,Ee;ee<ne.length&&!Le;){var Ne=ne[ee],Fe=ne[ee+1];for(Q=G=0;Q<Ne.length&&!Le;)if(Le=Ne[Q++].exec(K),Le)for(Pe=0;Pe<Fe.length;Pe++)Ee=Le[++G],de=Fe[Pe],typeof de===m&&de.length>0?de.length==2?typeof de[1]==h?this[de[0]]=de[1].call(this,Ee):this[de[0]]=de[1]:de.length==3?typeof de[1]===h&&!(de[1].exec&&de[1].test)?this[de[0]]=Ee?de[1].call(this,Ee,de[2]):l:this[de[0]]=Ee?Ee.replace(de[1],de[2]):l:de.length==4&&(this[de[0]]=Ee?de[3].call(this,Ee.replace(de[1],de[2])):l):this[de]=Ee||l;ee+=2}},str:function(K,ne){for(var ee in ne)if(typeof ne[ee]===m&&ne[ee].length>0){for(var Q=0;Q<ne[ee].length;Q++)if(Y.has(ne[ee][Q],K))return ee===f?l:ee}else if(Y.has(ne[ee],K))return ee===f?l:ee;return K}},ke={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},Me={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[k,E],[/(opios)[\/\s]+([\w\.]+)/i],[[k,"Opera Mini"],E],[/\s(opr)\/([\w\.]+)/i],[[k,"Opera"],E],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[k,E],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[k,"IE"],E],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[k,"Edge"],E],[/(yabrowser)\/([\w\.]+)/i],[[k,"Yandex"],E],[/(puffin)\/([\w\.]+)/i],[[k,"Puffin"],E],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[k,"UCBrowser"],E],[/(comodo_dragon)\/([\w\.]+)/i],[[k,/_/g," "],E],[/(micromessenger)\/([\w\.]+)/i],[[k,"WeChat"],E],[/(qqbrowserlite)\/([\w\.]+)/i],[k,E],[/(QQ)\/([\d\.]+)/i],[k,E],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[k,E],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[k,E],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[k,E],[/(MetaSr)[\/\s]?([\w\.]+)/i],[k],[/(LBBROWSER)/i],[k],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[E,[k,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[E,[k,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[E,[k,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[k,/(.+)/,"$1 WebView"],E],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[k,/(.+(?:g|us))(.+)/,"$1 $2"],E],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[E,[k,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[k,E],[/(dolfin)\/([\w\.]+)/i],[[k,"Dolphin"],E],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[k,"Chrome"],E],[/(coast)\/([\w\.]+)/i],[[k,"Opera Coast"],E],[/fxios\/([\w\.-]+)/i],[E,[k,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[E,[k,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[E,k],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[k,"GSA"],E],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[k,[E,he.str,ke.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[k,E],[/(navigator|netscape)\/([\w\.-]+)/i],[[k,"Netscape"],E],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[k,E]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,Y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[T,/ower/,"",Y.lowerize]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[T,Y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[g,R,[_,L]],[/applecoremedia\/[\w\.]+ \((ipad)/],[g,[R,"Apple"],[_,L]],[/(apple\s{0,1}tv)/i],[[g,"Apple TV"],[R,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[R,g,[_,L]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[g,[R,"Amazon"],[_,L]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[g,he.str,ke.device.amazon.model],[R,"Amazon"],[_,H]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[g,R,[_,H]],[/\((ip[honed|\s\w*]+);/i],[g,[R,"Apple"],[_,H]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[R,g,[_,H]],[/\(bb10;\s(\w+)/i],[g,[R,"BlackBerry"],[_,H]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[g,[R,"Asus"],[_,L]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[R,"Sony"],[g,"Xperia Tablet"],[_,L]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[g,[R,"Sony"],[_,H]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[R,g,[_,B]],[/android.+;\s(shield)\sbuild/i],[g,[R,"Nvidia"],[_,B]],[/(playstation\s[34portablevi]+)/i],[g,[R,"Sony"],[_,B]],[/(sprint\s(\w+))/i],[[R,he.str,ke.device.sprint.vendor],[g,he.str,ke.device.sprint.model],[_,H]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[R,g,[_,L]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[R,[g,/_/g," "],[_,H]],[/(nexus\s9)/i],[g,[R,"HTC"],[_,L]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[g,[R,"Huawei"],[_,H]],[/(microsoft);\s(lumia[\s\w]+)/i],[R,g,[_,H]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[g,[R,"Microsoft"],[_,B]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[R,"Microsoft"],[_,H]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[g,[R,"Motorola"],[_,H]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[g,[R,"Motorola"],[_,L]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[R,Y.trim],[g,Y.trim],[_,X]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[R,"Samsung"],[_,X]],[/\(dtv[\);].+(aquos)/i],[g,[R,"Sharp"],[_,X]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[R,"Samsung"],g,[_,L]],[/smart-tv.+(samsung)/i],[R,[_,X],g],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[R,"Samsung"],g,[_,H]],[/sie-(\w*)/i],[g,[R,"Siemens"],[_,H]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[R,"Nokia"],g,[_,H]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[g,[R,"Acer"],[_,L]],[/android.+([vl]k\-?\d{3})\s+build/i],[g,[R,"LG"],[_,L]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[R,"LG"],g,[_,L]],[/(lg) netcast\.tv/i],[R,g,[_,X]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[g,[R,"LG"],[_,H]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[g,[R,"Lenovo"],[_,L]],[/linux;.+((jolla));/i],[R,g,[_,H]],[/((pebble))app\/[\d\.]+\s/i],[R,g,[_,be]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[R,g,[_,H]],[/crkey/i],[[g,"Chromecast"],[R,"Google"]],[/android.+;\s(glass)\s\d/i],[g,[R,"Google"],[_,be]],[/android.+;\s(pixel c)\s/i],[g,[R,"Google"],[_,L]],[/android.+;\s(pixel xl|pixel)\s/i],[g,[R,"Google"],[_,H]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[g,/_/g," "],[R,"Xiaomi"],[_,H]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[g,/_/g," "],[R,"Xiaomi"],[_,L]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[g,[R,"Meizu"],[_,L]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[g,[R,"OnePlus"],[_,H]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[g,[R,"RCA"],[_,L]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[g,[R,"Dell"],[_,L]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[g,[R,"Verizon"],[_,L]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[R,"Barnes & Noble"],g,[_,L]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[g,[R,"NuVision"],[_,L]],[/android.+;\s(k88)\sbuild/i],[g,[R,"ZTE"],[_,L]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[g,[R,"Swiss"],[_,H]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[g,[R,"Swiss"],[_,L]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[g,[R,"Zeki"],[_,L]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[R,"Dragon Touch"],g,[_,L]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[g,[R,"Insignia"],[_,L]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[g,[R,"NextBook"],[_,L]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[R,"Voice"],g,[_,H]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[R,"LvTel"],g,[_,H]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[g,[R,"Envizen"],[_,L]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[R,g,[_,L]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[g,[R,"MachSpeed"],[_,L]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[R,g,[_,L]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[g,[R,"Rotor"],[_,L]],[/android.+(KS(.+))\s+build/i],[g,[R,"Amazon"],[_,L]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[R,g,[_,L]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[_,Y.lowerize],R,g],[/(android[\w\.\s\-]{0,9});.+build/i],[g,[R,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[E,[k,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[k,E],[/rv\:([\w\.]{1,9}).+(gecko)/i],[E,k]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[k,E],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[k,[E,he.str,ke.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[k,"Windows"],[E,he.str,ke.os.windows.version]],[/\((bb)(10);/i],[[k,"BlackBerry"],E],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[k,E],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[k,"Symbian"],E],[/\((series40);/i],[k],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[k,"Firefox OS"],E],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[k,E],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[k,"Chromium OS"],E],[/(sunos)\s?([\w\.\d]*)/i],[[k,"Solaris"],E],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[k,E],[/(haiku)\s(\w+)/i],[k,E],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[E,/_/g,"."],[k,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[k,"Mac OS"],[E,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[k,E]]},ce=function(K,ne){if(typeof K=="object"&&(ne=K,K=l),!(this instanceof ce))return new ce(K,ne).getResult();var ee=K||(s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:u),Q=ne?Y.extend(Me,ne):Me;return this.getBrowser=function(){var G={name:l,version:l};return he.rgx.call(G,ee,Q.browser),G.major=Y.major(G.version),G},this.getCPU=function(){var G={architecture:l};return he.rgx.call(G,ee,Q.cpu),G},this.getDevice=function(){var G={vendor:l,model:l,type:l};return he.rgx.call(G,ee,Q.device),G},this.getEngine=function(){var G={name:l,version:l};return he.rgx.call(G,ee,Q.engine),G},this.getOS=function(){var G={name:l,version:l};return he.rgx.call(G,ee,Q.os),G},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ee},this.setUA=function(G){return ee=G,this},this};ce.VERSION=o,ce.BROWSER={NAME:k,MAJOR:x,VERSION:E},ce.CPU={ARCHITECTURE:T},ce.DEVICE={MODEL:g,VENDOR:R,TYPE:_,CONSOLE:B,MOBILE:H,SMARTTV:X,TABLET:L,WEARABLE:be,EMBEDDED:Z},ce.ENGINE={NAME:k,VERSION:E},ce.OS={NAME:k,VERSION:E},typeof n!==b?(typeof e!==b&&e.exports&&(n=e.exports=ce),n.UAParser=ce):r(3)?(i=(function(){return ce}).call(n,r,n,e),i!==l&&(e.exports=i)):s&&(s.UAParser=ce);var fe=s&&(s.jQuery||s.Zepto);if(typeof fe!==b){var ae=new ce;fe.ua=ae.getResult(),fe.ua.get=function(){return ae.getUA()},fe.ua.set=function(K){ae.setUA(K);var ne=ae.getResult();for(var ee in ne)fe.ua[ee]=ne[ee]}}})(typeof window=="object"?window:this)}),(function(e,n){(function(r){e.exports=r}).call(n,{})}),(function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(k){for(var _=1;_<arguments.length;_++){var R=arguments[_];for(var E in R)Object.prototype.hasOwnProperty.call(R,E)&&(k[E]=R[E])}return k},s=r(0),l=s.DEVICE_TYPES,o=s.defaultData,u=function(k){switch(k){case l.MOBILE:return{isMobile:!0};case l.TABLET:return{isTablet:!0};case l.SMART_TV:return{isSmartTV:!0};case l.CONSOLE:return{isConsole:!0};case l.WEARABLE:return{isWearable:!0};case l.BROWSER:return{isBrowser:!0};default:return o}},f=function(k,_,R,E,T){return{isBrowser:k,browserMajorVersion:_.major,browserFullVersion:_.version,browserName:_.name,engineName:R.name||!1,engineVersion:R.version,osName:E.name,osVersion:E.version,userAgent:T}},h=function(k,_,R,E){return i({},k,{vendor:_.vendor,model:_.model,os:R.name,osVersion:R.version,ua:E})},b=function(k,_,R,E){return{isSmartTV:k,engineName:_.name,engineVersion:_.version,osName:R.name,osVersion:R.version,userAgent:E}},m=function(k,_,R,E){return{isConsole:k,engineName:_.name,engineVersion:_.version,osName:R.name,osVersion:R.version,userAgent:E}},v=function(k,_,R,E){return{isWearable:k,engineName:_.name,engineVersion:_.version,osName:R.name,osVersion:R.version,userAgent:E}},x=n.getNavigatorInstance=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},g=n.isIOS13Check=function(k){var _=x();return _&&_.platform&&(_.platform.indexOf(k)!==-1||_.platform==="MacIntel"&&_.maxTouchPoints>1&&!window.MSStream)};e.exports={checkType:u,broPayload:f,mobilePayload:h,stvPayload:b,consolePayload:m,wearPayload:v,getNavigatorInstance:x,isIOS13Check:g}})])})(Cs)),Cs.exports}var Ce=ah();const oh=su(Ce);function lh(t){return new sh(t)}class ch{constructor(e,n){p(this,"video"),p(this,"onFrame"),p(this,"croppingRegion"),p(this,"width",1920),p(this,"height",1080),p(this,"_deviceId"),p(this,"callback"),p(this,"callbackFrameRate",30),p(this,"animationId"),p(this,"handleIOS17Bug",!0),p(this,"handleIOS17ObjectFitBug",!0),p(this,"preferredCamera"),p(this,"objectFit","cover"),p(this,"lastFrameTime"),p(this,"videoFrameCapturer"),this.video=e,this.onFrame=n.onFrame,n.width&&(this.width=n.width),n.height&&(this.height=n.height),n.croppingRegion&&(this.croppingRegion=n.croppingRegion),n.deviceId&&(this._deviceId=n.deviceId),n.callbackFrameRate&&(this.callbackFrameRate=n.callbackFrameRate),n.handleIOS17Bug!==void 0&&(this.handleIOS17Bug=n.handleIOS17Bug),n.preferredCamera!==void 0&&(this.preferredCamera=n.preferredCamera),this.handleIOS17Bug&&this.preferredCamera==null&&(this.preferredCamera="Front Camera"),n.handleIOS17ObjectFitBug!==void 0&&(this.handleIOS17ObjectFitBug=n.handleIOS17ObjectFitBug),getComputedStyle(this.video).objectFit!=="cover"&&(console.warn("[Camera] Forcing the object-fit to 'cover'."),this.video.style.setProperty("object-fit",this.objectFit,"important")),this.callback=r=>{if(this.animationId=requestAnimationFrame(this.callback),this.callbackFrameRate>0&&this.lastFrameTime!==void 0&&r-this.lastFrameTime<1e3/(this.callbackFrameRate*1.1)||(this.lastFrameTime=r,!this.video.srcObject||!this.videoFrameCapturer||!this.video.videoWidth||!this.video.videoHeight||!this.onFrame))return;const i=this.croppingRegion??{x:0,y:0,width:this.video.videoWidth,height:this.video.videoHeight},s=this.videoFrameCapturer.captureFrame(i,r);this.onFrame(s)}}set deviceId(e){this._deviceId!==e&&(this._deviceId=e,console.log(`[Camera] setting device id: ${this._deviceId}`),this.initInputDevice())}async initInputDevice(){var e={ideal:"user"};(this.deviceId||this.preferredCamera)&&(e=void 0);const n=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:this.width},height:{ideal:this.height},frameRate:{ideal:60},deviceId:this.deviceId,facingMode:e}});if(this.video.srcObject=n,console.log("[Camera] Assigned video source."),n.getVideoTracks().length>0&&n.getVideoTracks()[0].getSettings().deviceId){const[r]=n.getVideoTracks(),i=r.getSettings();if(console.log("[Camera] Device settings: ",i),this._deviceId=i.deviceId,i.frameRate!==void 0){const s=i.frameRate;this.callbackFrameRate=Math.min(s,this.callbackFrameRate??s),console.log(`[Camera] Callback frame rate set to ${this.callbackFrameRate} fps`)}}}get deviceId(){return this._deviceId}async start(){if(this.handleIOS17Bug&&(console.log("[Camera] Handling iOS 17 bug..."),this.video.style.opacity="0"),this.handleIOS17ObjectFitBug){console.log("[Camera] Handling iOS 17.2 object-fit bug...");const n=getComputedStyle(this.video).objectFit;n&&n!==""&&(this.video.style.objectFit="none")}const e=!this.deviceId||this.deviceId==="";await this.initInputDevice(),this.preferredCamera&&e&&await this.selectPreferredCamera(),this.handleIOS17Bug&&setTimeout(()=>{console.log("[Camera] iOS 17 bug handled"),this.video.style.opacity="1"},1500),this.handleIOS17ObjectFitBug&&setTimeout(()=>{console.log("[Camera] iOS 17.2 object-fit bug handled"),this.video.style.objectFit=this.objectFit},500),this.video.onplaying=async()=>{this.videoFrameCapturer=lh(this.video),await this.videoFrameCapturer.start(),this.callback(performance.now())}}async selectPreferredCamera(e=10){const n=async()=>{console.log("[Camera] Enumerating devices...");let s=await navigator.mediaDevices.enumerateDevices();return console.log(`[Camera] ${s.length} devices found`),s=s.filter(l=>l.kind==="videoinput"),console.log(`[Camera] ${s.length} camera devices found`),this.preferredCamera&&(s=s.filter(l=>l.label===this.preferredCamera),console.log(`[Camera] ${s.length} preferred devices found`)),s.length>0?(this.deviceId=s[0].deviceId,!0):!1};let r=0,i=!1;do{try{console.log(`[Camera] Trying to set preferred camera "${this.preferredCamera}"...`);const s=new Promise(l=>setTimeout(l,e*1e3)).then(()=>!1);i=await Promise.race([n(),s])}catch(s){i=!1,console.log(s)}if(i){console.log(`[Camera] Successfully selected preferred camera "${this.preferredCamera}"`);break}console.log(`[Camera] No camera found. Retry after ${500/1e3} second.`),await new Promise(s=>setTimeout(s,500)),r+=500}while(!i&&r<e*1e3)}async stop(){return this.videoFrameCapturer&&(await this.videoFrameCapturer.stop(),this.videoFrameCapturer=void 0),this.video&&this.video.srcObject&&(this.video.srcObject.getVideoTracks().forEach(e=>{e.enabled=!1,e.stop()}),this.video.srcObject=null),this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=void 0),this.waitUntilStopped().then(()=>{})}async waitUntilStopped(e){return new Promise(n=>{let r=0,i=100;const s=setInterval(()=>{r+=i;try{this.video.srcObject.getVideoTracks(),e&&r>=e&&(clearInterval(s),n(!1))}catch{clearInterval(s),n(!0)}},i)})}}class As{constructor(e){p(this,"name","noname"),p(this,"frameCount",0),p(this,"start"),p(this,"resetInterval",10),p(this,"frameTimes",[]),p(this,"lastFrameTime",0),this.name=e}reset(){this.frameCount=0,this.start=new Date}tick(){const e=Date.now();if((this.start===void 0||this.elapsed>this.resetInterval)&&(this.log(!1),this.reset()),this.lastFrameTime>0){const n=(e-this.lastFrameTime)/1e3;this.frameTimes.push(n),this.frameTimes.length>60&&this.frameTimes.shift()}this.lastFrameTime=e,this.frameCount=this.frameCount+1}get elapsed(){return this.start===void 0?0:(new Date().getTime()-this.start.getTime())/1e3}get average(){return this.frameTimes.length===0?0:1/(this.frameTimes.reduce((e,n)=>e+n)/this.frameTimes.length)}get current(){return this.average.toFixed(2)}log(e=!1){e&&console.log(`[FPS ${this.name}] ${this.current}fps`)}}function dh(t){let e=document.createElement("canvas");return e.width=t.videoWidth,e.height=t.videoHeight,e.getContext("2d").drawImage(t,0,0),e}function uh(t){if(t instanceof HTMLCanvasElement)return t;let e=document.createElement("canvas");return e.width=t.width,e.height=t.width,e.getContext("2d").drawImage(t,0,0),e}function Ms(t){let e;return t.image instanceof HTMLVideoElement?e=dh(t.image):t.image instanceof HTMLImageElement?e=uh(t.image):e=t.image,e}async function qf(){const t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACWCAYAAABkW7XSAAAEYklEQVR4Xu3UAQkAAAwCwdm/9HI83BLIOdw5AgQIRAQWySkmAQIEzmB5AgIEMgIGK1OVoAQIGCw/QIBARsBgZaoSlAABg+UHCBDICBisTFWCEiBgsPwAAQIZAYOVqUpQAgQMlh8gQCAjYLAyVQlKgIDB8gMECGQEDFamKkEJEDBYfoAAgYyAwcpUJSgBAgbLDxAgkBEwWJmqBCVAwGD5AQIEMgIGK1OVoAQIGCw/QIBARsBgZaoSlAABg+UHCBDICBisTFWCEiBgsPwAAQIZAYOVqUpQAgQMlh8gQCAjYLAyVQlKgIDB8gMECGQEDFamKkEJEDBYfoAAgYyAwcpUJSgBAgbLDxAgkBEwWJmqBCVAwGD5AQIEMgIGK1OVoAQIGCw";return new Promise(e=>{const n=document.createElement("img");n.src=t,n.onload=()=>e(n)})}async function Yf(){const t=new ImageData(1,1);return t.data[0]=255,t.data[1]=255,t.data[2]=255,t.data[3]=255,t}async function hh(t){return new Promise(e=>setTimeout(e,t))}function Gf(t){let e=1,n=1,r=0,i=0;return t.forEach(s=>{e=Math.min(s.x,e),n=Math.min(s.y,n),r=Math.max(s.x,r),i=Math.max(s.y,i)}),{xCenter:e+(r-e)/2,yCenter:n+(i-n)/2,width:r-e,height:i-n}}const Hn=class Rt{constructor(e){p(this,"createDetector"),p(this,"maxFps",30),this.createDetector=e}async getFaceDetector(){return Rt.faceDetector==null&&(Rt.faceDetector=this.createDetector()),Rt.faceDetector}get lastSendTime(){return Rt.lastSendTime}set lastSendTime(e){Rt.lastSendTime=e}get modelState(){return Rt.modelState}set modelState(e){Rt.modelState=e}async loadModels(e){if(this.modelState!=="loaded"){if(this.modelState===void 0){this.modelState="loading";try{await(await this.getFaceDetector()).loadModels(e)}catch(n){throw this.modelState=void 0,n}console.log("[FaceDetectorProxy] model loaded."),this.modelState="loaded";return}do await hh(500);while(this.modelState!=="loading")}}timeout(e){return new Promise((n,r)=>setTimeout(r,e))}async detect(e){if(this.modelState!=="loaded"){console.log("[FaceDetectorProxy] model not ready");const s=Ms(e);return{faceBox:void 0,landmarks:[],videoFrame:s}}const n=1e3/this.maxFps,r=new Date;if(this.lastSendTime===void 0||r.getTime()-this.lastSendTime.getTime()>n)return this.lastSendTime=r,Promise.race([this.timeout(1e3),(await this.getFaceDetector()).detect(e)]);const i=Ms(e);return{faceBox:void 0,landmarks:[],videoFrame:i}}};p(Hn,"faceDetector"),p(Hn,"modelState"),p(Hn,"lastSendTime");let zt=Hn;function Is(t){var e;if(t.startsWith("http")||t.startsWith("./")||t.startsWith("../"))return t;if(t.startsWith("/")){let n="/";if(document.querySelector("base"))n=((e=document.querySelector("base"))==null?void 0:e.getAttribute("href"))||"/";else{const{pathname:s}=window.location;if(s!=="/"){const l=s.split("/").filter(Boolean);if(l.length>0){const o=l[0];o.includes(".")||(n=`/${o}/`)}}}const r=n.replace(/\/$/,""),i=t.substring(1);return`${r}/${i}`}return t}async function ur(t="/assets/facemesh.umd.cjs"){return new Promise((e,n)=>{if(typeof FaceMeshUMD<"u"){e(FaceMeshUMD);return}if(document.querySelector(`script[src="${Is(t)}"]`)){e(FaceMeshUMD);return}const r=document.createElement("script");r.src=Is(t),document.head.appendChild(r),r.addEventListener("load",()=>{console.log("[VitalSignCamera] Imported FaceMeshUMD"),e(FaceMeshUMD)}),r.addEventListener("error",i=>{console.error("[VitalSignCamera] Failed to import FaceMeshUMD",i),n(i)})})}async function Ps(t){switch(console.log(`[VitalSignCamera] Creating face detector of type ${t}...`),t){case Oe.MediaPipe:const{MediaPipeFaceDetector:e}=await wt(async()=>{const{MediaPipeFaceDetector:f}=await import("./t5UNR85y-ZeH6F5vy.js");return{MediaPipeFaceDetector:f}},[]);return new zt(()=>new e);case Oe.OpenCV:const{OpenCVFaceDetector:n}=await wt(async()=>{const{OpenCVFaceDetector:f}=await import("./DKch3HYB-CAN4enmq.js");return{OpenCVFaceDetector:f}},__vite__mapDeps([0,1]));return new zt(()=>new n);case Oe.Dummy:const{DummyFaceDetector:r}=await wt(async()=>{const{DummyFaceDetector:f}=await import("./BVaHFPcY-CwWJ-tKG.js");return{DummyFaceDetector:f}},[]);return new r;case Oe.TFMediaPipe:const{TFMediaPipeFaceDetector:i}=await wt(async()=>{const{TFMediaPipeFaceDetector:f}=await import("./CVMJQjtX-CYc4f2vt.js");return{TFMediaPipeFaceDetector:f}},__vite__mapDeps([2,1]));return new zt(()=>new i);case Oe.FaceApi:const{FaceApiFaceDetector:s}=await wt(async()=>{const{FaceApiFaceDetector:f}=await import("./G_LwrtXm-C9YWpYRB.js");return{FaceApiFaceDetector:f}},__vite__mapDeps([3,4]));return new s;case Oe.MPFaceMesh:const{MPVisionFaceMeshDetector:l}=await wt(async()=>{const{MPVisionFaceMeshDetector:f}=await import("./BhjoMu7V-Cz5RQiZL.js");return{MPVisionFaceMeshDetector:f}},__vite__mapDeps([5,6]));return new zt(()=>new l);case Oe.MPFaceDetector:const{MPVisionFaceDetector:o}=await wt(async()=>{const{MPVisionFaceDetector:f}=await import("./nrhZwBbR-aRSxZMYx.js");return{MPVisionFaceDetector:f}},__vite__mapDeps([7,6]));return new zt(()=>new o);case Oe.MPFaceMeshThreaded:const{MPVisionFaceMeshDetectorThread:u}=await ur();return new zt(()=>new u)}}function fh(t){var e;const n=(e=t.srcObject)==null?void 0:e.getVideoTracks()[0];if(n.getCapabilities!==void 0){const r=n.getCapabilities().facingMode;return r&&r[0]}else return n.getSettings().facingMode}function gh(t){const e=fh(t);return e&&e==="environment"?"none":"scaleX(-1)"}function io(t){const{image:e,facebox:n}=t;let r=n.width*e.width,i=n.height*e.height,s=(n.xCenter-n.width/2)*e.width,l=(n.yCenter-n.height/2)*e.height;i=i*.7;const o=new OffscreenCanvas(e.width,e.height),u=o.getContext("2d");u==null||u.putImageData(e,0,0);const f=new OffscreenCanvas(r,i),h=f.getContext("2d");h.drawImage(o,s,l,r,i,0,0,r,i);let b=h.getImageData(0,0,f.width,f.height).data,m=0,v=0;for(let x=0;x<b.length;x+=4)m+=Math.max(b[x],b[x+1],b[x+2]),v++;return m/v}self.onmessage=t=>{const{inputData:e,hash:n}=t.data,r=io(e);self.postMessage({result:r,hash:n})};const ph=90,mh=[.3,.9],bh=[.4,.6],vh=[.3,.7],Fs=.1,wh=30,yh=Ce.isMobile&&!Ce.isTablet,kh=10,Os=yh||Ce.isAndroid?kh:15;function Kt(t){return Array.isArray(t)?t:[t.min,t.max]}class xh{constructor(e,n){p(this,"MOVEMENT_ARRAY",[]),p(this,"_conditions"),p(this,"vitalSignEngine"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/DaF7aLs5-Blck71Yz.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,io,"CheckBrightness")),p(this,"minimumFrameRate",Os),p(this,"minimumBrightness",ph),p(this,"validXRange",bh),p(this,"validYRange",vh),p(this,"validDistanceRange",mh),this.vitalSignEngine=e,(n==null?void 0:n.boundaryRangeX)!==void 0&&(this.validXRange=Kt(n.boundaryRangeX)),(n==null?void 0:n.boundaryRangeY)!==void 0&&(this.validYRange=Kt(n.boundaryRangeY)),(n==null?void 0:n.distanceRange)!==void 0&&(this.validDistanceRange=Kt(n.distanceRange))}configure(e){(e==null?void 0:e.minimumFrameRate)!==void 0&&(this.minimumFrameRate=e.minimumFrameRate),(e==null?void 0:e.validDistanceRange)!==void 0&&(this.validDistanceRange=Kt(e.validDistanceRange)),(e==null?void 0:e.validXRange)!==void 0&&(this.validXRange=Kt(e.validXRange)),(e==null?void 0:e.validYRange)!==void 0&&(this.validYRange=Kt(e.validYRange))}get conditions(){return this._conditions}resetMovementArray(){this.MOVEMENT_ARRAY=[]}reset(){this.resetMovementArray(),this._conditions=void 0}async getBrightness(e,n){var r;const i=(r=e.getContext("2d",{willReadFrequently:!0}))==null?void 0:r.getImageData(0,0,e.width,e.height);return i?await this.workerPool.callWorker({image:i,facebox:n}):0}checkDistance(e){let n=this.validDistanceRange;return e.height>n[1]?At.TooClose:e.height<n[0]?At.TooFar:At.OK}checkFacePosition(e){if(e===void 0)return et.Unknown;let n=this.validXRange,r=this.validYRange,i=et.Centered;return e.yCenter<r[0]&&(i=et.TooHigh),e.yCenter>r[1]&&(i=et.TooLow),e.xCenter<n[0]&&(i=et.TooRight),e.xCenter>n[1]&&(i=et.TooLeft),i}async checkCondition(e,n,r){let i=!0;if(e!==void 0){let h=n?await this.getBrightness(e,n):0;i=this.minimumBrightness<=h}const s=n?this.checkDistance(n):At.TooFar,l=this.checkFacePosition(n);let o=!1;if(this.MOVEMENT_ARRAY.length>=wh){this.MOVEMENT_ARRAY.shift();let h=0,b=0,m=1,v=1;for(let k=0;k<this.MOVEMENT_ARRAY.length;k++)h=this.MOVEMENT_ARRAY[k][0]>h?this.MOVEMENT_ARRAY[k][0]:h,b=this.MOVEMENT_ARRAY[k][1]>b?this.MOVEMENT_ARRAY[k][1]:b,m=this.MOVEMENT_ARRAY[k][0]<m?this.MOVEMENT_ARRAY[k][0]:m,v=this.MOVEMENT_ARRAY[k][1]<v?this.MOVEMENT_ARRAY[k][1]:v;const x=h.valueOf()-m.valueOf(),g=b.valueOf()-v.valueOf();o=x<=Fs&&g<=Fs}n&&this.MOVEMENT_ARRAY.push([n.xCenter,n.yCenter]);let u=await this.vitalSignEngine.isReady();const f=r>=this.minimumFrameRate;return{lighting:i,distance:s===At.OK,centered:l===et.Centered,movement:o,serverReady:u,frameRate:f,distanceCondition:s,facePositionCondition:l,fps:r}}async processFrame(e,n,r,i,s){s==="measuring"&&(i=Math.max(Os,i)),this._conditions=await this.checkCondition(r?e:void 0,n,i)}}function Sh(t,e,n){const r=new xh(t,n||void 0);return r.configure(e),r}async function _h(){try{let t=await navigator.mediaDevices.enumerateDevices();return t=t.filter(e=>e.kind==="videoinput"),t.map((e,n)=>({label:e.label,id:e.deviceId,deviceIndex:n}))}catch{return[]}}function Dh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].id!==e[n].id||t[n].label!==e[n].label)return!1;return!0}class Eh{constructor(e,n){p(this,"camera"),p(this,"devices",[]),p(this,"timer"),p(this,"selectedDevice"),p(this,"onChanged"),this.camera=e,this.onChanged=n}start(){this.timer===void 0&&(this.timer=setInterval(async()=>{const e=await _h();(!Dh(e,this.devices)||this.camera.device!==this.selectedDevice)&&(this.devices=e,this.selectedDevice=this.camera.device,this.onChanged&&this.onChanged(this.devices))},1e3))}}async function Rh(t){const{DefaultAgeEstimator:e}=await wt(async()=>{const{DefaultAgeEstimator:n}=await import("./CZ9DDwO9-BDQ7dftY.js");return{DefaultAgeEstimator:n}},__vite__mapDeps([8,4]));return new Promise(n=>{const r=new e(t,()=>{n(r)})})}function Ch(t){let e=document.createElement("div"),n=document.createElement("div");return e.appendChild(n),t.after(e),e.style.pointerEvents="none",e}function Th(t,e,n){const r=e.clientWidth/e.clientHeight,i=n.videoWidth/n.videoHeight;let s,l;i>r?(s=e.clientHeight,l=s*i):(l=e.clientWidth,s=l/i);const o=(s-e.clientHeight)/2,u=(l-e.clientWidth)/2;return{left:(t.xCenter-t.width/2)*l-u,top:(t.yCenter-t.height/2)*s-o,width:t.width*l,height:t.height*s}}class Bs{constructor(e,n){p(this,"boundingBox"),p(this,"video"),p(this,"color"),this.video=e,this.color=(n==null?void 0:n.color)||"red",this.enabled=!0}set enabled(e){var n;e&&!this.boundingBox&&(this.boundingBox=Ch(this.video)),!e&&this.boundingBox&&((n=this.boundingBox.parentElement)==null||n.removeChild(this.boundingBox),this.boundingBox=void 0)}updateOptions(e){e.color&&e.color!==this.color&&(this.color=e.color)}update(e){if(!this.boundingBox)return;this.boundingBox.style.position="fixed";const{x:n,y:r,width:i,height:s}=this.video.getBoundingClientRect();this.boundingBox.style.left=`${n}px`,this.boundingBox.style.top=`${r}px`,this.boundingBox.style.width=`${i}px`,this.boundingBox.style.height=`${s}px`,this.boundingBox.style.transform=`${this.video.style.transform}`,this.boundingBox.style.overflow="clip";const l=this.boundingBox.children[0];if(e===void 0){l.style.setProperty("display","none");return}const o=Th(e,this.video,this.video);l.style.display="block",l.style.position="relative",l.style.left=`${o.left}px`,l.style.top=`${o.top}px`,l.style.width=`${o.width}px`,l.style.height=`${o.height}px`,l.style.borderStyle="solid",l.style.borderColor=this.color||"red"}}const Ah=".face-mesh-canvas{animation:opacity ease-in-out 8s infinite;animation-delay:-1.5s}@keyframes opacity{0%{mask:linear-gradient(transparent 0%,rgb(0,0,0),transparent 10%);-webkit-mask:linear-gradient(transparent 0%,rgb(0,0,0),transparent 10%)}1%{mask:linear-gradient(transparent 1%,rgb(0,0,0),transparent 11%);-webkit-mask:linear-gradient(transparent 1%,rgb(0,0,0),transparent 11%)}1.5%{mask:linear-gradient(transparent 2%,rgb(0,0,0),transparent 12%);-webkit-mask:linear-gradient(transparent 2%,rgb(0,0,0),transparent 12%)}2%{mask:linear-gradient(transparent 3%,rgb(0,0,0),transparent 13%);-webkit-mask:linear-gradient(transparent 3%,rgb(0,0,0),transparent 13%)}2.5%{mask:linear-gradient(transparent 4%,rgb(0,0,0),transparent 14%);-webkit-mask:linear-gradient(transparent 4%,rgb(0,0,0),transparent 14%)}3%{mask:linear-gradient(transparent 5%,rgb(0,0,0),transparent 15%);-webkit-mask:linear-gradient(transparent 5%,rgb(0,0,0),transparent 15%)}3.5%{mask:linear-gradient(transparent 6%,rgb(0,0,0),transparent 16%);-webkit-mask:linear-gradient(transparent 6%,rgb(0,0,0),transparent 16%)}4%{mask:linear-gradient(transparent 7%,rgb(0,0,0),transparent 17%);-webkit-mask:linear-gradient(transparent 7%,rgb(0,0,0),transparent 17%)}4.5%{mask:linear-gradient(transparent 8%,rgb(0,0,0),transparent 18%);-webkit-mask:linear-gradient(transparent 8%,rgb(0,0,0),transparent 18%)}5%{mask:linear-gradient(transparent 9%,rgb(0,0,0),transparent 19%);-webkit-mask:linear-gradient(transparent 9%,rgb(0,0,0),transparent 19%)}5.5%{mask:linear-gradient(transparent 10%,rgb(0,0,0),transparent 20%);-webkit-mask:linear-gradient(transparent 10%,rgb(0,0,0),transparent 20%)}6%{mask:linear-gradient(transparent 11%,rgb(0,0,0),transparent 21%);-webkit-mask:linear-gradient(transparent 11%,rgb(0,0,0),transparent 21%)}6.5%{mask:linear-gradient(transparent 12%,rgb(0,0,0),transparent 22%);-webkit-mask:linear-gradient(transparent 12%,rgb(0,0,0),transparent 22%)}7%{mask:linear-gradient(transparent 13%,rgb(0,0,0),transparent 23%);-webkit-mask:linear-gradient(transparent 13%,rgb(0,0,0),transparent 23%)}7.5%{mask:linear-gradient(transparent 14%,rgb(0,0,0),transparent 24%);-webkit-mask:linear-gradient(transparent 14%,rgb(0,0,0),transparent 24%)}8%{mask:linear-gradient(transparent 15%,rgb(0,0,0),transparent 25%);-webkit-mask:linear-gradient(transparent 15%,rgb(0,0,0),transparent 25%)}8.5%{mask:linear-gradient(transparent 16%,rgb(0,0,0),transparent 26%);-webkit-mask:linear-gradient(transparent 16%,rgb(0,0,0),transparent 26%)}9%{mask:linear-gradient(transparent 17%,rgb(0,0,0),transparent 27%);-webkit-mask:linear-gradient(transparent 17%,rgb(0,0,0),transparent 27%)}9.5%{mask:linear-gradient(transparent 18%,rgb(0,0,0),transparent 28%);-webkit-mask:linear-gradient(transparent 18%,rgb(0,0,0),transparent 28%)}10%{mask:linear-gradient(transparent 19%,rgb(0,0,0),transparent 29%);-webkit-mask:linear-gradient(transparent 19%,rgb(0,0,0),transparent 29%)}11%{mask:linear-gradient(transparent 20%,rgb(0,0,0),transparent 30%);-webkit-mask:linear-gradient(transparent 20%,rgb(0,0,0),transparent 30%)}11.5%{mask:linear-gradient(transparent 21%,rgb(0,0,0),transparent 31%);-webkit-mask:linear-gradient(transparent 21%,rgb(0,0,0),transparent 31%)}12%{mask:linear-gradient(transparent 22%,rgb(0,0,0),transparent 32%);-webkit-mask:linear-gradient(transparent 22%,rgb(0,0,0),transparent 32%)}12.5%{mask:linear-gradient(transparent 23%,rgb(0,0,0),transparent 33%);-webkit-mask:linear-gradient(transparent 23%,rgb(0,0,0),transparent 33%)}13%{mask:linear-gradient(transparent 24%,rgb(0,0,0),transparent 34%);-webkit-mask:linear-gradient(transparent 24%,rgb(0,0,0),transparent 34%)}13.5%{mask:linear-gradient(transparent 25%,rgb(0,0,0),transparent 35%);-webkit-mask:linear-gradient(transparent 25%,rgb(0,0,0),transparent 35%)}14%{mask:linear-gradient(transparent 26%,rgb(0,0,0),transparent 36%);-webkit-mask:linear-gradient(transparent 26%,rgb(0,0,0),transparent 36%)}14.5%{mask:linear-gradient(transparent 27%,rgb(0,0,0),transparent 37%);-webkit-mask:linear-gradient(transparent 27%,rgb(0,0,0),transparent 37%)}15%{mask:linear-gradient(transparent 28%,rgb(0,0,0),transparent 38%);-webkit-mask:linear-gradient(transparent 28%,rgb(0,0,0),transparent 38%)}15.5%{mask:linear-gradient(transparent 29%,rgb(0,0,0),transparent 39%);-webkit-mask:linear-gradient(transparent 29%,rgb(0,0,0),transparent 39%)}16%{mask:linear-gradient(transparent 30%,rgb(0,0,0),transparent 40%);-webkit-mask:linear-gradient(transparent 30%,rgb(0,0,0),transparent 40%)}16.5%{mask:linear-gradient(transparent 31%,rgb(0,0,0),transparent 41%);-webkit-mask:linear-gradient(transparent 31%,rgb(0,0,0),transparent 41%)}17%{mask:linear-gradient(transparent 32%,rgb(0,0,0),transparent 42%);-webkit-mask:linear-gradient(transparent 32%,rgb(0,0,0),transparent 42%)}17.5%{mask:linear-gradient(transparent 33%,rgb(0,0,0),transparent 43%);-webkit-mask:linear-gradient(transparent 33%,rgb(0,0,0),transparent 43%)}18%{mask:linear-gradient(transparent 34%,rgb(0,0,0),transparent 44%);-webkit-mask:linear-gradient(transparent 34%,rgb(0,0,0),transparent 44%)}18.5%{mask:linear-gradient(transparent 35%,rgb(0,0,0),transparent 45%);-webkit-mask:linear-gradient(transparent 35%,rgb(0,0,0),transparent 45%)}19%{mask:linear-gradient(transparent 36%,rgb(0,0,0),transparent 46%);-webkit-mask:linear-gradient(transparent 36%,rgb(0,0,0),transparent 46%)}19.5%{mask:linear-gradient(transparent 37%,rgb(0,0,0),transparent 47%);-webkit-mask:linear-gradient(transparent 37%,rgb(0,0,0),transparent 47%)}20%{mask:linear-gradient(transparent 38%,rgb(0,0,0),transparent 48%);-webkit-mask:linear-gradient(transparent 38%,rgb(0,0,0),transparent 48%)}21%{mask:linear-gradient(transparent 39%,rgb(0,0,0),transparent 49%);-webkit-mask:linear-gradient(transparent 39%,rgb(0,0,0),transparent 49%)}21.5%{mask:linear-gradient(transparent 40%,rgb(0,0,0),transparent 50%);-webkit-mask:linear-gradient(transparent 40%,rgb(0,0,0),transparent 50%)}22%{mask:linear-gradient(transparent 41%,rgb(0,0,0),transparent 51%);-webkit-mask:linear-gradient(transparent 41%,rgb(0,0,0),transparent 51%)}22.5%{mask:linear-gradient(transparent 42%,rgb(0,0,0),transparent 52%);-webkit-mask:linear-gradient(transparent 42%,rgb(0,0,0),transparent 52%)}23%{mask:linear-gradient(transparent 43%,rgb(0,0,0),transparent 53%);-webkit-mask:linear-gradient(transparent 43%,rgb(0,0,0),transparent 53%)}23.5%{mask:linear-gradient(transparent 44%,rgb(0,0,0),transparent 54%);-webkit-mask:linear-gradient(transparent 44%,rgb(0,0,0),transparent 54%)}24%{mask:linear-gradient(transparent 45%,rgb(0,0,0),transparent 55%);-webkit-mask:linear-gradient(transparent 45%,rgb(0,0,0),transparent 55%)}24.5%{mask:linear-gradient(transparent 46%,rgb(0,0,0),transparent 56%);-webkit-mask:linear-gradient(transparent 46%,rgb(0,0,0),transparent 56%)}25%{mask:linear-gradient(transparent 47%,rgb(0,0,0),transparent 57%);-webkit-mask:linear-gradient(transparent 47%,rgb(0,0,0),transparent 57%)}25.5%{mask:linear-gradient(transparent 48%,rgb(0,0,0),transparent 58%);-webkit-mask:linear-gradient(transparent 48%,rgb(0,0,0),transparent 58%)}26%{mask:linear-gradient(transparent 49%,rgb(0,0,0),transparent 59%);-webkit-mask:linear-gradient(transparent 49%,rgb(0,0,0),transparent 59%)}26.5%{mask:linear-gradient(transparent 50%,rgb(0,0,0),transparent 60%);-webkit-mask:linear-gradient(transparent 50%,rgb(0,0,0),transparent 60%)}27%{mask:linear-gradient(transparent 51%,rgb(0,0,0),transparent 61%);-webkit-mask:linear-gradient(transparent 51%,rgb(0,0,0),transparent 61%)}27.5%{mask:linear-gradient(transparent 52%,rgb(0,0,0),transparent 62%);-webkit-mask:linear-gradient(transparent 52%,rgb(0,0,0),transparent 62%)}28%{mask:linear-gradient(transparent 53%,rgb(0,0,0),transparent 63%);-webkit-mask:linear-gradient(transparent 53%,rgb(0,0,0),transparent 63%)}28.5%{mask:linear-gradient(transparent 54%,rgb(0,0,0),transparent 64%);-webkit-mask:linear-gradient(transparent 54%,rgb(0,0,0),transparent 64%)}29%{mask:linear-gradient(transparent 55%,rgb(0,0,0),transparent 65%);-webkit-mask:linear-gradient(transparent 55%,rgb(0,0,0),transparent 65%)}29.5%{mask:linear-gradient(transparent 56%,rgb(0,0,0),transparent 66%);-webkit-mask:linear-gradient(transparent 56%,rgb(0,0,0),transparent 66%)}30%{mask:linear-gradient(transparent 57%,rgb(0,0,0),transparent 67%);-webkit-mask:linear-gradient(transparent 57%,rgb(0,0,0),transparent 67%)}31%{mask:linear-gradient(transparent 58%,rgb(0,0,0),transparent 68%);-webkit-mask:linear-gradient(transparent 58%,rgb(0,0,0),transparent 68%)}31.5%{mask:linear-gradient(transparent 59%,rgb(0,0,0),transparent 69%);-webkit-mask:linear-gradient(transparent 59%,rgb(0,0,0),transparent 69%)}32%{mask:linear-gradient(transparent 60%,rgb(0,0,0),transparent 70%);-webkit-mask:linear-gradient(transparent 60%,rgb(0,0,0),transparent 70%)}32.5%{mask:linear-gradient(transparent 61%,rgb(0,0,0),transparent 71%);-webkit-mask:linear-gradient(transparent 61%,rgb(0,0,0),transparent 71%)}33%{mask:linear-gradient(transparent 62%,rgb(0,0,0),transparent 72%);-webkit-mask:linear-gradient(transparent 62%,rgb(0,0,0),transparent 72%)}33.5%{mask:linear-gradient(transparent 63%,rgb(0,0,0),transparent 73%);-webkit-mask:linear-gradient(transparent 63%,rgb(0,0,0),transparent 73%)}34%{mask:linear-gradient(transparent 64%,rgb(0,0,0),transparent 74%);-webkit-mask:linear-gradient(transparent 64%,rgb(0,0,0),transparent 74%)}34.5%{mask:linear-gradient(transparent 65%,rgb(0,0,0),transparent 75%);-webkit-mask:linear-gradient(transparent 65%,rgb(0,0,0),transparent 75%)}35%{mask:linear-gradient(transparent 66%,rgb(0,0,0),transparent 76%);-webkit-mask:linear-gradient(transparent 66%,rgb(0,0,0),transparent 76%)}35.5%{mask:linear-gradient(transparent 67%,rgb(0,0,0),transparent 77%);-webkit-mask:linear-gradient(transparent 67%,rgb(0,0,0),transparent 77%)}36%{mask:linear-gradient(transparent 68%,rgb(0,0,0),transparent 78%);-webkit-mask:linear-gradient(transparent 68%,rgb(0,0,0),transparent 78%)}36.5%{mask:linear-gradient(transparent 69%,rgb(0,0,0),transparent 79%);-webkit-mask:linear-gradient(transparent 69%,rgb(0,0,0),transparent 79%)}37%{mask:linear-gradient(transparent 70%,rgb(0,0,0),transparent 80%);-webkit-mask:linear-gradient(transparent 70%,rgb(0,0,0),transparent 80%)}37.5%{mask:linear-gradient(transparent 71%,rgb(0,0,0),transparent 81%);-webkit-mask:linear-gradient(transparent 71%,rgb(0,0,0),transparent 81%)}38%{mask:linear-gradient(transparent 72%,rgb(0,0,0),transparent 82%);-webkit-mask:linear-gradient(transparent 72%,rgb(0,0,0),transparent 82%)}38.5%{mask:linear-gradient(transparent 73%,rgb(0,0,0),transparent 83%);-webkit-mask:linear-gradient(transparent 73%,rgb(0,0,0),transparent 83%)}39%{mask:linear-gradient(transparent 74%,rgb(0,0,0),transparent 84%);-webkit-mask:linear-gradient(transparent 74%,rgb(0,0,0),transparent 84%)}39.5%{mask:linear-gradient(transparent 75%,rgb(0,0,0),transparent 85%);-webkit-mask:linear-gradient(transparent 75%,rgb(0,0,0),transparent 85%)}40%{mask:linear-gradient(transparent 76%,rgb(0,0,0),transparent 86%);-webkit-mask:linear-gradient(transparent 76%,rgb(0,0,0),transparent 86%)}41%{mask:linear-gradient(transparent 77%,rgb(0,0,0),transparent 87%);-webkit-mask:linear-gradient(transparent 77%,rgb(0,0,0),transparent 87%)}41.5%{mask:linear-gradient(transparent 78%,rgb(0,0,0),transparent 88%);-webkit-mask:linear-gradient(transparent 78%,rgb(0,0,0),transparent 88%)}42%{mask:linear-gradient(transparent 79%,rgb(0,0,0),transparent 89%);-webkit-mask:linear-gradient(transparent 79%,rgb(0,0,0),transparent 89%)}42.5%{mask:linear-gradient(transparent 80%,rgb(0,0,0),transparent 90%);-webkit-mask:linear-gradient(transparent 80%,rgb(0,0,0),transparent 90%)}43%{mask:linear-gradient(transparent 81%,rgb(0,0,0),transparent 91%);-webkit-mask:linear-gradient(transparent 81%,rgb(0,0,0),transparent 91%)}43.5%{mask:linear-gradient(transparent 82%,rgb(0,0,0),transparent 92%);-webkit-mask:linear-gradient(transparent 82%,rgb(0,0,0),transparent 92%)}44%{mask:linear-gradient(transparent 83%,rgb(0,0,0),transparent 93%);-webkit-mask:linear-gradient(transparent 83%,rgb(0,0,0),transparent 93%)}44.5%{mask:linear-gradient(transparent 84%,rgb(0,0,0),transparent 94%);-webkit-mask:linear-gradient(transparent 84%,rgb(0,0,0),transparent 94%)}45%{mask:linear-gradient(transparent 85%,rgb(0,0,0),transparent 95%);-webkit-mask:linear-gradient(transparent 85%,rgb(0,0,0),transparent 95%)}45.5%{mask:linear-gradient(transparent 86%,rgb(0,0,0),transparent 96%);-webkit-mask:linear-gradient(transparent 86%,rgb(0,0,0),transparent 96%)}46%{mask:linear-gradient(transparent 87%,rgb(0,0,0),transparent 97%);-webkit-mask:linear-gradient(transparent 87%,rgb(0,0,0),transparent 97%)}46.5%{mask:linear-gradient(transparent 88%,rgb(0,0,0),transparent 98%);-webkit-mask:linear-gradient(transparent 88%,rgb(0,0,0),transparent 98%)}47%{mask:linear-gradient(transparent 89%,rgb(0,0,0),transparent 99%);-webkit-mask:linear-gradient(transparent 89%,rgb(0,0,0),transparent 99%)}47.5%{mask:linear-gradient(transparent 90%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 90%,rgb(0,0,0),transparent 100%)}48%{mask:linear-gradient(transparent 91%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 91%,rgb(0,0,0),transparent 100%)}48.5%{mask:linear-gradient(transparent 92%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 92%,rgb(0,0,0),transparent 100%)}49%{mask:linear-gradient(transparent 93%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 93%,rgb(0,0,0),transparent 100%)}49.5%{mask:linear-gradient(transparent 94%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 94%,rgb(0,0,0),transparent 100%)}50%{mask:linear-gradient(transparent 95%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 95%,rgb(0,0,0),transparent 100%)}59.5%{mask:linear-gradient(transparent 77%,rgb(0,0,0),transparent 87%);-webkit-mask:linear-gradient(transparent 77%,rgb(0,0,0),transparent 87%)}59%{mask:linear-gradient(transparent 78%,rgb(0,0,0),transparent 88%);-webkit-mask:linear-gradient(transparent 78%,rgb(0,0,0),transparent 88%)}58.5%{mask:linear-gradient(transparent 79%,rgb(0,0,0),transparent 89%);-webkit-mask:linear-gradient(transparent 79%,rgb(0,0,0),transparent 89%)}58%{mask:linear-gradient(transparent 80%,rgb(0,0,0),transparent 90%);-webkit-mask:linear-gradient(transparent 80%,rgb(0,0,0),transparent 90%)}57.5%{mask:linear-gradient(transparent 81%,rgb(0,0,0),transparent 91%);-webkit-mask:linear-gradient(transparent 81%,rgb(0,0,0),transparent 91%)}57%{mask:linear-gradient(transparent 82%,rgb(0,0,0),transparent 92%);-webkit-mask:linear-gradient(transparent 82%,rgb(0,0,0),transparent 92%)}56.5%{mask:linear-gradient(transparent 83%,rgb(0,0,0),transparent 93%);-webkit-mask:linear-gradient(transparent 83%,rgb(0,0,0),transparent 93%)}56%{mask:linear-gradient(transparent 84%,rgb(0,0,0),transparent 94%);-webkit-mask:linear-gradient(transparent 84%,rgb(0,0,0),transparent 94%)}55.5%{mask:linear-gradient(transparent 85%,rgb(0,0,0),transparent 95%);-webkit-mask:linear-gradient(transparent 85%,rgb(0,0,0),transparent 95%)}55%{mask:linear-gradient(transparent 86%,rgb(0,0,0),transparent 96%);-webkit-mask:linear-gradient(transparent 86%,rgb(0,0,0),transparent 96%)}54.5%{mask:linear-gradient(transparent 87%,rgb(0,0,0),transparent 97%);-webkit-mask:linear-gradient(transparent 87%,rgb(0,0,0),transparent 97%)}54%{mask:linear-gradient(transparent 88%,rgb(0,0,0),transparent 98%);-webkit-mask:linear-gradient(transparent 88%,rgb(0,0,0),transparent 98%)}53.5%{mask:linear-gradient(transparent 89%,rgb(0,0,0),transparent 99%);-webkit-mask:linear-gradient(transparent 89%,rgb(0,0,0),transparent 99%)}53%{mask:linear-gradient(transparent 90%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 90%,rgb(0,0,0),transparent 100%)}52.5%{mask:linear-gradient(transparent 91%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 91%,rgb(0,0,0),transparent 100%)}52%{mask:linear-gradient(transparent 92%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 92%,rgb(0,0,0),transparent 100%)}51.5%{mask:linear-gradient(transparent 93%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 93%,rgb(0,0,0),transparent 100%)}51%{mask:linear-gradient(transparent 94%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 94%,rgb(0,0,0),transparent 100%)}50.5%{mask:linear-gradient(transparent 95%,rgb(0,0,0),transparent 100%);-webkit-mask:linear-gradient(transparent 95%,rgb(0,0,0),transparent 100%)}69%{mask:linear-gradient(transparent 58%,rgb(0,0,0),transparent 68%);-webkit-mask:linear-gradient(transparent 58%,rgb(0,0,0),transparent 68%)}68.5%{mask:linear-gradient(transparent 59%,rgb(0,0,0),transparent 69%);-webkit-mask:linear-gradient(transparent 59%,rgb(0,0,0),transparent 69%)}68%{mask:linear-gradient(transparent 60%,rgb(0,0,0),transparent 70%);-webkit-mask:linear-gradient(transparent 60%,rgb(0,0,0),transparent 70%)}67.5%{mask:linear-gradient(transparent 61%,rgb(0,0,0),transparent 71%);-webkit-mask:linear-gradient(transparent 61%,rgb(0,0,0),transparent 71%)}67%{mask:linear-gradient(transparent 62%,rgb(0,0,0),transparent 72%);-webkit-mask:linear-gradient(transparent 62%,rgb(0,0,0),transparent 72%)}66.5%{mask:linear-gradient(transparent 63%,rgb(0,0,0),transparent 73%);-webkit-mask:linear-gradient(transparent 63%,rgb(0,0,0),transparent 73%)}66%{mask:linear-gradient(transparent 64%,rgb(0,0,0),transparent 74%);-webkit-mask:linear-gradient(transparent 64%,rgb(0,0,0),transparent 74%)}65.5%{mask:linear-gradient(transparent 65%,rgb(0,0,0),transparent 75%);-webkit-mask:linear-gradient(transparent 65%,rgb(0,0,0),transparent 75%)}65%{mask:linear-gradient(transparent 66%,rgb(0,0,0),transparent 76%);-webkit-mask:linear-gradient(transparent 66%,rgb(0,0,0),transparent 76%)}64.5%{mask:linear-gradient(transparent 67%,rgb(0,0,0),transparent 77%);-webkit-mask:linear-gradient(transparent 67%,rgb(0,0,0),transparent 77%)}64%{mask:linear-gradient(transparent 68%,rgb(0,0,0),transparent 78%);-webkit-mask:linear-gradient(transparent 68%,rgb(0,0,0),transparent 78%)}63.5%{mask:linear-gradient(transparent 69%,rgb(0,0,0),transparent 79%);-webkit-mask:linear-gradient(transparent 69%,rgb(0,0,0),transparent 79%)}63%{mask:linear-gradient(transparent 70%,rgb(0,0,0),transparent 80%);-webkit-mask:linear-gradient(transparent 70%,rgb(0,0,0),transparent 80%)}62.5%{mask:linear-gradient(transparent 71%,rgb(0,0,0),transparent 81%);-webkit-mask:linear-gradient(transparent 71%,rgb(0,0,0),transparent 81%)}62%{mask:linear-gradient(transparent 72%,rgb(0,0,0),transparent 82%);-webkit-mask:linear-gradient(transparent 72%,rgb(0,0,0),transparent 82%)}61.5%{mask:linear-gradient(transparent 73%,rgb(0,0,0),transparent 83%);-webkit-mask:linear-gradient(transparent 73%,rgb(0,0,0),transparent 83%)}61%{mask:linear-gradient(transparent 74%,rgb(0,0,0),transparent 84%);-webkit-mask:linear-gradient(transparent 74%,rgb(0,0,0),transparent 84%)}60.5%{mask:linear-gradient(transparent 75%,rgb(0,0,0),transparent 85%);-webkit-mask:linear-gradient(transparent 75%,rgb(0,0,0),transparent 85%)}60%{mask:linear-gradient(transparent 76%,rgb(0,0,0),transparent 86%);-webkit-mask:linear-gradient(transparent 76%,rgb(0,0,0),transparent 86%)}78.5%{mask:linear-gradient(transparent 39%,rgb(0,0,0),transparent 49%);-webkit-mask:linear-gradient(transparent 39%,rgb(0,0,0),transparent 49%)}78%{mask:linear-gradient(transparent 40%,rgb(0,0,0),transparent 50%);-webkit-mask:linear-gradient(transparent 40%,rgb(0,0,0),transparent 50%)}77.5%{mask:linear-gradient(transparent 41%,rgb(0,0,0),transparent 51%);-webkit-mask:linear-gradient(transparent 41%,rgb(0,0,0),transparent 51%)}77%{mask:linear-gradient(transparent 42%,rgb(0,0,0),transparent 52%);-webkit-mask:linear-gradient(transparent 42%,rgb(0,0,0),transparent 52%)}76.5%{mask:linear-gradient(transparent 43%,rgb(0,0,0),transparent 53%);-webkit-mask:linear-gradient(transparent 43%,rgb(0,0,0),transparent 53%)}76%{mask:linear-gradient(transparent 44%,rgb(0,0,0),transparent 54%);-webkit-mask:linear-gradient(transparent 44%,rgb(0,0,0),transparent 54%)}75.5%{mask:linear-gradient(transparent 45%,rgb(0,0,0),transparent 55%);-webkit-mask:linear-gradient(transparent 45%,rgb(0,0,0),transparent 55%)}75%{mask:linear-gradient(transparent 46%,rgb(0,0,0),transparent 56%);-webkit-mask:linear-gradient(transparent 46%,rgb(0,0,0),transparent 56%)}74.5%{mask:linear-gradient(transparent 47%,rgb(0,0,0),transparent 57%);-webkit-mask:linear-gradient(transparent 47%,rgb(0,0,0),transparent 57%)}74%{mask:linear-gradient(transparent 48%,rgb(0,0,0),transparent 58%);-webkit-mask:linear-gradient(transparent 48%,rgb(0,0,0),transparent 58%)}73.5%{mask:linear-gradient(transparent 49%,rgb(0,0,0),transparent 59%);-webkit-mask:linear-gradient(transparent 49%,rgb(0,0,0),transparent 59%)}73%{mask:linear-gradient(transparent 50%,rgb(0,0,0),transparent 60%);-webkit-mask:linear-gradient(transparent 50%,rgb(0,0,0),transparent 60%)}72.5%{mask:linear-gradient(transparent 51%,rgb(0,0,0),transparent 61%);-webkit-mask:linear-gradient(transparent 51%,rgb(0,0,0),transparent 61%)}72%{mask:linear-gradient(transparent 52%,rgb(0,0,0),transparent 62%);-webkit-mask:linear-gradient(transparent 52%,rgb(0,0,0),transparent 62%)}71.5%{mask:linear-gradient(transparent 53%,rgb(0,0,0),transparent 63%);-webkit-mask:linear-gradient(transparent 53%,rgb(0,0,0),transparent 63%)}71%{mask:linear-gradient(transparent 54%,rgb(0,0,0),transparent 64%);-webkit-mask:linear-gradient(transparent 54%,rgb(0,0,0),transparent 64%)}70.5%{mask:linear-gradient(transparent 55%,rgb(0,0,0),transparent 65%);-webkit-mask:linear-gradient(transparent 55%,rgb(0,0,0),transparent 65%)}70%{mask:linear-gradient(transparent 56%,rgb(0,0,0),transparent 66%);-webkit-mask:linear-gradient(transparent 56%,rgb(0,0,0),transparent 66%)}69.5%{mask:linear-gradient(transparent 57%,rgb(0,0,0),transparent 67%);-webkit-mask:linear-gradient(transparent 57%,rgb(0,0,0),transparent 67%)}91%{mask:linear-gradient(transparent 20%,rgb(0,0,0),transparent 30%);-webkit-mask:linear-gradient(transparent 20%,rgb(0,0,0),transparent 30%)}90.5%{mask:linear-gradient(transparent 21%,rgb(0,0,0),transparent 31%);-webkit-mask:linear-gradient(transparent 21%,rgb(0,0,0),transparent 31%)}90%{mask:linear-gradient(transparent 22%,rgb(0,0,0),transparent 32%);-webkit-mask:linear-gradient(transparent 22%,rgb(0,0,0),transparent 32%)}89.5%{mask:linear-gradient(transparent 23%,rgb(0,0,0),transparent 33%);-webkit-mask:linear-gradient(transparent 23%,rgb(0,0,0),transparent 33%)}88%{mask:linear-gradient(transparent 24%,rgb(0,0,0),transparent 34%);-webkit-mask:linear-gradient(transparent 24%,rgb(0,0,0),transparent 34%)}87.5%{mask:linear-gradient(transparent 25%,rgb(0,0,0),transparent 35%);-webkit-mask:linear-gradient(transparent 25%,rgb(0,0,0),transparent 35%)}87%{mask:linear-gradient(transparent 26%,rgb(0,0,0),transparent 36%);-webkit-mask:linear-gradient(transparent 26%,rgb(0,0,0),transparent 36%)}86.5%{mask:linear-gradient(transparent 27%,rgb(0,0,0),transparent 37%);-webkit-mask:linear-gradient(transparent 27%,rgb(0,0,0),transparent 37%)}86%{mask:linear-gradient(transparent 28%,rgb(0,0,0),transparent 38%);-webkit-mask:linear-gradient(transparent 28%,rgb(0,0,0),transparent 38%)}85.5%{mask:linear-gradient(transparent 29%,rgb(0,0,0),transparent 39%);-webkit-mask:linear-gradient(transparent 29%,rgb(0,0,0),transparent 39%)}85%{mask:linear-gradient(transparent 30%,rgb(0,0,0),transparent 40%);-webkit-mask:linear-gradient(transparent 30%,rgb(0,0,0),transparent 40%)}84.5%{mask:linear-gradient(transparent 31%,rgb(0,0,0),transparent 41%);-webkit-mask:linear-gradient(transparent 31%,rgb(0,0,0),transparent 41%)}84%{mask:linear-gradient(transparent 32%,rgb(0,0,0),transparent 42%);-webkit-mask:linear-gradient(transparent 32%,rgb(0,0,0),transparent 42%)}83.5%{mask:linear-gradient(transparent 33%,rgb(0,0,0),transparent 43%);-webkit-mask:linear-gradient(transparent 33%,rgb(0,0,0),transparent 43%)}83%{mask:linear-gradient(transparent 34%,rgb(0,0,0),transparent 44%);-webkit-mask:linear-gradient(transparent 34%,rgb(0,0,0),transparent 44%)}82.5%{mask:linear-gradient(transparent 35%,rgb(0,0,0),transparent 45%);-webkit-mask:linear-gradient(transparent 35%,rgb(0,0,0),transparent 45%)}82%{mask:linear-gradient(transparent 36%,rgb(0,0,0),transparent 46%);-webkit-mask:linear-gradient(transparent 36%,rgb(0,0,0),transparent 46%)}81.5%{mask:linear-gradient(transparent 37%,rgb(0,0,0),transparent 47%);-webkit-mask:linear-gradient(transparent 37%,rgb(0,0,0),transparent 47%)}80%{mask:linear-gradient(transparent 38%,rgb(0,0,0),transparent 48%);-webkit-mask:linear-gradient(transparent 38%,rgb(0,0,0),transparent 48%)}to{mask:linear-gradient(transparent 2%,rgb(0,0,0),transparent 12%);-webkit-mask:linear-gradient(transparent 2%,rgb(0,0,0),transparent 12%)}99.5%{mask:linear-gradient(transparent 3%,rgb(0,0,0),transparent 13%);-webkit-mask:linear-gradient(transparent 3%,rgb(0,0,0),transparent 13%)}99%{mask:linear-gradient(transparent 4%,rgb(0,0,0),transparent 14%);-webkit-mask:linear-gradient(transparent 4%,rgb(0,0,0),transparent 14%)}98.5%{mask:linear-gradient(transparent 5%,rgb(0,0,0),transparent 15%);-webkit-mask:linear-gradient(transparent 5%,rgb(0,0,0),transparent 15%)}98%{mask:linear-gradient(transparent 6%,rgb(0,0,0),transparent 16%);-webkit-mask:linear-gradient(transparent 6%,rgb(0,0,0),transparent 16%)}97.5%{mask:linear-gradient(transparent 7%,rgb(0,0,0),transparent 17%);-webkit-mask:linear-gradient(transparent 7%,rgb(0,0,0),transparent 17%)}97%{mask:linear-gradient(transparent 8%,rgb(0,0,0),transparent 18%);-webkit-mask:linear-gradient(transparent 8%,rgb(0,0,0),transparent 18%)}96.5%{mask:linear-gradient(transparent 9%,rgb(0,0,0),transparent 19%);-webkit-mask:linear-gradient(transparent 9%,rgb(0,0,0),transparent 19%)}96%{mask:linear-gradient(transparent 10%,rgb(0,0,0),transparent 20%);-webkit-mask:linear-gradient(transparent 10%,rgb(0,0,0),transparent 20%)}95.5%{mask:linear-gradient(transparent 11%,rgb(0,0,0),transparent 21%);-webkit-mask:linear-gradient(transparent 11%,rgb(0,0,0),transparent 21%)}95%{mask:linear-gradient(transparent 12%,rgb(0,0,0),transparent 22%);-webkit-mask:linear-gradient(transparent 12%,rgb(0,0,0),transparent 22%)}94.5%{mask:linear-gradient(transparent 13%,rgb(0,0,0),transparent 23%);-webkit-mask:linear-gradient(transparent 13%,rgb(0,0,0),transparent 23%)}94%{mask:linear-gradient(transparent 14%,rgb(0,0,0),transparent 24%);-webkit-mask:linear-gradient(transparent 14%,rgb(0,0,0),transparent 24%)}93.5%{mask:linear-gradient(transparent 15%,rgb(0,0,0),transparent 25%);-webkit-mask:linear-gradient(transparent 15%,rgb(0,0,0),transparent 25%)}93%{mask:linear-gradient(transparent 16%,rgb(0,0,0),transparent 26%);-webkit-mask:linear-gradient(transparent 16%,rgb(0,0,0),transparent 26%)}92.5%{mask:linear-gradient(transparent 17%,rgb(0,0,0),transparent 27%);-webkit-mask:linear-gradient(transparent 17%,rgb(0,0,0),transparent 27%)}92%{mask:linear-gradient(transparent 18%,rgb(0,0,0),transparent 28%);-webkit-mask:linear-gradient(transparent 18%,rgb(0,0,0),transparent 28%)}91.5%{mask:linear-gradient(transparent 19%,rgb(0,0,0),transparent 29%);-webkit-mask:linear-gradient(transparent 19%,rgb(0,0,0),transparent 29%)}}";async function Mh(){const{FACEMESH_FACE_OVAL:t}=await ur();return t}async function Ih(t,e,n,r){if(e===void 0||n===void 0)return;t.save();const i=t.canvas.width,s=t.canvas.height,l=(r==null?void 0:r.lineWidth)||await Ph(e,i);for(var o=0;o<n.length;o++){const u=n[o];t.beginPath();const f=e[u[0]],h=e[u[1]];t.moveTo(f.x*i,f.y*s),t.lineTo(h.x*i,h.y*s),t.lineWidth=l,t.strokeStyle=(r==null?void 0:r.color)||"lightgreen",t.stroke()}t.restore()}async function Ph(t,e){const n=await Fh(t)*.01*e;return console.log("lineWidth = ",n),n}async function Fh(t){const e=(await Mh()).map(([n])=>t[n].x);return Math.abs(Math.max(...e)-Math.min(...e))}class Ls{constructor(e,n){p(this,"faceMesh"),p(this,"canvas"),p(this,"video"),p(this,"color","lightgreen"),p(this,"lineWidth"),p(this,"animateStyle"),this.video=e,this.color=(n==null?void 0:n.color)||this.color,this.lineWidth=(n==null?void 0:n.lineWidth)||this.lineWidth,this.enabled=!0,this.animateStyle=document.createElement("style"),this.animateStyle.innerHTML=Ah,this.animate=(n==null?void 0:n.animate)!==void 0?n.animate:!0}destroy(){console.log("[VitalSignCamera] Trying to destroy face mesh..."),this.faceMesh&&this.faceMesh.parentElement&&(this.faceMesh.parentElement.removeChild(this.faceMesh),console.log("[VitalSignCamera] Face mesh removed."),this.faceMesh=void 0,this.canvas=void 0),this.animateStyle.parentElement&&(this.animateStyle.parentElement.removeChild(this.animateStyle),console.log("[VitalSignCamera] Face mesh animation CSS removed."))}set enabled(e){var n;e&&!this.faceMesh&&(this.faceMesh=document.createElement("div"),this.canvas=document.createElement("canvas"),this.canvas.className="face-mesh-canvas",this.faceMesh.appendChild(this.canvas),this.faceMesh.style.width="0px",this.faceMesh.style.height="0px",this.faceMesh.style.pointerEvents="none",this.faceMesh.style.overflow="clip",this.video.after(this.faceMesh),console.log("[VitalSignCamera] Face mesh inserted.")),!e&&this.faceMesh&&((n=this.faceMesh.parentElement)==null||n.removeChild(this.faceMesh),this.faceMesh=void 0,this.canvas=void 0)}set animate(e){var n;e&&!this.animate&&(document.body.append(this.animateStyle),console.log("[VitalSignCamera] Face mesh CSS inserted.")),!e&&this.animate&&((n=this.animateStyle.parentElement)==null||n.removeChild(this.animateStyle))}get animate(){return this.animateStyle.parentElement!==null}get enabled(){return this.faceMesh!==void 0}updateOptions(e){e.color!==void 0&&e.color!==this.color&&(this.color=e.color),e.lineWidth!==void 0&&e.lineWidth!==this.lineWidth&&(this.lineWidth=e.lineWidth),e.animate!==void 0&&e.animate!==this.animate&&(this.animate=e.animate)}update(e){if(!this.faceMesh||!this.canvas)return;this.faceMesh.style.position="fixed";const{x:n,y:r,width:i,height:s}=this.video.getBoundingClientRect();this.faceMesh.style.left=`${n}px`,this.faceMesh.style.top=`${r}px`,this.faceMesh.style.width=`${i}px`,this.faceMesh.style.height=`${s}px`,this.faceMesh.style.transform=`${this.video.style.transform}`,this.faceMesh.style.overflow="clip",this.redraw(e);const l=this.computeStyle(this.faceMesh);this.canvas.style.left=l.left,this.canvas.style.top=l.top,this.canvas.style.width=l.width,this.canvas.style.height=l.height,this.canvas.style.aspectRatio=l.aspectRatio,this.canvas.style.position="relative"}async redraw(e){const{FACEMESH_TESSELATION:n}=await ur();if(!this.faceMesh||!this.canvas){console.warn("Undefined canvas or face mesh");return}this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight;const r=this.canvas.getContext("2d");if(r===null){console.warn("Null Context");return}if(r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height),e!==void 0&&e.length>0){const i=await this.computeLineWidth(e);r.lineTo(this.canvas.width,this.canvas.height),Ih(r,e,n,{color:this.color,lineWidth:i})}r.restore()}computeStyle(e){let n=0;const r=this.video.videoHeight,i=this.video.videoWidth;n=i&&r?i/r:0;const s={width:"",height:"",left:"0%",top:"0%",aspectRatio:`${n}`},l=e.clientWidth/e.clientHeight;return l<n?(s.left=`${(l-n)/l/2*100}%`,s.height="100%"):(s.top=`${(1/l-1/n)*l/2*100}%`,s.width="100%"),s}async computeLineWidth(e){const n=this.video.videoWidth,r=this.lineWidth===void 0?"1%":this.lineWidth,i=await Oh(e);var s;return typeof r=="string"?s=parseFloat(r)*.01*i*n:s=r,s}}async function Oh(t){const{FACEMESH_FACE_OVAL:e}=await ur(),n=e.map(([r])=>t[r].x);return Math.abs(Math.max(...n)-Math.min(...n))}async function Bh(t){const{RemoteBeautyAnalyzer:e}=await wt(async()=>{const{RemoteBeautyAnalyzer:n}=await import("./COdPwIqN-BOIDkyjM.js");return{RemoteBeautyAnalyzer:n}},[]);return new e(t)}function ki(t){var e;const{videoFrame:n,rect:r}=t,{x:i,y:s,w:l,h:o}=r,u=new OffscreenCanvas(n.width,n.height);(e=u.getContext("2d"))==null||e.putImageData(n,0,0);let f=new OffscreenCanvas(l,o).getContext("2d");return f.drawImage(u,i,s,l,o,0,0,l,o),f.getImageData(0,0,l,o)}self.onmessage=t=>{const{inputData:e,hash:n}=t.data,r=ki(e);self.postMessage({result:r,hash:n},[r.data.buffer])};class Lh{constructor(e,n,r){if(p(this,"type","chest"),p(this,"boundingBox"),p(this,"imageData"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BVv6I5U7-eMazRsx3.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,ki,"ChestROIExtractorWorker")),this.boundingBox=this.chestRect({width:e.width,height:e.height},n,r),this.boundingBox===void 0){this.imageData=Promise.resolve(void 0);return}this.imageData=e.getImageData().then(i=>{if(!(!i||!this.boundingBox))return this.workerPool.callWorker({videoFrame:i,rect:this.boundingBox})})}chestRect(e,n,r){if(!n||!r)return;let i=n.width*e.width,s=n.height*e.height,l=(r.xCenter-n.width/2)*e.width,o=(n.yCenter-n.height/2)*e.height;if(o=o+s,o+s>e.height&&(s=e.height-o),!(i<=0||s<=0)&&!(s<.1*r.height*e.height))return{x:l,y:o,w:i,h:s}}}class Uh{constructor(e,n,r,i="rgb1x1",s=Te.AwsEnterpriseProd){if(p(this,"type","face"),p(this,"boundingBox"),p(this,"imageData"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/BVv6I5U7-eMazRsx3.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,ki,"FaceROIExtractorWorker")),this.boundingBox=this.faceRect({width:e.width,height:e.height},n,r,i,s),this.boundingBox===void 0){this.imageData=Promise.resolve(void 0);return}this.imageData=e.getImageData().then(l=>{if(!(!l||!this.boundingBox))return this.workerPool.callWorker({videoFrame:l,rect:this.boundingBox})})}faceRect(e,n,r,i,s){var l;if(!n||!r)return;let o=1,u=n.width*e.width*o,f=n.height*e.height*o,h=(r.xCenter-n.width/2*o)*e.width,b=(r.yCenter-n.height/2*o)*e.height;if(u==0||f==0)return;let m=(l=Xr.get(s))==null?void 0:l.schemaVersion;return(i=="rgb1x1"||i=="yuv1x1"&&m&&rn(m,"2.0")<0)&&(f=f*.7),{x:h,y:b,w:u,h:f}}}function Us(t){const e=t.map(r=>r.x),n=t.map(r=>r.y);return{min:{x:Math.min(...e),y:Math.min(...n)},max:{x:Math.max(...e),y:Math.max(...n)}}}function Vh(t){const e=t.reduce((n,r)=>({x:n.x+r.x,y:n.y+r.y}),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}}function Nh(t,e,n){const r=[t[0].x,t[0].y,t[1].x,t[1].y],i=[e[0].x,e[0].y,e[1].x,e[1].y],[s,l,o,u]=r,f=Math.sqrt(Math.pow(Math.abs(s-o),2)+Math.pow(Math.abs(l-u),2)),[h,b,m,v]=i,x=h-m,g=b-v,k=[1,0],_=[o-s,u-l],R=k[0]*_[0]+k[1]*_[1],E=Math.sqrt(k[0]*k[0]+k[1]*k[1]),T=Math.sqrt(_[0]*_[0]+_[1]*_[1]),B=Math.acos(R/(E*T)),H=Math.abs(Math.cos(B)*f/2),L=Math.abs(Math.sin(B)*f/2),X={x:n.x-x/2,y:n.y-g/2*.8},be={x:n.x-H/2,y:n.y-L/2},Z={x:n.x+H/2,y:n.y+L/2},Y={x:X.x+H/2,y:X.y+L/2},he={x:X.x-H/2,y:X.y-L/2};return[be,Z,Y,he]}function $h(t,e){const n=Us(e),r=n.min.x,i=n.min.y,s=n.max.x,l=n.max.y,o=[(s-r)*.25,(l-i)*.25];let u,f,h,b;switch(t){case"forehead":u=e[151].x,f=e[151].y,h=o[0]*2,b=o[1]*.5;break;case"glabella":u=e[8].x,f=e[8].y,h=o[0]*.6,b=o[1]*.6;break;case"rightCheek":u=e[425].x,f=e[425].y-o[1]*.2,h=o[0]*.8,b=o[1]*.6;break;case"leftCheek":u=e[205].x,f=e[205].y-o[1]*.2,h=o[0]*.8,b=o[1]*.6;break;case"chin":u=e[200].x,f=e[200].y,h=o[0]*.8,b=o[1]*.4;break;case"neck":const k=[e[205],e[425]],_=[e[168],e[4]],R=e[152],E=Nh(k,_,R),T=Us(E),B=Vh(E);u=B.x,f=B.y,h=T.max.x-T.min.x,b=T.max.y-T.min.y,f+=b,b*=2;break;case"rightLowerCheek":u=e[425].x,f=e[425].y,h=o[0],b=o[1]/2,f+=b/2;break;case"rightUpperCheek":u=e[425].x,f=e[425].y,h=o[0],b=o[1]/2,f-=b/2;break;case"leftLowerCheek":u=e[205].x,f=e[205].y,h=o[0],b=o[1]/2,f+=b/2;break;case"leftUpperCheek":u=e[205].x,f=e[205].y,h=o[0],b=o[1]/2,f-=b/2;break;default:throw new Error(`Unsupported ROI part: ${t}`)}const m=u-h/2,v=f-b/2,x=m+h,g=v+b;return[{x:m,y:v},{x,y:v},{x,y:g},{x:m,y:g}]}function so(t,e){if(e.length===0)return{x:0,y:0,w:0,h:0};if(e.length===1){const l=e[0];return{x:Math.floor(l.x)*t.width,y:Math.floor(l.y)*t.height,w:1,h:1}}let n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;for(let l=1;l<e.length;l++){const o=e[l];o.x<n&&(n=o.x),o.y<r&&(r=o.y),o.x>i&&(i=o.x),o.y>s&&(s=o.y)}return{x:n*t.width,y:r*t.height,w:(i-n)*t.width,h:(s-r)*t.height}}function ao(t){var e;const{videoFrame:n,normalizedPoints:r}=t,{x:i,y:s,w:l,h:o}=so(n,r),u=new OffscreenCanvas(n.width,n.height);(e=u.getContext("2d"))==null||e.putImageData(n,0,0);let f=new OffscreenCanvas(l,o).getContext("2d");f.beginPath();for(let h=0;h<r.length;h++){const b=r[h],m=(b.x-i/n.width)*(n.width/l)*l,v=(b.y-s/n.height)*(n.height/o)*o;h===0?f.moveTo(m,v):f.lineTo(m,v)}return f.closePath(),f.clip(),f.drawImage(u,i,s,l,o,0,0,l,o),f.getImageData(0,0,l,o)}self.onmessage=t=>{const{inputData:e,hash:n}=t.data,r=ao(e);self.postMessage({result:r,hash:n},[r.data.buffer])};class Hh{constructor(e,n,r){p(this,"type"),p(this,"boundingBox"),p(this,"imageData"),p(this,"workerFactory",()=>new Worker(new URL("/sdk-live-demo/vue/3.0.0-b13/assets/CDhEsE-f-CpFHRKS_.js",import.meta.url),{type:"module"})),p(this,"workerPool",Qe(this.workerFactory,ao,"PolygonROIExtractorWorker",1e3,48)),this.type=n,this.boundingBox=so(e,r),this.imageData=e.getImageData().then(i=>{if(!(!i||!this.boundingBox))return this.workerPool.callWorker({videoFrame:i,normalizedPoints:r})})}}class Wh{constructor(e,n){p(this,"canvas"),p(this,"config"),p(this,"faceDetectionSamplingInterval"),p(this,"debug",!1),p(this,"sampledFaceDetection"),p(this,"firstFaceDetection"),this.canvas=document.createElement("canvas"),this.config=n,this.faceDetectionSamplingInterval=e,console.log("[VitalSignCamera] DefaultFaceROIExtractor initialized")}reset(){this.sampledFaceDetection=void 0,this.firstFaceDetection=void 0}processFrame(e,n,r){r==="idle"&&(this.sampledFaceDetection=void 0,this.firstFaceDetection=void 0);const i=new Date().getTime();return(!this.sampledFaceDetection||!this.faceDetectionSamplingInterval||i-this.sampledFaceDetection.timestamp>this.faceDetectionSamplingInterval)&&(this.sampledFaceDetection={timestamp:new Date().getTime(),...n}),this.firstFaceDetection===void 0&&(this.firstFaceDetection=n),{images:(this.config.enabledROIs??["face","chest"]).reduce((s,l)=>{var o,u,f,h,b,m;if(l==="face")s.face=new Uh(e,(o=this.firstFaceDetection)==null?void 0:o.faceBox,(u=this.sampledFaceDetection)==null?void 0:u.faceBox,this.config.pixelDataType,this.config.serverId);else if(l==="chest")s.chest=new Lh(e,(f=this.firstFaceDetection)==null?void 0:f.faceBox,(h=this.sampledFaceDetection)==null?void 0:h.faceBox);else{if(!((b=this.sampledFaceDetection)!=null&&b.landmarks)||this.sampledFaceDetection.landmarks.length===0)return s;const v=$h(l,(m=this.sampledFaceDetection)==null?void 0:m.landmarks),x=new Hh(e,l,v);s[l]=x}return this.debug&&s[l]&&this.debugRoi(s[l]),s},{})}}cropFrame(e,n){const r=this.canvas;return r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(e,n.x,n.y,n.width,n.height,0,0,r.width,r.height),r.getContext("2d").canvas}async debugRoi(e){var n;const r=await e.imageData;if(r===void 0){console.log("[VitalSignCamera] debugRoi: imageData is undefined");return}const i=document.createElement("canvas");i.width=r.width,i.height=r.height,(n=i.getContext("2d"))==null||n.putImageData(r,0,0);const s=i.toDataURL(),l=`debug-${e.type}`,o=document.getElementById(l);if(o)o.setAttribute("src",s);else{const u=document.createElement("img");u.id=l,u.setAttribute("src",s),document.body.appendChild(u)}}}function Vs(t,e){var n;return console.log(`[VitalSignCamera] createFaceROIExtractor for ${(n=e.enabledROIs)==null?void 0:n.join(", ")} ROIs`),new Wh(t,e)}const oo=Ce.isMobile&&!Ce.isTablet,jh=oo?gt.sd480x360:Ce.isTablet?gt.hd1280x720:gt.hd1920x1080,Ns={engineConfig:{serverId:Te.Schema2Prod,dataCollectionDuration:25,dataSendingDuration:5,enabledROIs:["face","chest"],pixelDataType:"rgb1x1",chestPixelDataType:"ggg1x1",landmarksSampleRate:10},conditionCheckerConfig:{minimumFrameRate:oo||Ce.isAndroid?10:15},presetFormat:jh},zh={engineConfig:{serverId:Te.Schema2Prod,dataCollectionDuration:18,dataSendingDuration:10,enabledROIs:["face","chest","leftCheek","rightCheek","chin","glabella"],pixelDataType:"rgb8x8",chestPixelDataType:"meanRgb1x1",landmarksSampleRate:10},conditionCheckerConfig:{minimumFrameRate:25},presetFormat:Ce.isMobile?gt.hd1280x720:gt.hd1920x1080};function lo(t){switch(t){case at.relaxed:return Ns;case at.strict:return zh;default:return Ns}}class Kh{constructor(e){p(this,"lastFramerateOKTime",new Date),p(this,"requiredStableDuration",1e4),p(this,"waitingResponse",!1),this.camera=e}reset(){this.lastFramerateOKTime=new Date}process(e,n){var r;if(this.camera.precisionMode===void 0)return;const i=(r=lo(this.camera.precisionMode).conditionCheckerConfig)==null?void 0:r.minimumFrameRate;if(!(i===void 0||(e>=i&&(this.lastFramerateOKTime=new Date),!this.lastFramerateOKTime)||this.waitingResponse)&&new Date().getTime()-this.lastFramerateOKTime.getTime()>=this.requiredStableDuration&&this.camera.precisionMode!==at.relaxed&&n==="idle")if(this.camera.onPrecisionModeWillUpdate){this.waitingResponse=!0,this.camera.onPrecisionModeWillUpdate({currentMode:this.camera.precisionMode,newMode:at.relaxed,reason:"lowFrameRate",response:s=>{this.waitingResponse=!1,s==="proceed"?this.updatePrecisionModeToRelaxed("response"):s==="wait"?this.reset():this.waitingResponse=!1}});return}else console.log("No onPrecisionModeWillUpdate handler, proceeding to update precision mode."),this.updatePrecisionModeToRelaxed()}updatePrecisionModeToRelaxed(e="lowFrameRate"){this.camera.precisionMode=at.relaxed,this.camera.onPrecisionModeUpdated&&this.camera.onPrecisionModeUpdated({previousMode:at.strict,currentMode:at.relaxed,reason:e}),console.log(`[VitalSignCamera] Precision mode switched to relaxed after stable frame rate for ${this.requiredStableDuration} ms`)}}const On=Ce.isMobile&&!Ce.isTablet;class qh{constructor(e){p(this,"id",`${Math.floor(Math.random()*1e4)}`),p(this,"deviceCaps",oh),p(this,"version",Jr),p(this,"_isActive"),p(this,"_userInfo"),p(this,"_config"),p(this,"faceDetectorType"),p(this,"_presetFormat"),p(this,"checkBrightness",!0),p(this,"_device"),p(this,"preferredCamera"),p(this,"maxFps"),p(this,"maxFaceDetectionFps"),p(this,"_precisionMode"),p(this,"disableAgeEstimation"),p(this,"enableBeautyAnalysis"),p(this,"_visualizationOptions"),p(this,"customConditionRange"),p(this,"faceDetectionRegion"),p(this,"faceDetectionModelLocation"),p(this,"vsStatus","idle"),p(this,"_faceDetectionResult"),p(this,"faceDetectionTimer"),p(this,"camera",null),p(this,"cameraStartTime"),p(this,"videoFrameInfo",null),p(this,"videoFrame"),p(this,"healthResult"),p(this,"video",null),p(this,"transform","none"),p(this,"_videoSettings"),p(this,"cameraFps",new As("camera")),p(this,"faceDetectionFps",new As("face detection")),p(this,"activateAfterBound",!1),p(this,"boundingBox"),p(this,"faceMesh"),p(this,"faceDetectionSamplingInterval"),p(this,"vitalSignEngine"),p(this,"faceDetector"),p(this,"roiExtractor"),p(this,"ageEstimator"),p(this,"beautyAnalyzer"),p(this,"conditionChecker"),p(this,"precisionModeChecker",new Kh(this)),p(this,"cameraDevices"),p(this,"onVideoFrameProcessed"),p(this,"onTransformUpdated"),p(this,"onVideoSettingsUpdated"),p(this,"onCameraDevicesUpdated"),p(this,"onInitialized"),p(this,"onPrecisionModeUpdated"),p(this,"onPrecisionModeWillUpdate"),p(this,"onError");var n;window.__vital_sign_camera_impl__=this,console.log(`[VitalSignCamera] Welcome to VitalSignCamera ${Jr}`),console.log("[VitalSignCamera] Initializing with props...",e);let r=new Date;this._isActive=!1,this.activateAfterBound=e.isActive,this._config=e.config||{},this._device=e.device,this.preferredCamera=e.preferredCamera,this._userInfo=e.userInfo,this._visualizationOptions=e.visualizationOptions,this.faceDetectionRegion=e.faceDetectionRegion,this.faceDetectionSamplingInterval=e.faceDetectionSamplingInterval,Ce.isMobile?On?this._presetFormat=gt.sd480x360:this._presetFormat=gt.hd1280x720:this._presetFormat=gt.hd1920x1080,e.customConditionRange!==void 0&&(this.customConditionRange=e.customConditionRange),e.checkBrightness!==void 0?this.checkBrightness=e.checkBrightness:(Ce.isAndroid&&(console.log("[VitalSignCamera] Android detected. Turn off brightness check."),this.checkBrightness=!1),e.faceDetectorType===Oe.Dummy&&(console.log("[VitalSignCamera] Dummy face detector being used. Turn off brightness check."),this.checkBrightness=!1)),e.faceDetectorType!==void 0?(console.log(`[VitalSignCamera] Setting face detector type ${e.faceDetectorType}...`),this.faceDetectorType=e.faceDetectorType):(console.log("[VitalSignCamera] Auto setting face detector type..."),Ce.isAndroid?(console.log("[VitalSignCamera] Android detected"),console.log("[VitalSignCamera] Setting new MediaPipe face detector"),this.faceDetectorType=Oe.MPFaceMesh):Ce.isIOS&&rn(Ce.browserVersion,"18.0")<0?(console.log("[VitalSignCamera] Setting new MediaPipe facemesh detector"),this.faceDetectorType=Oe.MPFaceMesh):(console.log("[VitalSignCamera] Setting new MediaPipe facemesh threaded detector"),this.faceDetectorType=Oe.MPFaceMeshThreaded)),e.presetFormat!==void 0&&(this._presetFormat=e.presetFormat),e.maxFps!==void 0?(console.log(`[VitalSignCamera] Setting max camera fps to ${e.maxFps}`),this.maxFps=e.maxFps):(this.maxFps=On?30:60,console.log(`[VitalSignCamera] Auto setting max camera fps to ${this.maxFps}`)),e.maxFaceDetectionFps!==void 0?(console.log(`[VitalSignCamera] Setting max face detection fps to ${e.maxFaceDetectionFps}`),this.maxFaceDetectionFps=e.maxFaceDetectionFps):On||Ce.isAndroid?(this.maxFaceDetectionFps=2,console.log(`[VitalSignCamera] Mobile phone or Android detected, auto setting max face detection fps to ${this.maxFaceDetectionFps}`)):(this.maxFaceDetectionFps=5,console.log(`[VitalSignCamera] Auto setting max face detection fps to ${this.maxFaceDetectionFps}`)),((n=e.config)==null?void 0:n.blinkDetectorType)===on.default&&(console.log("[VitalSignCamera] Blink detector enabled, forcing face detection fps to 15"),this.maxFaceDetectionFps=Math.max(15,this.maxFaceDetectionFps)),e.disableAgeEstimation!==void 0?(console.log(`[VitalSignCamera] Setting age estimation: ${!e.disableAgeEstimation}`),this.disableAgeEstimation=e.disableAgeEstimation):(console.log("[VitalSignCamera] Auto setting age estimation..."),On?(console.log("[VitalSignCamera] is phone -> ageEstimation = false"),this.disableAgeEstimation=!0):(console.log("[VitalSignCamera] Not phone -> ageEstimation = true"),this.disableAgeEstimation=!1)),e.enableBeautyAnalysis!==void 0?(console.log(`[VitalSignCamera] Setting beauty analysis: ${e.enableBeautyAnalysis}`),this.enableBeautyAnalysis=e.enableBeautyAnalysis,this.enableBeautyAnalysis&&this.disableAgeEstimation&&(console.log("[VitalSignCamera] Beauty analysis ON -> Forcing ageEstimation = true"),this.disableAgeEstimation=!1)):this.enableBeautyAnalysis=!1;const i=this.disableAgeEstimation,s=this.enableBeautyAnalysis;this.onVideoFrameProcessed=e.onVideoFrameProcessed,this.onVideoSettingsUpdated=e.onVideoSettingsUpdated,this.onCameraDevicesUpdated=e.onCameraDevicesUpdated,this.onInitialized=e.onInitialized,this.onPrecisionModeUpdated=e.onPrecisionModeUpdated,this.onPrecisionModeWillUpdate=e.onPrecisionModeWillUpdate,this.onError=e.onError,this.vitalSignEngine=nh(),this.roiExtractor=Vs(this.faceDetectionSamplingInterval,this.config),this.sdkCredentials=e.sdkCredentials,this.conditionChecker=Sh(this.vitalSignEngine,e.conditionCheckerConfig,this.customConditionRange),e.precisionMode!==void 0&&(this.precisionMode=e.precisionMode),this.cameraDevices=new Eh(this,l=>{this.onCameraDevicesUpdated&&this.onCameraDevicesUpdated({devices:l,selected:this.device})}),this.cameraDevices.start(),(async()=>{var l;try{i||(this.ageEstimator=await Rh(e.faceApiModelPath),this.ageEstimator.configure(e.ageEstimationConfig)),s&&(this.beautyAnalyzer=await Bh({apiKey:(l=e.config)==null?void 0:l.apiKey})),this.faceDetector=await this.createFaceDetector(e.faceDetectionModelLocation),this.onInitialized&&this.onInitialized();const o=(new Date().getTime()-r.getTime())/1e3;console.log(`[VitalSignCamera] initialized. Loading time ${o}s.`)}catch(o){console.error(o),console.log("[VitalSignCamera] initialization failed."),this.onError&&this.onError(o),this.camera&&this.cameraStartTime&&this.stopCamera()}})()}async createFaceDetector(e){try{console.log("[VitalSignCamera] Model loading location: ",e);let n=await Ps(this.faceDetectorType);return await n.loadModels(e),n}catch(n){if(this.faceDetectorType==Oe.MPFaceMeshThreaded)return console.warn("[VitalSignCamera] Failed to initialize MediaPipe FaceMesh threaded detector. Falling back to non-threaded version."),this.faceDetectorType=Oe.MPFaceMesh,await this.createFaceDetector(e);throw n}}bind(e){this.video=e,this.video.setAttribute("autoplay","true"),this.video.setAttribute("playsinline",""),this.config&&(this.vitalSignEngine.configure(this.config),this.vitalSignEngine.isReady()),this.faceDetectorType===Oe.TFMediaPipe&&this.vitalSignEngine.configure({blinkDetectorType:on.default}),this.isActive=this.activateAfterBound}set device(e){const n=this.isActive;this._device&&this._device.length>0&&this._device!==e&&this.stopCamera(),this._device=e,e?n&&this.startCamera():this.stopCamera()}get device(){return this._device}set isActive(e){e?this.startCamera():this.stopCamera()}get isActive(){return this._isActive}set presetFormat(e){if(this._presetFormat===e)return;const n=this.isActive;this.stopCamera(),this._presetFormat=e,n&&this.startCamera()}get presetFormat(){return this._presetFormat}set config(e){this._config={...this._config},Object.keys(e).forEach(n=>{const r=n;e[r]!==void 0&&(this._config[r]=e[r])}),this.config&&(this.vitalSignEngine.configure(this.config),this.roiExtractor=Vs(this.faceDetectionSamplingInterval,this.config))}get config(){let e={...this._config};const n=new URLSearchParams(location.search).get("PANOPTIC_API_KEY");return n&&(e.apiKey=n),e}set userInfo(e){this._userInfo={...this._userInfo},Object.keys(e).forEach(n=>{const r=n;e[r]!==void 0&&(this._userInfo[r]=e[r])})}get userInfo(){let e={...this._userInfo};const n=new URLSearchParams(location.search).get("PANOPTIC_USER_ID");return n&&(e.userId=n),e}get sdkCredentials(){if(!(!this.config.apiKey&&!this.userInfo.userId))return{apiKey:this.config.apiKey,userId:this.userInfo.userId}}set sdkCredentials(e){e!=null&&e.apiKey&&(this.config={apiKey:e==null?void 0:e.apiKey}),e!=null&&e.userId&&(this.userInfo={userId:e==null?void 0:e.userId})}get precisionMode(){return this._precisionMode}set precisionMode(e){if(!e)return;this._precisionMode!==e&&(this.onPrecisionModeUpdated&&this.onPrecisionModeUpdated({previousMode:this._precisionMode,currentMode:e,reason:"manual"}),this.precisionModeChecker.reset()),this._precisionMode=e;const n=lo(e);this.config=n.engineConfig,this.vitalSignEngine.configure(this.config),n.conditionCheckerConfig&&this.conditionChecker.configure(n.conditionCheckerConfig),n.presetFormat&&(this.presetFormat=n.presetFormat)}set faceDetectionResult(e){var n,r,i,s;this._faceDetectionResult=e,(n=this.faceDetectionResult)!=null&&n.videoFrame.width&&(r=this.faceDetectionResult)!=null&&r.videoFrame.height&&(this.videoFrameInfo={timestamp:performance.now(),width:(i=this.faceDetectionResult)==null?void 0:i.videoFrame.width,height:(s=this.faceDetectionResult)==null?void 0:s.videoFrame.height})}get faceDetectionResult(){return this._faceDetectionResult}get videoSettings(){return this._videoSettings}set videoSettings(e){if(this._videoSettings=e,e&&this.video){if(!this.onVideoSettingsUpdated)return;this.onVideoSettingsUpdated({video:this.video,settings:e})}}get visualizationOptions(){return this._visualizationOptions}set visualizationOptions(e){var n,r;if(this._visualizationOptions=e,!this.isActive)return;const i=(e==null?void 0:e.boundingBox)&&e.boundingBox.enabled!==!1;i&&!this.boundingBox&&this.video&&(this.boundingBox=new Bs(this.video,(n=this._visualizationOptions)==null?void 0:n.boundingBox)),!i&&this.boundingBox&&(this.boundingBox.enabled=!1,this.boundingBox=void 0),this.boundingBox&&e!=null&&e.boundingBox&&this.boundingBox.updateOptions(e==null?void 0:e.boundingBox);const s=(e==null?void 0:e.faceMesh)&&e.faceMesh.enabled!==!1;s&&!this.faceMesh&&this.video&&(this.faceMesh=new Ls(this.video,(r=this._visualizationOptions)==null?void 0:r.faceMesh)),!s&&this.faceMesh&&(this.faceMesh.destroy(),this.faceMesh=void 0),this.faceMesh&&e!=null&&e.faceMesh&&this.faceMesh.updateOptions(e==null?void 0:e.faceMesh)}get faceMeshElement(){var e;return(e=this.faceMesh)==null?void 0:e.faceMesh}get boundingBoxElement(){var e;return(e=this.boundingBox)==null?void 0:e.boundingBox}get faceDetectionRegionAbs(){if(!this.faceDetectionRegion||!this.videoSettings)return;const{x:e,y:n,width:r,height:i}=this.faceDetectionRegion,s=this.videoSettings.width,l=this.videoSettings.height;return{x:typeof e=="string"?parseFloat(e)/100*s:e,y:typeof n=="string"?parseFloat(n)/100*l:n,width:typeof r=="string"?parseFloat(r)/100*s:r,height:typeof i=="string"?parseFloat(i)/100*l:i}}get processedFrame(){var e,n,r,i,s,l,o;if(this.videoFrameInfo===null||!this.videoFrame)return;const u=this.healthResult;return u!=null&&u.health&&(u.health.beautyAnalysis=(e=this.beautyAnalyzer)==null?void 0:e.result,u.health.vitalSigns={...u.health.vitalSigns,facialSkinAge:((r=(n=this.beautyAnalyzer)==null?void 0:n.result)==null?void 0:r.skinAge)||((s=(i=this.ageEstimator)==null?void 0:i.estimation)==null?void 0:s.age)}),{videoFrameInfo:this.videoFrameInfo,videoFrame:this.videoFrame,facebox:(l=this.faceDetectionResult)==null?void 0:l.faceBox,healthResult:u,scanConditions:this.conditionChecker.conditions,landmarks:(o=this.faceDetectionResult)==null?void 0:o.landmarks}}updateVideoSettings(e){if(!e||!e.srcObject)return this.videoSettings=void 0,"not-ready";const n=e.srcObject.id,r=e.srcObject.getVideoTracks()[0].getSettings(),{width:i,height:s,frameRate:l}=r;return i===void 0||s===void 0?"undefined":(console.log(`[VitalSignCamera] Video Settings in ${Ce.browserName}: ${i}x${s} @ ${l} fps`),this.transform=gh(e),e.style.transform=this.transform,this.onTransformUpdated&&this.onTransformUpdated(this.transform),this.videoSettings={videoId:n,width:e.videoWidth||i,height:e.videoHeight||s,transformX:this.transform},"ok")}startCamera(){var e,n;this._isActive||(this._isActive=!0,this.processVideoFrame(),(e=this.visualizationOptions)!=null&&e.boundingBox&&this.visualizationOptions.boundingBox.enabled!==!1&&!this.boundingBox&&this.video&&(this.boundingBox=new Bs(this.video,this.visualizationOptions.boundingBox)),(n=this.visualizationOptions)!=null&&n.faceMesh&&this.visualizationOptions.faceMesh.enabled!==!1&&!this.faceMesh&&this.video&&(this.faceMesh=new Ls(this.video,this.visualizationOptions.faceMesh)))}async stopCamera(){var e,n;this._isActive&&(this._isActive=!1,this.vitalSignEngine.stop(),(e=this.boundingBox)==null||e.update(void 0),(n=this.faceMesh)==null||n.update(void 0),this.faceDetectionResult=void 0,this.videoFrame=void 0,this.boundingBox&&(this.boundingBox.enabled=!1,this.boundingBox=void 0),this.faceMesh&&(this.faceMesh.destroy(),this.faceMesh=void 0),this.video&&this.stopVideo(),this.conditionChecker.reset(),this.camera&&(await this.camera.stop(),this.cameraStartTime=void 0))}async waitCameraToStop(e){return this.camera?await this.camera.waitUntilStopped(e):!0}async stopVideo(){const e=this.video;e.srcObject&&e.srcObject.getVideoTracks().forEach(n=>n.stop()),this.vitalSignEngine.stop(),clearInterval(this.faceDetectionTimer),this.faceDetectionTimer=void 0,console.log("[VitalSignCamera] stop Camera")}startScanning(){console.log("[VitalSignCamera] start scanning..."),this.vsStatus="measuring",this.vitalSignEngine.start()}stopScanning(){console.log("[VitalSignCamera] stop scanning..."),this.vitalSignEngine.stop()}convertFaceBox(e){if(e===void 0)return;if(!this.videoSettings||!this.faceDetectionRegionAbs)return e;const n=(e.xCenter*this.faceDetectionRegionAbs.width+this.faceDetectionRegionAbs.x)/this.videoSettings.width,r=(e.yCenter*this.faceDetectionRegionAbs.height+this.faceDetectionRegionAbs.y)/this.videoSettings.height,i=e.width*this.faceDetectionRegionAbs.width/this.videoSettings.width,s=e.height*this.faceDetectionRegionAbs.height/this.videoSettings.height;return{xCenter:n,yCenter:r,width:i,height:s}}convertLandmarks(e){if(e===void 0)return;if(this.videoSettings===void 0||!this.faceDetectionRegionAbs)return e;const n=this.videoSettings,r=this.faceDetectionRegionAbs;return e.map(i=>{const s=(i.x*r.width+r.x)/n.width,l=(i.y*r.height+r.y)/n.height,o=i.z;return{x:s,y:l,z:o}})}async processVideoFrame(){const e=this.video,{width:n,height:r}=ih(this.presetFormat||gt.hd1920x1080);this.precisionModeChecker.reset();const i=new ch(e,{width:n,height:r,deviceId:this.device,preferredCamera:this.preferredCamera,callbackFrameRate:this.maxFps,handleIOS17Bug:Ce.isIOS&&rn(Ce.browserVersion,"17")>=0,handleIOS17ObjectFitBug:Ce.isIOS&&rn(Ce.browserVersion,"17.2")>=0,onFrame:f=>{var h,b,m,v,x,g,k,_,R;if(i.croppingRegion=this.faceDetectionRegionAbs,this.cameraStartTime===void 0)return;const E=new Date().getTime()-this.cameraStartTime.getTime();if((((h=this.videoSettings)==null?void 0:h.width)!=e.videoWidth||((b=this.videoSettings)==null?void 0:b.height)!=e.videoHeight)&&this.updateVideoSettings(e)!=="ok"&&E>5e3){console.error("[VitalSignCamera] Could not get camera settings."),i.stop(),this.onError&&this.onError(new Error("undefined camera dimension"));return}if(this.cameraFps.tick(),this.faceDetectionResult==null)return;this.conditionChecker.processFrame(this.faceDetectionResult.videoFrame,(m=this.faceDetectionResult)==null?void 0:m.faceBox,this.vsStatus==="idle"?this.checkBrightness:!1,this.cameraFps.average,this.vsStatus),this.precisionModeChecker.process(this.cameraFps.average,this.vsStatus);const{images:T}=this.roiExtractor.processFrame(f,this.faceDetectionResult,this.vsStatus);this.videoFrame=f;const B=this.faceDetectionResult.faceBox,H={faceBox:B,landmarks:this.faceDetectionResult.landmarks,videoFrameInfo:f,images:T,userInfo:this.userInfo},L=this.vitalSignEngine.getHealth(H);if(this.healthResult=L,this.vsStatus==="measuring"&&(L.stage===ge.Idle&&(this.vsStatus="idle",this.vitalSignEngine.stop(),L.error&&this.onError&&this.onError(L.error)),(v=this.ageEstimator)==null||v.processFrame(f,L.stage,L.remainingTime),(k=this.beautyAnalyzer)==null||k.processFrame(f,B,(g=(x=this.ageEstimator)==null?void 0:x.estimation)==null?void 0:g.age,L.stage,L.remainingTime)),this.boundingBox){const X=this.convertFaceBox((_=this.faceDetectionResult)==null?void 0:_.faceBox);this.boundingBox.update(X)}if(this.faceMesh){const X=this.convertLandmarks((R=this.faceDetectionResult)==null?void 0:R.landmarks);this.faceMesh.update(X)}this.processedFrame&&this.onVideoFrameProcessed&&this.onVideoFrameProcessed(this.processedFrame)}});try{i.croppingRegion=this.faceDetectionRegionAbs,await i.start(),this.updateVideoSettings(e),this._device=i.deviceId,this.cameraStartTime=new Date}catch(f){console.error("[VitalSignCamera] Could not start camera: ",f),this.onError&&this.onError(f);return}let s=!1;const l=3;let o=0;const u=document.createElement("canvas");this.faceDetectionTimer=setInterval(async()=>{if(this.faceDetector===void 0||!this.faceDetectionTimer||this.cameraFps.frameCount==0||s||!e.srcObject||this.videoSettings===void 0)return;const f=this.videoSettings;s=!0;const h=this.faceDetectionRegionAbs||{x:0,y:0,width:f.width,height:f.height},b=h.width/h.height;if(u.width=b>1?320:320*b,u.height=u.width/b,this.faceDetectorType!==Oe.Dummy){let m=u.getContext("2d",{willReadFrequently:!0});m==null||m.drawImage(e,h.x,h.y,h.width,h.height,0,0,u.width,u.height)}try{this.faceDetector.detect({image:u}).then(m=>{this.faceDetectionFps.tick(),this.faceDetectionResult={...m,faceDetectionRegion:h}})}catch(m){o++,console.error(`Face detector crashed: ${m}`),console.log(`Face detector crash count: ${o}`),o>l&&(console.log(`Face detector crashed ${o} times, falling back to dummy detector.`),this.faceDetectorType=Oe.Dummy,this.faceDetector=await Ps(this.faceDetectorType))}s=!1},1e3/this.maxFaceDetectionFps),this.camera=i}}function Yh(t){return new qh(t)}var At=(t=>(t.OK="ok",t.TooFar="tooFar",t.TooClose="tooClose",t))(At||{}),et=(t=>(t.Centered="centered",t.TooHigh="tooHigh",t.TooLow="tooLow",t.TooLeft="tooLeft",t.TooRight="tooRight",t.Unknown="unknown",t))(et||{}),at=(t=>(t.relaxed="relaxed",t.strict="strict",t))(at||{});const Gh=Ft({setup(){},props:{precisionMode:String,isActive:{type:Boolean,required:!0},userInfo:{type:Object,required:!0},config:{type:Object},sdkCredentials:{type:Object},device:String,faceDetectorType:Number,presetFormat:Number,checkBrightness:{type:Boolean,default:void 0},maxFps:Number,maxFaceDetectionFps:Number,faceDetectionSamplingInterval:Number,preferredCamera:String,disableAgeEstimation:{type:Boolean,default:void 0},enableBeautyAnalysis:{type:Boolean,default:void 0},visualizationOptions:Object,customConditionRange:Object,faceDetectionRegion:Object,faceDetectionModelLocation:{type:String,default:void 0}},emits:{onVideoFrameProcessed:t=>!0,onVideoSettingsUpdated:t=>!0,onCameraDevicesUpdated:t=>!0,onPrecisionModeUpdated:t=>!0,onPrecisionModeWillUpdate:t=>!0,onInitialized:()=>!0,onError:t=>!0},data(){console.log(this.$props);const t=Yh({...this.$props,onVideoFrameProcessed:e=>{this.$emit("onVideoFrameProcessed",e)},onVideoSettingsUpdated:e=>{this.$emit("onVideoSettingsUpdated",e)},onCameraDevicesUpdated:e=>{this.$emit("onCameraDevicesUpdated",e)},onPrecisionModeUpdated:e=>{this.$emit("onPrecisionModeUpdated",e)},onPrecisionModeWillUpdate:e=>{this.$emit("onPrecisionModeWillUpdate",e)},onInitialized:()=>{this.$emit("onInitialized")},onError:e=>{this.$emit("onError",e)}});return{vscam:ua(t)}},mounted(){window.__vital_sign_camera__=this;let t=this.$refs.video;this.vscam.bind(t)},watch:{device(t){this.vscam.device=t},isActive(t){this.vscam.isActive=t},config(t){this.vscam.config=t},maxFps(t){this.vscam.maxFps=t},userInfo(t){this.vscam.userInfo=t},visualizationOptions(t){this.vscam.visualizationOptions=t},faceDetectionRegion(t){this.vscam.faceDetectionRegion=t},customConditionRange(t){this.vscam.customConditionRange=t},precisionMode(t){this.vscam.precisionMode=t}},methods:{startScanning(){this.vscam.startScanning()},stopScanning(){this.vscam.stopScanning()},setFaceDetectionRegion(t){this.vscam.faceDetectionRegion=t},setCustomConditionRange(t){this.vscam.customConditionRange=t}}}),Qh=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Xh={ref:"video",autoplay:"true",playsinline:""};function Jh(t,e,n,r,i,s){return le(),Be("video",Xh,null,512)}const Zh=Qh(Gh,[["render",Jh],["__scopeId","data-v-e4928fd3"]]),ef={class:"container"},tf={class:"countdown"},nf={class:"text"},rf=Ft({__name:"StatusView",props:{healtResult:Object},setup(t){const e=t,n=ft(()=>e.healtResult?e.healtResult.remainingTime.toFixed(0):"-1"),r=ft(()=>{var s;let i="";switch((s=e.healtResult)==null?void 0:s.stage){case ge.CollectingData:i="Scanning...";break;case ge.AnalyzingData:i="Analyzing...";break;case ge.WaitingData:i="Loading...";break}return i});return(i,s)=>(le(),Be("div",ef,[se("p",tf,rt(n.value),1),se("p",nf,rt(r.value),1)]))}}),Wt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},sf=Wt(rf,[["__scopeId","data-v-a76e5026"]]),af="data:image/svg+xml,%3csvg%20width='25'%20height='21'%20viewBox='0%200%2025%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.39286%2020.6451L25%203.99999L21.3526%200.580017L9.1339%2013.6113L3.38607%208.32106L0%2012L9.39099%2020.6434L9.39285%2020.6452L9.39286%2020.6451Z'%20fill='%2300C000'/%3e%3c/svg%3e",of="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.24148%209.95053L1.54214e-05%2016.3148L3.56982%2019.8157L9.72575%2013.5387L16%2020L19.5871%2016.5168L13.2277%209.9678L19.5698%203.50092L16%200L9.74345%206.37965L3.58708%200.0397339L0%203.52296L6.24148%209.95053Z'%20fill='%23FF0000'/%3e%3c/svg%3e",lf={key:0,src:af},cf={key:1,src:of},df=Ft({__name:"ConditionIcon",props:{fulfilled:Boolean},setup(t){return(e,n)=>t.fulfilled?(le(),Be("img",lf)):(le(),Be("img",cf))}}),qt=Wt(df,[["__scopeId","data-v-febd1d23"]]),uf={key:0,class:"container"},hf={class:"condition"},ff={class:"condition"},gf={class:"condition"},pf={class:"condition"},mf={class:"condition"},bf={class:"condition"},vf=Ft({__name:"ConditionChecklist",props:{conditions:{}},setup(t){const e=t,n=ft(()=>e.conditions===void 0?"Distance":e.conditions.distanceCondition==At.TooClose?"Too close":e.conditions.distanceCondition==At.TooFar?"Too far":"Distance"),r=ft(()=>{var i;switch((i=e.conditions)==null?void 0:i.facePositionCondition){case et.Centered:return"Centered";case et.TooHigh:return"Too High";case et.TooLow:return"Too Low";case et.TooLeft:return"Too Left";case et.TooRight:return"Too Right";default:return"Centered"}});return(i,s)=>t.conditions?(le(),Be("div",uf,[s[3]||(s[3]=se("div",{class:"section"},"Scanning Conditions",-1)),se("p",hf,[ve(qt,{class:"icon",fulfilled:t.conditions.lighting},null,8,["fulfilled"]),s[0]||(s[0]=yt(" Lighting ",-1))]),se("p",ff,[ve(qt,{class:"icon",fulfilled:t.conditions.distance},null,8,["fulfilled"]),yt(" "+rt(n.value),1)]),se("p",gf,[ve(qt,{class:"icon",fulfilled:t.conditions.centered},null,8,["fulfilled"]),yt(" "+rt(r.value),1)]),se("p",pf,[ve(qt,{class:"icon",fulfilled:t.conditions.movement},null,8,["fulfilled"]),s[1]||(s[1]=yt(" Movement ",-1))]),se("p",mf,[ve(qt,{class:"icon",fulfilled:t.conditions.frameRate},null,8,["fulfilled"]),yt(" Frame Rate ("+rt(t.conditions.fps.toFixed(2))+") ",1)]),se("p",bf,[ve(qt,{class:"icon",fulfilled:t.conditions.serverReady},null,8,["fulfilled"]),s[2]||(s[2]=yt(" Server Ready ",-1))])])):De("",!0)}}),wf=Wt(vf,[["__scopeId","data-v-cb89ff2b"]]),yf={class:"vitalSign"},kf={class:"vitalSignName"},xf={class:"vitalSignValueView"},Sf={class:"vitalSignValue"},_f=Ft({__name:"VitalSigns",props:{name:String,value:[Number,String,Boolean]},setup(t){return(e,n)=>(le(),Be("div",yf,[se("div",kf,rt(t.name),1),se("div",xf,[se("div",Sf,rt(t.value),1)])]))}}),Re=Wt(_f,[["__scopeId","data-v-0b989030"]]),Df={key:0,class:"container"},Ef={key:12,class:"section"},Rf={key:13,class:"section"},Cf={key:14,class:"section"},Tf=Ft({__name:"HealthResultView",props:{healthResult:Object,showResult:Boolean},emits:["hideResult"],setup(t,{emit:e}){const n=e,r=t,i=ft(()=>{var f;return(f=r.healthResult)==null?void 0:f.vitalSigns}),s=ft(()=>{var f;return(f=r.healthResult)==null?void 0:f.holisticHealth}),l=ft(()=>{var f,h;return(h=(f=r.healthResult)==null?void 0:f.risks)==null?void 0:h.cardiovascularRisks}),o=ft(()=>{var f,h;return(h=(f=r.healthResult)==null?void 0:f.risks)==null?void 0:h.covidRisk});function u(){n("hideResult")}return(f,h)=>{var b,m,v,x,g,k,_,R,E,T,B,H,L,X,be,Z,Y;return t.showResult?(le(),Be("div",Df,[se("div",{class:"close",onClick:u},"[x]"),hc(f.$slots,"default",{},void 0),h[3]||(h[3]=se("div",{class:"section"},"Vital Signs",-1)),ve(Re,{name:"Heart Rate",value:(b=i.value)==null?void 0:b.heartRate},null,8,["value"]),ve(Re,{name:"SPO2",value:(m=i.value)==null?void 0:m.spo2},null,8,["value"]),ve(Re,{name:"IBI",value:(v=i.value)==null?void 0:v.ibi},null,8,["value"]),(x=i.value)!=null&&x.stress?(le(),Ie(Re,{key:0,name:"Stress",value:i.value.stress},null,8,["value"])):De("",!0),(g=i.value)!=null&&g.respiratoryRate?(le(),Ie(Re,{key:1,name:"Respiratory Rate",value:i.value.respiratoryRate},null,8,["value"])):De("",!0),(k=i.value)!=null&&k.hrvRmssd?(le(),Ie(Re,{key:2,name:"HRV RMSSD",value:i.value.hrvRmssd},null,8,["value"])):De("",!0),(_=i.value)!=null&&_.hrvSdnn?(le(),Ie(Re,{key:3,name:"HRV SDNN",value:i.value.hrvSdnn},null,8,["value"])):De("",!0),(R=i.value)!=null&&R.temperature?(le(),Ie(Re,{key:4,name:"Temperature",value:i.value.temperature},null,8,["value"])):De("",!0),(E=i.value)!=null&&E.bloodPressure?(le(),Ie(Re,{key:5,name:"BloodPressure",value:i.value.bloodPressure},null,8,["value"])):De("",!0),(T=i.value)!=null&&T.bloodPressureSystolic?(le(),Ie(Re,{key:6,name:"Blood Pressure Systolic",value:i.value.bloodPressureSystolic},null,8,["value"])):De("",!0),(B=i.value)!=null&&B.bloodPressureDiastolic?(le(),Ie(Re,{key:7,name:"Blood Pressure Diastolic",value:i.value.bloodPressureDiastolic},null,8,["value"])):De("",!0),(H=i.value)!=null&&H.facialSkinAge?(le(),Ie(Re,{key:8,name:"Facial Skin Age",value:i.value.facialSkinAge},null,8,["value"])):De("",!0),(L=i.value)!=null&&L.bloodAlcohol?(le(),Ie(Re,{key:9,name:"Blood Alcohol",value:i.value.bloodAlcohol},null,8,["value"])):De("",!0),(X=i.value)!=null&&X.bloodSugar?(le(),Ie(Re,{key:10,name:"Blood Sugar",value:i.value.bloodSugar},null,8,["value"])):De("",!0),h[4]||(h[4]=se("div",{class:"section"},"Holistic Analysis",-1)),ve(Re,{name:"BMI",value:(be=s.value)==null?void 0:be.bmi},null,8,["value"]),(Z=s.value)!=null&&Z.generalWellness?(le(),Ie(Re,{key:11,name:"General Wellness",value:s.value.generalWellness},null,8,["value"])):De("",!0),l.value?(le(),Be("div",Ef,[h[0]||(h[0]=se("div",{class:"section"},"Cardiovascular Risk",-1)),ve(Re,{name:"General",value:l.value.generalRisk},null,8,["value"]),ve(Re,{name:"Congestive Heart Failure",value:l.value.congestiveHeartFailure},null,8,["value"]),ve(Re,{name:"Coronary Heart Disease",value:l.value.coronaryHeartDisease},null,8,["value"]),ve(Re,{name:"Intermittent Claudification",value:l.value.intermittentClaudication},null,8,["value"]),ve(Re,{name:"Stroke",value:l.value.stroke},null,8,["value"])])):De("",!0),o.value?(le(),Be("div",Rf,[h[1]||(h[1]=se("div",{class:"sec"},"Covid",-1)),ve(Re,{name:"Risk",value:o.value.covidRisk},null,8,["value"])])):De("",!0),(Y=t.healthResult)!=null&&Y.scanParameters?(le(),Be("div",Cf,[h[2]||(h[2]=se("div",{class:"sec"},"Scan Parameters",-1)),ve(Re,{name:"Signal Quality",value:t.healthResult.scanParameters.signalQuality},null,8,["value"])])):De("",!0)])):De("",!0)}}}),Af=Wt(Tf,[["__scopeId","data-v-6d53e60b"]]),Mf={class:"modal-body"},If=Ft({__name:"PrecisionModeModal",props:{event:{}},emits:["close","confirm"],setup(t,{emit:e}){const n=t,r=e;function i(){n.event.response("wait"),r("close")}function s(){n.event.response("proceed"),r("confirm")}return(l,o)=>(le(),Be("div",{class:"modal-overlay",onClick:i},[se("div",{class:"modal-content",onClick:o[0]||(o[0]=Dd(()=>{},["stop"]))},[se("div",{class:"modal-header"},[o[1]||(o[1]=se("h3",null,"Low frame rate detected.",-1)),se("button",{class:"close-button",onClick:i},"")]),se("div",Mf,[se("p",null,"Do you want to change the precision mode from '"+rt(t.event.currentMode)+"' to '"+rt(t.event.newMode)+"'?",1)]),se("div",{class:"modal-footer"},[se("button",{class:"btn btn-secondary",onClick:i},"Wait"),se("button",{class:"btn btn-primary",onClick:s},"Proceed")])])]))}}),Pf=Wt(If,[["__scopeId","data-v-b04ec959"]]),Ff={id:"screen"},Of={key:0,class:"loading"},Bf=["disabled"],Lf={key:4,class:"settings"},Uf={id:"options"},Vf=["value"],Nf=["value"],$f=["value"],Hf={key:6,class:"error"},Wf=Ft({__name:"App",setup(t){const e=Je(!0),n=Je(void 0),r=Je(void 0),i=Je(void 0),s={apiKey:"yqO4Bd3Bt32TE1QXgJX3zaVoUojpnyHV925crje8",userId:"07a51b41-e1a4-4570-94a7-04ef371cc4f3"},l=nr({age:30,gender:Ka.Male,waistCircumference:30,weight:50,height:170}),o=Je(!1),u=Je(!1),f=Je(at.strict),h=Je(void 0),b=Je([]),m=Je(void 0),v=Je(!1),x=Je(void 0),g=Je(null),k=ft(()=>({boundingBox:{color:"red"},faceMesh:{color:"lightgreen"}}));function _(){g.value!==null&&(g.value.startScanning(),o.value=!0)}function R(Z){const{scanConditions:Y}=Z;i.value=Y,n.value=Z.healthResult,r.value=Z.videoFrameInfo,u.value=Y!==void 0&&Y.centered&&Y.distance&&Y.serverReady&&Y.frameRate&&Y.lighting&&Y.movement}function E(Z){b.value=Z.devices,Z.selected&&Z.selected!==""&&(m.value=Z.selected)}function T(Z){h.value=Z}function B(Z){f.value=Z.currentMode}function H(){v.value=!0}function L(Z){x.value=Z}function X(){x.value=void 0}function be(){o.value=!1,n.value&&(n.value.health=void 0)}return(Z,Y)=>{var he,ke,Me;return le(),Be("div",Ff,[ve(Yt(Zh),{ref_key:"vscam",ref:g,device:m.value,class:"camera",isActive:e.value,precisionMode:f.value,userInfo:l,sdkCredentials:s,visualizationOptions:k.value,onOnVideoFrameProcessed:R,onOnCameraDevicesUpdated:E,onOnInitialized:H,onOnError:L,onOnPrecisionModeUpdated:B,onOnPrecisionModeWillUpdate:T},null,8,["device","isActive","precisionMode","userInfo","visualizationOptions"]),v.value?De("",!0):(le(),Be("div",Of,[...Y[5]||(Y[5]=[se("span",{class:"loader"},null,-1),yt("Loading...",-1)])])),n.value&&n.value.stage==3?(le(),Be("button",{key:1,class:"startButton startText",onClick:_,disabled:!u.value}," Start ",8,Bf)):De("",!0),n.value&&n.value.stage!==Yt(ge).Idle?(le(),Ie(sf,{key:2,healtResult:n.value},null,8,["healtResult"])):De("",!0),i.value!==void 0&&!o.value?(le(),Ie(wf,{key:3,conditions:i.value},null,8,["conditions"])):De("",!0),((he=n.value)==null?void 0:he.stage)==Yt(ge).Idle?(le(),Be("div",Lf,[se("div",Uf,[Y[8]||(Y[8]=se("label",null,"Precision Mode:",-1)),se("div",null,[br(se("input",{type:"radio",id:"strict",value:Yt(at).strict,"onUpdate:modelValue":Y[0]||(Y[0]=ce=>f.value=ce)},null,8,Vf),[[Zi,f.value]]),Y[6]||(Y[6]=se("label",{for:"strict"},"Strict",-1))]),se("div",null,[br(se("input",{type:"radio",id:"relaxed",value:Yt(at).relaxed,"onUpdate:modelValue":Y[1]||(Y[1]=ce=>f.value=ce)},null,8,Nf),[[Zi,f.value]]),Y[7]||(Y[7]=se("label",{for:"relaxed"},"Relaxed",-1))])]),br(se("select",{class:"cameraSelection","onUpdate:modelValue":Y[2]||(Y[2]=ce=>m.value=ce)},[(le(!0),Be(tt,null,uc(b.value,ce=>(le(),Be("option",{value:ce.id,key:ce.id},rt(ce.label),9,$f))),128))],512),[[xd,m.value]])])):De("",!0),(ke=n.value)!=null&&ke.health?(le(),Ie(Af,{key:5,healthResult:(Me=n.value)==null?void 0:Me.health,showResult:o.value,onHideResult:be},null,8,["healthResult","showResult"])):De("",!0),x.value?(le(),Be("div",Hf,[yt(rt(x.value),1),se("button",{onClick:X},"Dismiss")])):De("",!0),h.value?(le(),Ie(Pf,{key:7,onClose:Y[3]||(Y[3]=ce=>h.value=void 0),onConfirm:Y[4]||(Y[4]=ce=>h.value=void 0),event:h.value},null,8,["event"])):De("",!0)])}}}),jf=Wt(Wf,[["__scopeId","data-v-92ff6f55"]]);Cd(jf).mount("#app");export{zf as K,Kf as X,ge as Y,Gf as a,su as b,Yf as c,uh as d,Ms as i,ur as n,qf as r,rh as t};

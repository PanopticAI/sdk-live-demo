(function(){"use strict";(function(){function Y(r,t){if(r===void 0)return;const{data:o,width:n,height:l}=r,d=[],g=[];for(let a=0;a<t;a++)for(let s=0;s<t;s++){const h=Math.floor(s*n/t),f=Math.min(Math.floor((s+1)*n/t),n),i=Math.floor(a*l/t),M=Math.min(Math.floor((a+1)*l/t),l);g.push({startX:h,endX:f,startY:i,endY:M})}for(const a of g){const{startX:s,endX:h,startY:f,endY:i}=a,M=h-s,w=i-f,u=M*w;if(u===0){const e=(f*n+s)*4;d.push([o[e],o[e+1],o[e+2]]);continue}let p=0,m=0,X=0;for(let e=f;e<i;e++){const y=(e*n+s)*4,I=(e*n+h)*4;for(let c=y;c<I;c+=4)p+=o[c],m+=o[c+1],X+=o[c+2]}const z=p/u,D=m/u,x=X/u;d.push([z,D,x])}return d}function v(r){const{imageData:t,size:o}=r;return Y(t,o)}self.onmessage=r=>{const{inputData:t,hash:o}=r.data,n=v(t);self.postMessage({result:n,hash:o})}})()})();
